document.addEventListener('DOMContentLoaded',function(){initializeSidebar();initializeTooltips();initializeTreeview();});function initializeSidebar(){const pushmenuBtn=document.querySelector('[data-widget="pushmenu"]');const body=document.body;const sidebar=document.querySelector('.main-sidebar');if(pushmenuBtn){pushmenuBtn.addEventListener('click',function(e){e.preventDefault();toggleSidebar();});}function toggleSidebar(){if(window.innerWidth<=768){sidebar.classList.toggle('sidebar-open');}else{body.classList.toggle('sidebar-collapse');}}document.addEventListener('click',function(e){if(window.innerWidth<=768&&sidebar.classList.contains('sidebar-open')){if(!sidebar.contains(e.target)&&!pushmenuBtn.contains(e.target)){sidebar.classList.remove('sidebar-open');}}});window.addEventListener('resize',function(){if(window.innerWidth>768){sidebar.classList.remove('sidebar-open');}});}function initializeTooltips(){const tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));tooltipTriggerList.map(function(tooltipTriggerEl){return new bootstrap.Tooltip(tooltipTriggerEl);});}function initializeTreeview(){const treeviewLinks=document.querySelectorAll('.nav-link[data-widget="treeview"], .nav-sidebar .nav-link:has(.fa-angle-left)');treeviewLinks.forEach(link=>{link.addEventListener('click',function(e){e.preventDefault();const parentLi=this.closest('.nav-item');const submenu=parentLi.querySelector('.nav-treeview');const icon=this.querySelector('.fa-angle-left');if(submenu){if(submenu.style.display==='none'||submenu.style.display===''){submenu.style.display='block';parentLi.classList.add('menu-open');if(icon)icon.style.transform='rotate(-90deg)';}else{submenu.style.display='none';parentLi.classList.remove('menu-open');if(icon)icon.style.transform='rotate(0deg)';}const siblingItems=parentLi.parentElement.querySelectorAll('.nav-item');siblingItems.forEach(item=>{if(item!==parentLi){const siblingSubmenu=item.querySelector('.nav-treeview');const siblingIcon=item.querySelector('.fa-angle-left');if(siblingSubmenu){siblingSubmenu.style.display='none';item.classList.remove('menu-open');if(siblingIcon)siblingIcon.style.transform='rotate(0deg)';}}});}});});const currentUrl=window.location.href;const allNavLinks=document.querySelectorAll('.nav-sidebar .nav-link');allNavLinks.forEach(link=>{if(link.href&&currentUrl.includes(link.getAttribute('href'))){link.classList.add('active');const parentTreeview=link.closest('.nav-treeview');if(parentTreeview){parentTreeview.style.display='block';const parentLi=parentTreeview.closest('.nav-item');parentLi.classList.add('menu-open');const parentIcon=parentLi.querySelector('.fa-angle-left');if(parentIcon)parentIcon.style.transform='rotate(-90deg)';}}});}function showModal(modalId){const modalElement=document.getElementById(modalId);if(modalElement){const modal=new bootstrap.Modal(modalElement);modal.show();}}function hideModal(modalId){const modalElement=document.getElementById(modalId);if(modalElement){const modal=bootstrap.Modal.getInstance(modalElement);if(modal){modal.hide();}}}function showToast(message,type='info',duration=5000){toastElement.addEventListener('hidden.bs.toast',function(){this.remove();});}if(typeof $.fn.dataTable!=='undefined'){$.extend(true,$.fn.dataTable.defaults,{"dom":"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>"+"<'row'<'col-sm-12'tr>>"+"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>","language":{"search":"","searchPlaceholder":"Ara...","lengthMenu":"_MENU_ kayıt göster","info":"_TOTAL_ kayıttan _START_ - _END_ arası gösteriliyor","infoEmpty":"Gösterilecek kayıt yok","infoFiltered":"(_MAX_ kayıt içerisinden filtrelendi)","zeroRecords":"Eşleşen kayıt bulunamadı","emptyTable":"Tabloda herhangi bir veri mevcut değil","paginate":{"first":"İlk","last":"Son","next":"Sonraki","previous":"Önceki"}}});}window.AdminBST={showModal:showModal,hideModal:hideModal,showToast:showToast,toggleSidebar:function(){const pushmenuBtn=document.querySelector('[data-widget="pushmenu"]');if(pushmenuBtn){pushmenuBtn.click();}}};