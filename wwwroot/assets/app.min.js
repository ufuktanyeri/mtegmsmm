/* MTEGM SMM Portal - Bundled JavaScript - Generated: 2025-09-21 00:47:16 */
(function(){
/* Source: admin-bootstrap5.min.js */
document.addEventListener('DOMContentLoaded',function(){initializeSidebar();initializeTooltips();initializeTreeview();});function initializeSidebar(){const pushmenuBtn=document.querySelector('[data-widget="pushmenu"]');const body=document.body;const sidebar=document.querySelector('.main-sidebar');if(pushmenuBtn){pushmenuBtn.addEventListener('click',function(e){e.preventDefault();toggleSidebar();});}function toggleSidebar(){if(window.innerWidth<=768){sidebar.classList.toggle('sidebar-open');}else{body.classList.toggle('sidebar-collapse');}}document.addEventListener('click',function(e){if(window.innerWidth<=768&&sidebar.classList.contains('sidebar-open')){if(!sidebar.contains(e.target)&&!pushmenuBtn.contains(e.target)){sidebar.classList.remove('sidebar-open');}}});window.addEventListener('resize',function(){if(window.innerWidth>768){sidebar.classList.remove('sidebar-open');}});}function initializeTooltips(){const tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));tooltipTriggerList.map(function(tooltipTriggerEl){return new bootstrap.Tooltip(tooltipTriggerEl);});}function initializeTreeview(){const treeviewLinks=document.querySelectorAll('.nav-link[data-widget="treeview"], .nav-sidebar .nav-link:has(.fa-angle-left)');treeviewLinks.forEach(link=>{link.addEventListener('click',function(e){e.preventDefault();const parentLi=this.closest('.nav-item');const submenu=parentLi.querySelector('.nav-treeview');const icon=this.querySelector('.fa-angle-left');if(submenu){if(submenu.style.display==='none'||submenu.style.display===''){submenu.style.display='block';parentLi.classList.add('menu-open');if(icon)icon.style.transform='rotate(-90deg)';}else{submenu.style.display='none';parentLi.classList.remove('menu-open');if(icon)icon.style.transform='rotate(0deg)';}const siblingItems=parentLi.parentElement.querySelectorAll('.nav-item');siblingItems.forEach(item=>{if(item!==parentLi){const siblingSubmenu=item.querySelector('.nav-treeview');const siblingIcon=item.querySelector('.fa-angle-left');if(siblingSubmenu){siblingSubmenu.style.display='none';item.classList.remove('menu-open');if(siblingIcon)siblingIcon.style.transform='rotate(0deg)';}}});}});});const currentUrl=window.location.href;const allNavLinks=document.querySelectorAll('.nav-sidebar .nav-link');allNavLinks.forEach(link=>{if(link.href&&currentUrl.includes(link.getAttribute('href'))){link.classList.add('active');const parentTreeview=link.closest('.nav-treeview');if(parentTreeview){parentTreeview.style.display='block';const parentLi=parentTreeview.closest('.nav-item');parentLi.classList.add('menu-open');const parentIcon=parentLi.querySelector('.fa-angle-left');if(parentIcon)parentIcon.style.transform='rotate(-90deg)';}}});}function showModal(modalId){const modalElement=document.getElementById(modalId);if(modalElement){const modal=new bootstrap.Modal(modalElement);modal.show();}}function hideModal(modalId){const modalElement=document.getElementById(modalId);if(modalElement){const modal=bootstrap.Modal.getInstance(modalElement);if(modal){modal.hide();}}}function showToast(message,type='info',duration=5000){toastElement.addEventListener('hidden.bs.toast',function(){this.remove();});}if(typeof $.fn.dataTable!=='undefined'){$.extend(true,$.fn.dataTable.defaults,{"dom":"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>"+"<'row'<'col-sm-12'tr>>"+"<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>","language":{"search":"","searchPlaceholder":"Ara...","lengthMenu":"_MENU_ kayıt göster","info":"_TOTAL_ kayıttan _START_ - _END_ arası gösteriliyor","infoEmpty":"Gösterilecek kayıt yok","infoFiltered":"(_MAX_ kayıt içerisinden filtrelendi)","zeroRecords":"Eşleşen kayıt bulunamadı","emptyTable":"Tabloda herhangi bir veri mevcut değil","paginate":{"first":"İlk","last":"Son","next":"Sonraki","previous":"Önceki"}}});}window.AdminBST={showModal:showModal,hideModal:hideModal,showToast:showToast,toggleSidebar:function(){const pushmenuBtn=document.querySelector('[data-widget="pushmenu"]');if(pushmenuBtn){pushmenuBtn.click();}}};
/* Source: app.min.js */
(function(window,$,Backbone){'use strict';/* Singlethon abstract class */ var SingleView=Backbone.View.extend({},{getInstance:function(context,options){context=context||this;if(!context.instance){context.instance=new this(options);context.instance.render();}return context.instance;},remove:function(context){context=context||this;if(context.instance){context.instance.remove();delete context.instance;}}});/* * Flipbook View * */ var FlipbookView=SingleView.extend({el:'#flipbook',events:{'missing':'_missingEvent','pinch':'_pinchEvent','zoomed':'_zoomedEvent','turned':'_turnedEvent','vmouseover .ui-arrow-control':'_hoverArrowEvent','vmouseout .ui-arrow-control':'_nohoverArrowEvent','vmousedown .ui-arrow-control':'_pressArrowEvent','vmouseup .ui-arrow-control':'_releaseArrowEvent','vmouseover .ui-region':'_mouseoverRegion','vmouseout .ui-region':'_mouseoutRegion','tap .ui-region':'_tapRegion'},initialize:function(){this.events[(Turn.isTouchDevice)?'doubletap':'tap']='_toggleZoomEvent';$(window).keydown($.proxy(this,'_keydownEvent'));$('body').on('tap','.ui-arrow-next-page',$.proxy(this,'_tapNextArrowEvent'));$('body').on('tap','.ui-arrow-previous-page',$.proxy(this,'_tapPreviousArrowEvent'));this.$el.tooltips({selector:'.ui-region',className:'ui-tooltip ui-region-tooltip'});},render:function(){var settings=window.FlipbookSettings;var options=$.extend({responsive:true,animatedAutoCenter:true,smartFlip:true,autoScaleContent:true,swipe:true},settings.options);this.$el.turn(options);},_toggleZoomEvent:function(event){this.$el.turn('toggleZoom',{pageX:event.pageX,pageY:event.pageY,animate:true});},_missingEvent:function(event,pages){for(var i=0;i<pages.length;i++){this.$el.turn('addPage',this._getPageElement(pages[i]),pages[i]);}},_pinchEvent:function(event){this.$el.turn('zoom',1,event);},_zoomedEvent:function(event,zoom){if(zoom==1){$('.ui-arrow-control').show();}else{$('.ui-arrow-control').hide();}},_turnedEvent:function(event,page){AppRouter.getInstance().navigate('page/'+page,{trigger:false});if(window.FlipbookSettings.loadRegions){this._loadRegions(page);}},_hoverArrowEvent:function(event){$(event.currentTarget).addClass('ui-arrow-control-hover');},_nohoverArrowEvent:function(event){$(event.currentTarget).removeClass('ui-arrow-control-hover');},_pressArrowEvent:function(event){$(event.currentTarget).addClass('ui-arrow-control-tap');},_releaseArrowEvent:function(event){$(event.currentTarget).removeClass('ui-arrow-control-tap');},_tapNextArrowEvent:function(event){this.$el.turn('next');},_tapPreviousArrowEvent:function(event){this.$el.turn('previous');},_keydownEvent:function(event){var nextArrow=39,prevArrow=37;if(event.keyCode==prevArrow){this.$el.turn('previous');}else if(event.keyCode==nextArrow){this.$el.turn('next');}},_getPageElement:function(pageNumber){var $el=$('<div />'),settings=window.FlipbookSettings,imgSrc=settings.pageFolder+'/'+pageNumber+'/'+pageNumber+'.jpg',$img=$('<img />',{width:'100%',height:'100%',css:{display:'none'}});var timerAddLoader=setTimeout(function(){var $loader=$('<div />',{'class':'ui-spinner'});$el.append($loader);timerAddLoader=null;},150);$img.on('load',function(event){$img.show();if(timerAddLoader===null){$el.find('.ui-spinner').hide();}else{clearInterval(timerAddLoader);}});$img.attr('src',imgSrc);$el.append($img);return $el;},_loadRegions:function(pageNumber){var pageData=$('#flipbook').turn('pageData',pageNumber);if(!pageData.regions){pageData.regions=new Regions([],{pageNumber:pageNumber});pageData.regions.fetch();}},_mouseoverRegion:function(event){$(event.currentTarget).addClass('ui-region-hover');},_mouseoutRegion:function(event){$(event.currentTarget).removeClass('ui-region-hover');},_tapRegion:function(event){event.stopPropagation();var $el=$(event.currentTarget);var view=$el.data('view');view.processAction();}});var RegionModel=Backbone.Model.extend({idAttribute:'id',className:'none'});var RegionView=Backbone.View.extend({tagName:'div',className:'ui-region',initialize:function(options){this.render();},render:function(){var attr=this.model.attributes;if(attr.points){var $pageElement=$('#flipbook').turn('pageElement',this.model.pageNumber);this.$el.css({left:(attr.points[0]*100)+'%',top:(attr.points[1]*100)+'%',width:(attr.points[2]*100)+'%',height:(attr.points[3]*100)+'%'});this.$el.attr('title',attr.hint);this.$el.addClass('ui-region-'+attr.className);this.$el.data({view:this});$pageElement.append(this.$el);}},processAction:function(){var attr=this.model.attributes,data=attr.data;switch(attr.className){case 'page':$('#flipbook').turn('page',data.page);break;case 'link':window.open(data.url);break;}$('#flipbook').tooltips('hide');}});var Regions=Backbone.Collection.extend({model:RegionModel,initialize:function(models,options){this.pageNumber=options.pageNumber;this.on('add',this._add,this);},url:function(){return FlipbookSettings.pageFolder+this.pageNumber+'/regions.json';},_add:function(regionModel){regionModel.pageNumber=this.pageNumber;new RegionView({model:regionModel});}});/* * Page Slider View * */ var PageSliderView=SingleView.extend({el:'#page-slider',events:{'changeValue':'_changeValueEvent','slide':'_slideEvent','vmousedown':'_pressEvent','vmouseover':'_hoverEvent'},initialize:function(){var $el=this.$el;$('#flipbook').on('turned',function(event,page){if(!$el.slider('isUserInteracting')){$el.slider('value',page);}});},render:function(){this.$el.slider({min:1,max:$('#flipbook').turn('pages'),value:$('#flipbook').turn('page')});},_changeValueEvent:function(event,newPage){var currentVal=this.$el.slider('value');if($.inArray(currentVal,$('#flipbook').turn('view',newPage))!=-1){event.preventDefault();return;}if($('#flipbook').turn('page',newPage)===false){event.preventDefault();}},_slideEvent:function(event,newPage){$('#miniatures').miniatures('page',newPage);},_pressEvent:function(event){$('#miniatures').miniatures('listenToFlipbook',false);MiniaturesView.getInstance().show();$(document).one('vmouseup',$.proxy(this,'_releasedEvent'));},_releasedEvent:function(event){$('#miniatures').miniatures('listenToFlipbook',true);if(!$('#miniatures').hasClass('ui-miniatures-slider-open')){MiniaturesView.getInstance().hide();}},_hoverEvent:function(event){event.stopPropagation();}});/* * Table of Contents * */ var TableContentsView=SingleView.extend({tagName:'div',events:{'itemRequested':'_itemRequested','itemSelected':'_itemSelected','vmouseover':'_vmouseover','vmouseout':'_vmouseout','vmousemove':'_vmousemove'},_nextItemPage:1,_itemPage:{},initialize:function(){$('#ui-icon-table-contents').on('vmouseover',$.proxy(this,'show'));$('#ui-icon-table-contents').on('vmouseout',$.proxy(this,'hide'));},render:function(){this.$el.menu({itemCount:this.itemCount()});this._menuDisplay=$('#flipbook').turn('display');this.$el.appendTo($('body'));},itemCount:function(){var settings=window.FlipbookSettings;if(settings.table){return settings.table.length;}else{if($('#flipbook').turn('display')=='single'){return $('#flipbook').turn('pages');}else{return Math.round($('#flipbook').turn('pages')/2)+1;}}},clear:function(){this.$el.menu('clear');this._itemPage={};this._nextItemPage=1;this.$el.menu('options',{itemCount:this.itemCount()});},_itemRequested:function(event,itemNum){var text,settings=window.FlipbookSettings;if(settings.table){text=settings.table[itemNum].text;this._itemPage[settings.table[itemNum].page]=itemNum;}else{var pages=$('#flipbook').turn('view',this._nextItemPage,true);text=(pages.length==1)?'Sayfa '+pages[0]:'Sayfalar '+(pages[0]-1)+"-"+(pages[1]-1);if(itemNum==0){text='Kapak';}if($('#flipbook').turn('display')!='single'){if(itemNum==18){text='';}}this._itemPage[pages[0]]=itemNum;this._nextItemPage=pages[pages.length-1]+1;}this.$el.menu('addTextItem',text);},_itemSelected:function(event,itemNum){var settings=window.FlipbookSettings;if(settings.table){$('#flipbook').turn('page',settings.table[itemNum].page);}else{if($('#flipbook').turn('display')=='single'){$('#flipbook').turn('page',itemNum+1);}else{$('#flipbook').turn('page',itemNum===0?1:itemNum*2);}}},show:function(){var flipbookDisplay=$('#flipbook').turn('display');if(flipbookDisplay!=this._menuDisplay){this.clear();this._menuDisplay=flipbookDisplay;}var currentPage=$('#flipbook').turn('page');if(this._itemPage[currentPage]!==undefined){this.$el.menu('selectItem',this._itemPage[currentPage],true);}else{var currentView=$('#flipbook').turn('view',null,true);if(this._itemPage[currentView[0]]!==undefined){this.$el.menu('selectItem',this._itemPage[currentView[0]],true);}else if(this._itemPage[currentView[1]]!==undefined){this.$el.menu('selectItem',this._itemPage[currentView[1]],true);}else{this.$el.menu('clearSelection');}}this.hide(false);this.$el.menu('showRelativeTo',$('#ui-icon-table-contents'));},hide:function(confirmation){var that=this;if(confirmation){if(!this._hideTimer){this._hideTimer=setTimeout(function(){that.$el.menu('hide');this._hideTimer=null;},200);}}else{if(this._hideTimer){clearInterval(this._hideTimer);this._hideTimer=null;}}},_vmouseover:function(){ControlsView.getInstance().hideOptions(false);this.hide(false);},_vmouseout:function(){this.hide(true);},_vmousemove:function(event){ControlsView.getInstance().stopFade();event.donotFade=true;}});/* * Miniatures View * */ var MiniaturesView=SingleView.extend({el:'#miniatures',events:{refreshPicture:'_refreshPictureEvent'},initialize:function(){var that=this;$(window).on('orientationchange',function(event){that.hide();});this.$el.hide();},render:function(){this.$el.miniatures({flipbook:$('#flipbook'),disabled:true});},_refreshPictureEvent:function(event,pageNumber,$pageElement){var settings=window.FlipbookSettings,imgSrc=settings.pageFolder+'/'+pageNumber+'/thumb.jpg',$img=$pageElement.find('img');if(!$img[0]){$pageElement.html('<img width="100%" height="100%" src="'+imgSrc+'"/>');}else{$img.attr('src',imgSrc);}},show:function(){var that=this;this.$el.show();this._visible=true;$('#viewer').one('vmousedown',$.proxy(MiniaturesView.getInstance(),'hide'));if(this.$el.hasClass('ui-miniatures-slider-open')){$('#ui-icon-miniature').addClass('ui-ui-icon-on');}setTimeout(function(){if(that._visible){$('body').addClass('show-miniatures');that.$el.miniatures('disable',false).miniatures('refresh');}},5);},hide:function(){var that=this;this._visible=false;$('body').removeClass('show-miniatures');$('#ui-icon-miniature').removeClass('ui-ui-icon-on');$('#viewer').off('vmousedown',MiniaturesView.getInstance().hide);this.$el.removeClass('ui-miniatures-slider-open');setTimeout(function(){if(!that._visible){that.$el.hide().miniatures('disable',true);}},300);},isOpened:function(){return this.$el.hasClass('ui-miniatures-slider-open');}});/* * * * */ var ControlsView=SingleView.extend({el:'#controls',_fadeTimer:null,_hasFadeListener:true,events:{'vmouseover #ui-icon-expand-options':'_vmouseoverIconExpand','vmouseover #ui-icon-toggle':'_vmouseoverIconExpand','vmouseover #options':'_vmouseoverOptions','vmouseout #options':'_vmouseoutOptions','tap #ui-icon-expand-options':'_tapIconExpand'},initialize:function(){var eventNameToFade=(Turn.isTouchDevice)?'vmousedown':'vmousemove';$(document).on(eventNameToFade,$.proxy(this,'_fade'));this.events[eventNameToFade+' .all']='_preventFade';$('#miniatures').on(eventNameToFade,$.proxy(this,'_preventFade'));$('#zoom-slider-view').on(eventNameToFade,$.proxy(this,'_preventFade'));},_fade:function(event){if(!event.donotFade){var that=this;if(event.pageY>$('#viewer').height()-20){if(this.$el.hasClass('hidden-controls')){this.$el.removeClass('hidden-controls');}}if(this._fadeTimer){clearInterval(this._fadeTimer);}this._fadeTimer=setTimeout(function(){if(!MiniaturesView.getInstance().isOpened()){that.$el.removeClass('extend-ui-options');that.$el.addClass('hidden-controls');ZoomSliderView.getInstance().hide();}},1000);}},stopFade:function(){if(this._fadeTimer){clearInterval(this._fadeTimer);this._fadeTimer=null;}},_preventFade:function(event){this.stopFade();event.donotFade=true;},_vmouseoverIconExpand:function(event){if(!Turn.isTouchDevice){this.showOptions();}},_vmouseoverOptions:function(){this.hideOptions(false);},_vmouseoutOptions:function(){this.hideOptions(true);},_tapIconExpand:function(){this.showOptions();},showOptions:function(){this.$el.removeClass('hidden-controls');this.$el.addClass('extend-ui-options');this.hideOptions(false);},hideOptions:function(confirmation){var that=this;if(confirmation){if(!this._hideOptionTimer){this._hideOptionTimer=setTimeout(function(){that._hideOptionTimer=null;that.$el.removeClass('extend-ui-options');},100);}}else{if(this._hideOptionTimer){clearInterval(this._hideOptionTimer);this._hideOptionTimer=null;}}}});/* * Options View * */ var OptionsView=SingleView.extend({el:'#options',events:{'willShowHint':'_willShowHint','vmouseover #ui-icon-zoom':'_vmouseoverIconZoom','vmouseout #ui-icon-zoom':'_vmouseoutIconZoom','vmousedown':'_vmousedown','tap .ui-icon':'_tapIcon'},initialize:function(){var $el=this.$el;},render:function(){this.$el.tooltips({positions:'top,left'});},_willShowHint:function(event,$target){this.$el.tooltips('options',{positions:'top,left'});},_vmouseoverIconZoom:function(event){var $sliderView=$('#zoom-slider-view'),$zoomIcon=$(event.currentTarget),thisOffset=Turn.offsetWhile($zoomIcon[0],function(el){return el.className!='catalog-app';});$sliderView.css({left:thisOffset.left,top:'auto',bottom:5,right:'auto'});$('#zoom-slider').slider('style','vertical');ZoomSliderView.getInstance().show();},_vmouseoutIconZoom:function(event){ZoomSliderView.getInstance().hide(true);},_vmousedown:function(event){event.stopPropagation();},_tapIcon:function(event){var $icon=$(event.currentTarget);switch($icon.attr('id')){case 'ui-icon-table-contents':break;case 'ui-icon-miniature':var miniatures=MiniaturesView.getInstance(),willHide=miniatures.isOpened();if(willHide){miniatures.hide();}else{$('#miniatures').addClass('ui-miniatures-slider-open');miniatures.show();}break;case 'ui-icon-zoom':break;case 'ui-icon-share':ShareBox.getInstance().show();break;case 'ui-icon-full-screen':Turn.toggleFullScreen();break;case 'ui-icon-toggle':$('#controls').toggleClass('extend-ui-options');break;}}});/* * Zoom Slider View * */ var ZoomSliderView=SingleView.extend({el:'#zoom-slider-view',events:{'changeValue #zoom-slider':'_changeValueEvent','slide #zoom-slider':'_slideEvent','vmousedown #zoom-slider':'_vmousedown','vmouseover':'_vmouseover','vmouseout':'_vmouseout'},render:function(){this.$el.find('#zoom-slider').slider({style:'vertical',min:0,max:10});},_changeValueEvent:function(event,val){var zoom=val/10*($('#flipbook').turn('maxZoom')-1)+1;$('#flipbook').turn('zoom',zoom,{animate:false});},_slideEvent:function(event,val){var zoom=val/10*($('#flipbook').turn('maxZoom')-1)+1;$('#flipbook').turn('zoom',zoom,{animate:false});},_vmousedown:function(event){event.stopPropagation();},_vmouseover:function(event){this.show();ControlsView.getInstance().hideOptions(false);},_vmouseout:function(event){var that=this;this.hide(true);},show:function(){var $sliderEl=this.$el.find('#zoom-slider');$sliderEl.slider('disable',false);$('#zoom-slider-view').addClass('show-zoom-slider');$('#ui-icon-zoom').addClass('ui-icon-contrast');event.preventDefault();});$(window).load(function(){$(window).scrollTop(0);});}$(document).ready(bootstrap);})(window,jQuery,Backbone);
/* Source: backbone-min.min.js */
(function(){var t=this;var e=t.Backbone;var i=[];var r=i.push;var s=i.slice;var n=i.splice;var a;if(typeof exports!=="undefined"){a=exports}else{a=t.Backbone={}}a.VERSION="1.1.0";var h=t._;if(!h&&typeof require!=="undefined")h=require("underscore");a.$=t.jQuery||t.Zepto||t.ender||t.$;a.noConflict=function(){t.Backbone=e;return this};a.emulateHTTP=false;a.emulateJSON=false;var o=a.Events={on:function(t,e,i){if(!l(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);r.push({callback:e,context:i,ctx:i||this});return this},once:function(t,e,i){if(!l(this,"once",t,[e,i])||!e)return this;var r=this;var s=h.once(function(){r.off(t,s);e.apply(this,arguments)});s._callback=e;return this.on(t,s,i)},off:function(t,e,i){var r,s,n,a,o,u,c,f;if(!this._events||!l(this,"off",t,[e,i]))return this;if(!t&&!e&&!i){this._events={};return this}a=t?[t]:h.keys(this._events);for(o=0,u=a.length;o<u;o++){t=a[o];if(n=this._events[t]){this._events[t]=r=[];if(e||i){for(c=0,f=n.length;c<f;c++){s=n[c];if(e&&e!==s.callback&&e!==s.callback._callback||i&&i!==s.context){r.push(s)}}}if(!r.length)delete this._events[t]}}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!l(this,"trigger",t,e))return this;var i=this._events[t];var r=this._events.all;if(i)c(i,e);if(r)c(r,arguments);return this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var s=!e&&!i;if(!i&&typeof e==="object")i=this;if(t)(r={})[t._listenId]=t;for(var n in r){t=r[n];t.off(e,i,this);if(s||h.isEmpty(t._events))delete this._listeningTo[n]}return this}};var u=/\s+/;var l=function(t,e,i,r){if(!i)return true;if(typeof i==="object"){for(var s in i){t[e].apply(t,[s,i[s]].concat(r))}return false}if(u.test(i)){var n=i.split(u);for(var a=0,h=n.length;a<h;a++){t[e].apply(t,[n[a]].concat(r))}return false}return true};var c=function(t,e){var i,r=-1,s=t.length,n=e[0],a=e[1],h=e[2];switch(e.length){case 0:while(++r<s)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<s)(i=t[r]).callback.call(i.ctx,n);return;case 2:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a);return;case 3:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a,h);return;default:while(++r<s)(i=t[r]).callback.apply(i.ctx,e)}};var f={listenTo:"on",listenToOnce:"once"};h.each(f,function(t,e){o[e]=function(e,i,r){var s=this._listeningTo||(this._listeningTo={});var n=e._listenId||(e._listenId=h.uniqueId("l"));s[n]=e;if(!r&&typeof i==="object")r=this;e[t](i,r,this);return this}});o.bind=o.on;o.unbind=o.off;h.extend(a,o);var d=a.Model=function(t,e){var i=t||{};e||(e={});this.cid=h.uniqueId("c");this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)i=this.parse(i,e)||{};i=h.defaults({},i,h.result(this,"defaults"));this.set(i,e);this.changed={};this.initialize.apply(this,arguments)};h.extend(d.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return h.escape(this.get(t))},has:function(t){return this.get(t)!=null},set:function(t,e,i){var r,s,n,a,o,u,l,c;if(t==null)return this;if(typeof t==="object"){s=t;i=e}else{(s={})[t]=e}i||(i={});if(!this._validate(s,i))return false;n=i.unset;o=i.silent;a=[];u=this._changing;this._changing=true;if(!u){this._previousAttributes=h.clone(this.attributes);this.changed={}}c=this.attributes,l=this._previousAttributes;if(this.idAttribute in s)this.id=s[this.idAttribute];for(r in s){e=s[r];if(!h.isEqual(c[r],e))a.push(r);if(!h.isEqual(l[r],e)){this.changed[r]=e}else{delete this.changed[r]}n?delete c[r]:c[r]=e}if(!o){if(a.length)this._pending=true;for(var f=0,d=a.length;f<d;f++){this.trigger("change:"+a[f],this,c[a[f]],i)}}if(u)return this;if(!o){while(this._pending){this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,h.extend({},e,{unset:true}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,h.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!h.isEmpty(this.changed);return h.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?h.clone(this.changed):false;var e,i=false;var r=this._changing?this._previousAttributes:this.attributes;for(var s in t){if(h.isEqual(r[s],e=t[s]))continue;(i||(i={}))[s]=e}return i},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(t){t=t?h.clone(t):{};if(t.parse===void 0)t.parse=true;var e=this;var i=t.success;t.success=function(r){if(!e.set(e.parse(r,t),t))return false;if(i)i(e,r,t);e.trigger("sync",e,r,t)};M(this,t);return this.sync("read",this,t)},save:function(t,e,i){var r,s,n,a=this.attributes;if(t==null||typeof t==="object"){r=t;i=e}else{(r={})[t]=e}i=h.extend({validate:true},i);if(r&&!i.wait){if(!this.set(r,i))return false}else{if(!this._validate(r,i))return false}if(r&&i.wait){this.attributes=h.extend({},a,r)}if(i.parse===void 0)i.parse=true;var o=this;var u=i.success;i.success=function(t){o.attributes=a;var e=o.parse(t,i);if(i.wait)e=h.extend(r||{},e);if(h.isObject(e)&&!o.set(e,i)){return false}if(u)u(o,t,i);o.trigger("sync",o,t,i)};M(this,i);s=this.isNew()?"create":i.patch?"patch":"update";if(s==="patch")i.attrs=r;n=this.sync(s,this,i);if(r&&i.wait)this.attributes=a;return n},destroy:function(t){t=t?h.clone(t):{};var e=this;var i=t.success;var r=function(){e.trigger("destroy",e,e.collection,t)};t.success=function(s){if(t.wait||e.isNew())r();if(i)i(e,s,t);if(!e.isNew())e.trigger("sync",e,s,t)};if(this.isNew()){t.success();return false}M(this,t);var s=this.sync("delete",this,t);if(!t.wait)r();return s},url:function(){var t=h.result(this,"urlRoot")||h.result(this.collection,"url")||U();if(this.isNew())return t;return t+(t.charAt(t.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(t){return this._validate({},h.extend(t||{},{validate:true}))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=h.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;if(!i)return true;this.trigger("invalid",this,i,h.extend(e,{validationError:i}));return false}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(t){d.prototype[t]=function(){var e=s.call(arguments);e.unshift(this.attributes);return h[t].apply(h,e)}});var v=a.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,h.extend({silent:true},e))};var g={add:true,remove:true,merge:true};var m={add:true,remove:false};h.extend(v.prototype,o,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return a.sync.apply(this,arguments)},add:function(t,e){return this.set(t,h.extend({merge:false},e,m))},remove:function(t,e){var i=!h.isArray(t);t=i?[t]:h.clone(t);e||(e={});var r,s,n,a;for(r=0,s=t.length;r<s;r++){a=t[r]=this.get(t[r]);if(!a)continue;delete this._byId[a.id];delete this._byId[a.cid];n=this.indexOf(a);this.models.splice(n,1);this.length--;if(!e.silent){e.index=n;a.trigger("remove",a,this,e)}this._removeReference(a)}return i?t[0]:t},set:function(t,e){e=h.defaults({},e,g);if(e.parse)t=this.parse(t,e);var i=!h.isArray(t);t=i?t?[t]:[]:h.clone(t);var r,s,n,a,o,u,l;var c=e.at;var f=this.model;var p=this.comparator&&c==null&&e.sort!==false;var v=h.isString(this.comparator)?this.comparator:null;var m=[],y=[],_={};var w=e.add,b=e.merge,x=e.remove;var E=!p&&w&&x?[]:false;for(r=0,s=t.length;r<s;r++){o=t[r];if(o instanceof d){n=a=o}else{n=o[f.prototype.idAttribute]}if(u=this.get(n)){if(x)_[u.cid]=true;if(b){o=o===a?a.attributes:o;if(e.parse)o=u.parse(o,e);u.set(o,e);if(p&&!l&&u.hasChanged(v))l=true}t[r]=u}else if(w){a=t[r]=this._prepareModel(o,e);if(!a)continue;m.push(a);a.on("all",this._onModelEvent,this);this._byId[a.cid]=a;if(a.id!=null)this._byId[a.id]=a}if(E)E.push(u||a)}if(x){for(r=0,s=this.length;r<s;++r){if(!_[(a=this.models[r]).cid])y.push(a)}if(y.length)this.remove(y,e)}if(m.length||E&&E.length){if(p)l=true;this.length+=m.length;if(c!=null){for(r=0,s=m.length;r<s;r++){this.models.splice(c+r,0,m[r])}}else{if(E)this.models.length=0;var T=E||m;for(r=0,s=T.length;r<s;r++){this.models.push(T[r])}}}if(l)this.sort({silent:true});if(!e.silent){for(r=0,s=m.length;r<s;r++){(a=m[r]).trigger("add",a,this,e)}if(l||E&&E.length)this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;i<r;i++){this._removeReference(this.models[i])}e.previousModels=this.models;this._reset();t=this.add(t,h.extend({silent:true},e));if(!e.silent)this.trigger("reset",this,e);return t},push:function(t,e){return this.add(t,h.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);this.remove(e,t);return e},unshift:function(t,e){return this.add(t,h.extend({at:0},e))},shift:function(t){var e=this.at(0);this.remove(e,t);return e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;return this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){if(h.isEmpty(t))return e?void 0:[];return this[e?"find":"filter"](function(e){for(var i in t){if(t[i]!==e.get(i))return false}return true})},findWhere:function(t){return this.where(t,true)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");t||(t={});if(h.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(h.bind(this.comparator,this))}if(!t.silent)this.trigger("sort",this,t);return this},pluck:function(t){return h.invoke(this.models,"get",t)},fetch:function(t){t=t?h.clone(t):{};if(t.parse===void 0)t.parse=true;var e=t.success;var i=this;t.success=function(r){var s=t.reset?"reset":"set";i[s](r,t);if(e)e(i,r,t);i.trigger("sync",i,r,t)};M(this,t);return this.sync("read",this,t)},create:function(t,e){e=e?h.clone(e):{};if(!(t=this._prepareModel(t,e)))return false;if(!e.wait)this.add(t,e);var i=this;var r=e.success;e.success=function(t,e,s){if(s.wait)i.add(t,s);if(r)r(t,e,s)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(t instanceof d){if(!t.collection)t.collection=this;return t}e=e?h.clone(e):{};e.collection=this;var i=new this.model(t,e);if(!i.validationError)return i;this.trigger("invalid",this,i.validationError,e);return false},_removeReference:function(t){if(this===t.collection)delete t.collection;t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if((t==="add"||t==="remove")&&i!==this)return;if(t==="destroy")this.remove(e,r);if(e&&t==="change:"+e.idAttribute){delete this._byId[e.previous(e.idAttribute)];if(e.id!=null)this._byId[e.id]=e}this.trigger.apply(this,arguments)}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(y,function(t){v.prototype[t]=function(){var e=s.call(arguments);e.unshift(this.models);return h[t].apply(h,e)}});var _=["groupBy","countBy","sortBy"];h.each(_,function(t){v.prototype[t]=function(e,i){var r=h.isFunction(e)?e:function(t){return t.get(e)};return h[t](this.models,r,i)}});var w=a.View=function(t){this.cid=h.uniqueId("view");t||(t={});h.extend(this,h.pick(t,x));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var b=/^(\S+)\s*(.*)$/;var x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(w.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(t,e){if(this.$el)this.undelegateEvents();this.$el=t instanceof a.$?t:a.$(t);this.el=this.$el[0];if(e!==false)this.delegateEvents();return this},delegateEvents:function(t){if(!(t||(t=h.result(this,"events"))))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(!h.isFunction(i))i=this[t[e]];if(!i)continue;var r=e.match(b);var s=r[1],n=r[2];i=h.bind(i,this);s+=".delegateEvents"+this.cid;if(n===""){this.$el.on(s,i)}else{this.$el.on(s,n,i)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var t=h.extend({},h.result(this,"attributes"));if(this.id)t.id=h.result(this,"id");if(this.className)t["class"]=h.result(this,"className");var e=a.$("<"+h.result(this,"tagName")+">").attr(t);this.setElement(e,false)}else{this.setElement(h.result(this,"el"),false)}}});a.sync=function(t,e,i){var r=T[t];h.defaults(i||(i={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var s={type:r,dataType:"json"};if(!i.url){s.url=h.result(e,"url")||U()}if(i.data==null&&e&&(t==="create"||t==="update"||t==="patch")){s.contentType="application/json";s.data=JSON.stringify(i.attrs||e.toJSON(i))}if(i.emulateJSON){s.contentType="application/x-www-form-urlencoded";s.data=s.data?{model:s.data}:{}}if(i.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){s.type="POST";if(i.emulateJSON)s.data._method=r;var n=i.beforeSend;i.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",r);if(n)return n.apply(this,arguments)}}if(s.type!=="GET"&&!i.emulateJSON){s.processData=false}if(s.type==="PATCH"&&E){s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var o=i.xhr=a.ajax(h.extend(s,i));e.trigger("request",e,o,i);return o};var E=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var k=a.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var S=/\((.*?)\)/g;var $=/(\(\?)?:\w+/g;var H=/\*\w+/g;var A=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(k.prototype,o,{initialize:function(){},route:function(t,e,i){if(!h.isRegExp(t))t=this._routeToRegExp(t);if(h.isFunction(e)){i=e;e=""}if(!i)i=this[e];var r=this;a.history.route(t,function(s){var n=r._extractParameters(t,s);i&&i.apply(r,n);r.trigger.apply(r,["route:"+e].concat(n));r.trigger("route",e,n);a.history.trigger("route",r,e,n)});return this},navigate:function(t,e){a.history.navigate(t,e);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=h.result(this,"routes");var t,e=h.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(A,"\\$&").replace(S,"(?:$1)?").replace($,function(t,e){return e?t:"([^/]+)"}).replace(H,"(.*?)");return new RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return h.map(i,function(t){return t?decodeURIComponent(t):null})}});var I=a.History=function(){this.handlers=[];h.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var N=/^[#\/]|\s+$/g;var O=/^\/+|\/+$/g;var P=/msie [\w.]+/;var C=/\/$/;var j=/[?#].*$/;I.started=false;h.extend(I.prototype,o,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(t==null){if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(C,"");if(!t.indexOf(i))t=t.slice(i.length)}else{t=this.getHash()}}return t.replace(N,"")},start:function(t){if(I.started)throw new Error("Backbone.history has already been started");I.started=true;this.options=h.extend({root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment();var i=document.documentMode;var r=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(O,"/");if(r&&this._wantsHashChange){this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(e)}if(this._hasPushState){a.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!r){a.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=e;var s=this.location;var n=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!n){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._hasPushState&&n&&s.hash){this.fragment=this.getHash().replace(N,"");this.history.replaceState({},document.title,this.root+this.fragment+s.search)}}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);I.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getFragment(this.getHash(this.iframe))}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){t=this.fragment=this.getFragment(t);return h.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!I.started)return false;if(!e||e===true)e={trigger:!!e};var i=this.root+(t=this.getFragment(t||""));t=t.replace(j,"");if(this.fragment===t)return;this.fragment=t;if(t===""&&i!=="/")i=i.slice(0,-1);if(this._hasPushState){this.history[e.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getFragment(this.getHash(this.iframe))){if(!e.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,t,e.replace)}}else{return this.location.assign(i)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else{t.hash="#"+e}}});a.history=new I;var R=function(t,e){var i=this;var r;if(t&&h.has(t,"constructor")){r=t.constructor}else{r=function(){return i.apply(this,arguments)}}h.extend(r,i,e);var s=function(){this.constructor=r};s.prototype=i.prototype;r.prototype=new s;if(t)h.extend(r.prototype,t);r.__super__=i.prototype;return r};d.extend=v.extend=k.extend=w.extend=I.extend=R;var U=function(){throw new Error('A "url" property or function must be specified')};var M=function(t,e){var i=e.error;e.error=function(r){if(i)i(t,r,e);t.trigger("error",t,r,e)}}}).call(this);
/* Source: jquery-2.0.3.min.js */
/*! jQuery v2.0.3 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-2.0.3.min.map
*/
(function(e,undefined){var t,n,r=typeof undefined,i=e.location,o=e.document,s=o.documentElement,a=e.jQuery,u=e.$,l={},c=[],p="2.0.3",f=c.concat,h=c.push,d=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,x=function(e,n){return new x.fn.init(e,n,t)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^-ms-/,N=/-([\da-z])/gi,E=function(e,t){return t.toUpperCase()},S=function(){o.removeEventListener("DOMContentLoaded",S,!1),e.removeEventListener("load",S,!1),x.ready()};x.fn=x.prototype={jquery:p,constructor:x,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),C.test(r[1])&&x.isPlainObject(t))for(r in t)x.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=o.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},a=2),"object"==typeof s||x.isFunction(s)||(s={}),u===a&&(s=this,--a);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(x.isPlainObject(r)||(i=x.isArray(r)))?(i?(i=!1,o=n&&x.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},s[t]=x.extend(l,o,r)):r!==undefined&&(s[t]=r));return s},x.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=a),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){(e===!0?--x.readyWait:x.isReady)||(x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(o,[x]),x.fn.trigger&&x(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,n=eval;e=x.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,s=j(e);if(n){if(s){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(s){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":v.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else while(t[i]!==undefined)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],o=0,s=e.length;for(n=!!n;s>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,s=j(e),a=[];if(s)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(a[a.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(a[a.length]=r);return f.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),x.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):undefined},access:function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===x.type(n)){i=!0;for(a in n)x.access(e,t,a,n[a],!0,o,s)}else if(r!==undefined&&(i=!0,x.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(x(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},now:Date.now,swap:function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i}}),x.ready.promise=function(t){return n||(n=x.Deferred(),"complete"===o.readyState?setTimeout(x.ready):(o.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",S,!1))),n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function j(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}t=x(o),function(e,undefined){var t,n,r,i,o,s,a,u,l,c,p,f,h,d,g,m,y,v="sizzle"+-new Date,b=e.document,w=0,T=0,C=st(),k=st(),N=st(),E=!1,S=function(e,t){return e===t?(E=!0,0):0},j=typeof undefined,D=1<<31,A={}.hasOwnProperty,L=[],q=L.pop,H=L.push,O=L.push,F=L.slice,P=L.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=W.replace("w","w#"),B="\\["+M+"*("+W+")"+M+"*(?:([*^$|!~]?=)"+M+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+$+")|)|)"+M+"*\\]",I=":("+W+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+B.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=RegExp("^"+M+"*,"+M+"*"),X=RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=RegExp(M+"*[+~]"),Y=RegExp("="+M+"*([^\\]'\"]*)"+M+"*\\]","g"),V=RegExp(I),G=RegExp("^"+$+"$"),J={ID:RegExp("^#("+W+")"),CLASS:RegExp("^\\.("+W+")"),TAG:RegExp("^("+W.replace("w","w*")+")"),ATTR:RegExp("^"+B),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:RegExp("^(?:"+R+")$","i"),needsContext:RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Q=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/^(?:input|select|textarea|button)$/i,et=/^h\d$/i,tt=/'|\\/g,nt=RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{O.apply(L=F.call(b.childNodes),b.childNodes),L[b.childNodes.length].nodeType}catch(it){O={apply:L.length?function(e,t){H.apply(e,F.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function ot(e,t,r,i){var o,s,a,u,l,f,g,m,x,w;if((t?t.ownerDocument||t:b)!==p&&c(t),t=t||p,r=r||[],!e||"string"!=typeof e)return r;if(1!==(u=t.nodeType)&&9!==u)return[];if(h&&!i){if(o=K.exec(e))if(a=o[1]){if(9===u){if(s=t.getElementById(a),!s||!s.parentNode)return r;if(s.id===a)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&y(t,s)&&s.id===a)return r.push(s),r}else{if(o[2])return O.apply(r,t.getElementsByTagName(e)),r;if((a=o[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&(!d||!d.test(e))){if(m=g=v,x=t,w=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){f=gt(e),(g=t.getAttribute("id"))?m=g.replace(tt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=f.length;while(l--)f[l]=m+mt(f[l]);x=U.test(e)&&t.parentNode||t,w=f.join(",")}if(w)try{return O.apply(r,x.querySelectorAll(w)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,r,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>i.cacheLength&&delete t[e.shift()],t[n]=r}return t}function at(e){return e[v]=!0,e}function ut(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)i.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return at(function(t){return t=+t,at(function(n,r){var i,o=e([],n.length,t),s=o.length;while(s--)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},n=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:b,r=t.defaultView;return t!==p&&9===t.nodeType&&t.documentElement?(p=t,f=t.documentElement,h=!s(t),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){c()}),n.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ut(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=ut(function(e){return f.appendChild(e).id=v,!t.getElementsByName||!t.getElementsByName(v).length}),n.getById?(i.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==j?t.getElementsByTagName(e):undefined}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==j&&h?t.getElementsByClassName(e):undefined},g=[],d=[],(n.qsa=Q.test(t.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ut(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")})),(n.matchesSelector=Q.test(m=f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",I)}),d=d.length&&RegExp(d.join("|")),g=g.length&&RegExp(g.join("|")),y=Q.test(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},S=f.compareDocumentPosition?function(e,r){if(e===r)return E=!0,0;var i=r.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(r);return i?1&i||!n.sortDetached&&r.compareDocumentPosition(e)===i?e===t||y(b,e)?-1:r===t||y(b,r)?1:l?P.call(l,e)-P.call(l,r):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,s=n.parentNode,a=[e],u=[n];if(e===n)return E=!0,0;if(!o||!s)return e===t?-1:n===t?1:o?-1:s?1:l?P.call(l,e)-P.call(l,n):0;if(o===s)return ct(e,n);r=e;while(r=r.parentNode)a.unshift(r);r=n;while(r=r.parentNode)u.unshift(r);while(a[i]===u[i])i++;return i?ct(a[i],u[i]):a[i]===b?-1:u[i]===b?1:0},t):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Y,"='$1']"),!(!n.matchesSelector||!h||g&&g.test(t)||d&&d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&c(e);var r=i.attrHandle[t.toLowerCase()],o=r&&A.call(i.attrHandle,t.toLowerCase())?r(e,t,!h):undefined;return o===undefined?n.attributes||!h?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,o=0;if(E=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(S),E){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=ot.selectors={cacheLength:50,createPseudo:at,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return J.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&V.test(n)&&(t=gt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,h,d,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),x=!u&&!a;if(m){if(o){while(g){p=t;while(p=p[g])if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&x){c=m[v]||(m[v]={}),l=c[e]||[],h=l[0]===w&&l[1],f=l[0]===w&&l[2],p=h&&m.childNodes[h];while(p=++h&&p&&p[g]||(f=h=0)||d.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[w,h,f];break}}else if(x&&(l=(t[v]||(t[v]={}))[e])&&l[0]===w)f=l[1];else while(p=++h&&p&&p[g]||(f=h=0)||d.pop())if((a?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(x&&((p[v]||(p[v]={}))[e]=[w,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[v]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,o=r(e,t),s=o.length;while(s--)i=P.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(z,"$1"));return r[v]?at(function(e,t,n,i){var o,s=r(e,null,i,[]),a=e.length;while(a--)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return G.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return et.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},i.pseudos.nth=i.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=ft(t);function dt(){}dt.prototype=i.filters=i.pseudos,i.setFilters=new dt;function gt(e,t){var n,r,o,s,a,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);a=e,u=[],l=i.preFilter;while(a){(!n||(r=_.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length));for(s in i.filter)!(r=J[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ot.error(e):k(e,u).slice(0)}function mt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var i=t.dir,o=n&&"parentNode"===i,s=T++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var u,l,c,p=w+" "+s;if(a){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,a))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[v]||(t[v]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,a)||r,l[1]===!0)return!0}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,s=[],a=0,u=e.length,l=null!=t;for(;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function bt(e,t,n,r,i,o){return r&&!r[v]&&(r=bt(r)),i&&!i[v]&&(i=bt(i,o)),at(function(o,s,a,u){var l,c,p,f=[],h=[],d=s.length,g=o||Ct(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:xt(g,f,e,a,u),y=n?i||(o?e:d||r)?[]:s:m;if(n&&n(m,y,a,u),r){l=xt(y,h),r(l,[],a,u),c=l.length;while(c--)(p=l[c])&&(y[h[c]]=!(m[h[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?P.call(o,p):f[c])>-1&&(o[l]=!(s[l]=p))}}else y=xt(y===s?y.splice(d,y.length):y),i?i(null,s,y,u):O.apply(s,y)})}function wt(e){var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=yt(function(e){return e===t},a,!0),p=yt(function(e){return P.call(t,e)>-1},a,!0),f=[function(e,n,r){return!s&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>l;l++)if(n=i.relative[e[l].type])f=[yt(vt(f),n)];else{if(n=i.filter[e[l].type].apply(null,e[l].matches),n[v]){for(r=++l;o>r;r++)if(i.relative[e[r].type])break;return bt(l>1&&vt(f),l>1&&mt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&wt(e.slice(l,r)),o>r&&wt(e=e.slice(r)),o>r&&mt(e))}f.push(n)}return vt(f)}function Tt(e,t){var n=0,o=t.length>0,s=e.length>0,a=function(a,l,c,f,h){var d,g,m,y=[],v=0,x="0",b=a&&[],T=null!=h,C=u,k=a||s&&i.find.TAG("*",h&&l.parentNode||l),N=w+=null==C?1:Math.random()||.1;for(T&&(u=l!==p&&l,r=n);null!=(d=k[x]);x++){if(s&&d){g=0;while(m=e[g++])if(m(d,l,c)){f.push(d);break}T&&(w=N,r=++n)}o&&((d=!m&&d)&&v--,a&&b.push(d))}if(v+=x,o&&x!==v){g=0;while(m=t[g++])m(b,y,l,c);if(a){if(v>0)while(x--)b[x]||y[x]||(y[x]=q.call(f));y=xt(y)}O.apply(f,y),T&&!a&&y.length>0&&v+t.length>1&&ot.uniqueSort(f)}return T&&(w=N,u=C),b};return o?at(a):a}a=ot.compile=function(e,t){var n,r=[],i=[],o=N[e+" "];if(!o){t||(t=gt(e)),n=t.length;while(n--)o=wt(t[n]),o[v]?r.push(o):i.push(o);o=N(e,Tt(i,r))}return o};function Ct(e,t,n){var r=0,i=t.length;for(;i>r;r++)ot(e,t[r],n);return n}function kt(e,t,r,o){var s,u,l,c,p,f=gt(e);if(!o&&1===f.length){if(u=f[0]=f[0].slice(0),u.length>2&&"ID"===(l=u[0]).type&&n.getById&&9===t.nodeType&&h&&i.relative[u[1].type]){if(t=(i.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return r;e=e.slice(u.shift().value.length)}s=J.needsContext.test(e)?0:u.length;while(s--){if(l=u[s],i.relative[c=l.type])break;if((p=i.find[c])&&(o=p(l.matches[0].replace(nt,rt),U.test(u[0].type)&&t.parentNode||t))){if(u.splice(s,1),e=o.length&&mt(u),!e)return O.apply(r,o),r;break}}}return a(e,f)(o,t,!h,r,U.test(e)),r}n.sortStable=v.split("").sort(S).join("")===v,n.detectDuplicates=E,c(),n.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?undefined:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?undefined:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||lt(R,function(e,t,n){var r;return n?undefined:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),x.find=ot,x.expr=ot.selectors,x.expr[":"]=x.expr.pseudos,x.unique=ot.uniqueSort,x.text=ot.getText,x.isXMLDoc=ot.isXML,x.contains=ot.contains}(e);var D={};function A(e){var t=D[e]={};return x.each(e.match(w)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?D[e]||A(e):x.extend({},e);var t,n,r,i,o,s,a=[],u=!e.once&&[],l=function(p){for(t=e.memory&&p,n=!0,s=i||0,i=0,o=a.length,r=!0;a&&o>s;s++)if(a[s].apply(p[0],p[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,a&&(u?u.length&&l(u.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var n=a.length;(function s(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})})(arguments),r?o=a.length:t&&(i=n,l(t))}return this},remove:function(){return a&&x.each(arguments,function(e,t){var n;while((n=x.inArray(t,a,n))>-1)a.splice(n,1),r&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?x.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=t=undefined,this},disabled:function(){return!a},lock:function(){return u=undefined,t||c.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!a||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var s=o[0],a=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),s=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},a,u,l;if(r>1)for(a=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(s(t,l,n)).fail(o.reject).progress(s(t,u,a)):--i;return i||o.resolveWith(l,n),o.promise()}}),x.support=function(t){var n=o.createElement("input"),r=o.createDocumentFragment(),i=o.createElement("div"),s=o.createElement("select"),a=s.appendChild(o.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled,n=o.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,x(function(){var n,r,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=o.getElementsByTagName("body")[0];a&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",x.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(o.createElement("div")),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var L,q,H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=x.expando+Math.random()}F.uid=1,F.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=F.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,x.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(x.isEmptyObject(o))x.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,x.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(t===undefined)this.cache[o]={};else{x.isArray(t)?r=t.concat(t.map(x.camelCase)):(i=x.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(w)||[])),n=r.length;while(n--)delete s[r[n]]}},hasData:function(e){return!x.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},L=new F,q=new F,x.extend({acceptData:F.accepts,hasData:function(e){return L.hasData(e)||q.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i=this[0],o=0,s=null;if(e===undefined){if(this.length&&(s=L.get(i),1===i.nodeType&&!q.get(i,"hasDataAttrs"))){for(n=i.attributes;n.length>o;o++)r=n[o].name,0===r.indexOf("data-")&&(r=x.camelCase(r.slice(5)),P(i,r,s[r]));q.set(i,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){L.set(this,e)}):x.access(this,function(t){var n,r=x.camelCase(e);if(i&&t===undefined){if(n=L.get(i,e),n!==undefined)return n;if(n=L.get(i,r),n!==undefined)return n;if(n=P(i,r,undefined),n!==undefined)return n}else this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&L.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}});function P(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(O,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:H.test(n)?JSON.parse(n):n}catch(i){}L.set(e,t,n)}else n=undefined;return n}x.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||x.isArray(n)?r=q.access(e,t,x.makeArray(n)):r.push(n)),r||[]):undefined},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),s=function(){x.dequeue(e,t)
};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:x.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?x.queue(this[0],e):t===undefined?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=undefined),e=e||"fx";while(s--)n=q.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var R,M,W=/[\t\r\n\f]/g,$=/\r/g,B=/^(?:input|select|textarea|button)$/i;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,s=0,a=this.length,u="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,i=0,o=x(this),s=e.match(w)||[];while(t=s[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===r||"boolean"===n)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||e===!1?"":q.get(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=x.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,x(this).val()):e,null==i?i="":"number"==typeof i?i+="":x.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;for(;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),s=i.length;while(s--)r=i[s],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,t,n){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===r?x.prop(e,t,n):(1===s&&x.isXMLDoc(e)||(t=t.toLowerCase(),i=x.attrHooks[t]||(x.expr.match.bool.test(t)?M:R)),n===undefined?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=x.find.attr(e,t),null==o?undefined:o):null!==n?i&&"set"in i&&(o=i.set(e,n,t))!==undefined?o:(e.setAttribute(t,n+""),n):(x.removeAttr(e,t),undefined))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!x.isXMLDoc(e),o&&(t=x.propFix[t]||t,i=x.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||B.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),M={set:function(e,t,n){return t===!1?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=x.expr.attrHandle[t]||x.find.attr;x.expr.attrHandle[t]=function(e,t,r){var i=x.expr.attrHandle[t],o=r?undefined:(x.expr.attrHandle[t]=undefined)!=n(e,t,r)?t.toLowerCase():null;return x.expr.attrHandle[t]=i,o}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){return x.isArray(t)?e.checked=x.inArray(x(e).val(),t)>=0:undefined}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var I=/^key/,z=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function U(){return!0}function Y(){return!1}function V(){try{return o.activeElement}catch(e){}}x.event={global:{},add:function(e,t,n,i,o){var s,a,u,l,c,p,f,h,d,g,m,y=q.get(e);if(y){n.handler&&(s=n,n=s.handler,o=s.selector),n.guid||(n.guid=x.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof x===r||e&&x.event.triggered===e.type?undefined:x.event.dispatch.apply(a.elem,arguments)},a.elem=e),t=(t||"").match(w)||[""],c=t.length;while(c--)u=X.exec(t[c])||[],d=m=u[1],g=(u[2]||"").split(".").sort(),d&&(f=x.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=x.event.special[d]||{},p=x.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:g.join(".")},s),(h=l[d])||(h=l[d]=[],h.delegateCount=0,f.setup&&f.setup.call(e,i,g,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),f.add&&(f.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,p):h.push(p),x.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,u,l,c,p,f,h,d,g,m=q.hasData(e)&&q.get(e);if(m&&(u=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(a=X.exec(t[l])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h){p=x.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,f=u[h]||[],a=a[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;while(o--)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(e,c));s&&!f.length&&(p.teardown&&p.teardown.call(e,d,m.handle)!==!1||x.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)x.event.remove(e,h+t[l],n,r,!0);x.isEmptyObject(u)&&(delete m.handle,q.remove(e,"events"))}},trigger:function(t,n,r,i){var s,a,u,l,c,p,f,h=[r||o],d=y.call(t,"type")?t.type:t,g=y.call(t,"namespace")?t.namespace.split("."):[];if(a=u=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!_.test(d+x.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),c=0>d.indexOf(":")&&"on"+d,t=t[x.expando]?t:new x.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),f=x.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!x.isWindow(r)){for(l=f.delegateType||d,_.test(l+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(r.ownerDocument||o)&&h.push(u.defaultView||u.parentWindow||e)}s=0;while((a=h[s++])&&!t.isPropagationStopped())t.type=s>1?l:f.bindType||d,p=(q.get(a,"events")||{})[t.type]&&q.get(a,"handle"),p&&p.apply(a,n),p=c&&a[c],p&&x.acceptData(a)&&p.apply&&p.apply(a,n)===!1&&t.preventDefault();return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!x.acceptData(r)||c&&x.isFunction(r[d])&&!x.isWindow(r)&&(u=r[c],u&&(r[c]=null),x.event.triggered=d,r[d](),x.event.triggered=undefined,u&&(r[c]=u)),t.result}},dispatch:function(e){e=x.event.fix(e);var t,n,r,i,o,s=[],a=d.call(arguments),u=(q.get(this,"events")||{})[e.type]||[],l=x.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),t=0;while((i=s[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",r[i]===undefined&&(r[i]=o.needsContext?x(i,this).index(u)>=0:x.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return t.length>a&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||o,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||s===undefined||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,s=e,a=this.fixHooks[i];a||(this.fixHooks[i]=a=z.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new x.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==V()&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&x.nodeName(this,"input")?(this.click(),!1):undefined},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},x.Event=function(e,t){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?U:Y):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,undefined):new x.Event(e,t)},x.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=U,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=U,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1)r=Y;else if(!r)return this;return 1===i&&(o=r,r=function(e){return x().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=x.guid++)),this.each(function(){x.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=Y),this.each(function(){x.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?x.event.trigger(e,t,n,!0):undefined}});var G=/^.[^:#\[\.,]*$/,J=/^(?:parents|prev(?:Until|All))/,Q=x.expr.match.needsContext,K={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){var e=0;for(;n>e;e++)if(x.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(et(this,e||[],!0))},filter:function(e){return this.pushStack(et(this,e||[],!1))},is:function(e){return!!et(this,"string"==typeof e&&Q.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],s=Q.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(x(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function Z(e,t){while((e=e[t])&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return Z(e,"nextSibling")},prev:function(e){return Z(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return e.contentDocument||x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(K[e]||x.unique(i),J.test(e)&&i.reverse()),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function et(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(G.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return g.call(t,e)>=0!==n})}var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,nt=/<([\w:]+)/,rt=/<|&#?\w+;/,it=/<(?:script|style|link)/i,ot=/^(?:checkbox|radio)$/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^$|\/(?:java|ecma)script/i,ut=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===undefined?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(mt(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&dt(mt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(mt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!it.test(e)&&!ct[(nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(tt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(x.cleanData(mt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=f.apply([],e);var r,i,o,s,a,u,l=0,c=this.length,p=this,h=c-1,d=e[0],g=x.isFunction(d);if(g||!(1>=c||"string"!=typeof d||x.support.checkClone)&&st.test(d))return this.each(function(r){var i=p.eq(r);g&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=x.map(mt(r,"script"),ft),s=o.length;c>l;l++)a=r,l!==h&&(a=x.clone(a,!0,!0),s&&x.merge(o,mt(a,"script"))),t.call(this[l],a,l);if(s)for(u=o[o.length-1].ownerDocument,x.map(o,ht),l=0;s>l;l++)a=o[l],at.test(a.type||"")&&!q.access(a,"globalEval")&&x.contains(u,a)&&(a.src?x._evalUrl(a.src):x.globalEval(a.textContent.replace(lt,"")))}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=[],i=x(e),o=i.length-1,s=0;for(;o>=s;s++)n=s===o?this:this.clone(!0),x(i[s])[t](n),h.apply(r,n.get());return this.pushStack(r)}}),x.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=x.contains(e.ownerDocument,e);if(!(x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=mt(a),o=mt(e),r=0,i=o.length;i>r;r++)yt(o[r],s[r]);if(t)if(n)for(o=o||mt(e),s=s||mt(a),r=0,i=o.length;i>r;r++)gt(o[r],s[r]);else gt(e,a);return s=mt(a,"script"),s.length>0&&dt(s,!u&&mt(e,"script")),a},buildFragment:function(e,t,n,r){var i,o,s,a,u,l,c=0,p=e.length,f=t.createDocumentFragment(),h=[];for(;p>c;c++)if(i=e[c],i||0===i)if("object"===x.type(i))x.merge(h,i.nodeType?[i]:i);else if(rt.test(i)){o=o||f.appendChild(t.createElement("div")),s=(nt.exec(i)||["",""])[1].toLowerCase(),a=ct[s]||ct._default,o.innerHTML=a[1]+i.replace(tt,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.lastChild;x.merge(h,o.childNodes),o=f.firstChild,o.textContent=""}else h.push(t.createTextNode(i));f.textContent="",c=0;while(i=h[c++])if((!r||-1===x.inArray(i,r))&&(u=x.contains(i.ownerDocument,i),o=mt(f.appendChild(i),"script"),u&&dt(o),n)){l=0;while(i=o[l++])at.test(i.type||"")&&n.push(i)}return f},cleanData:function(e){var t,n,r,i,o,s,a=x.event.special,u=0;for(;(n=e[u])!==undefined;u++){if(F.accepts(n)&&(o=n[q.expando],o&&(t=q.cache[o]))){if(r=Object.keys(t.events||{}),r.length)for(s=0;(i=r[s])!==undefined;s++)a[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);q.cache[o]&&delete q.cache[o]}delete L.cache[n[L.expando]]}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});function pt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ht(e){var t=ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function dt(e,t){var n=e.length,r=0;for(;n>r;r++)q.set(e[r],"globalEval",!t||q.get(t[r],"globalEval"))}function gt(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(q.hasData(e)&&(o=q.access(e),s=q.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)x.event.add(t,i,l[i][n])}L.hasData(e)&&(a=L.access(e),u=x.extend({},a),L.set(t,u))}}function mt(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&x.nodeName(e,t)?x.merge([e],n):n}function yt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ot.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}x.fn.extend({wrapAll:function(e){var t;return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var vt,xt,bt=/^(none|table(?!-c[ea]).+)/,wt=/^margin/,Tt=RegExp("^("+b+")(.*)$","i"),Ct=RegExp("^("+b+")(?!px)[a-z%]+$","i"),kt=RegExp("^([+-])=("+b+")","i"),Nt={BODY:"block"},Et={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},jt=["Top","Right","Bottom","Left"],Dt=["Webkit","O","Moz","ms"];function At(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Dt.length;while(i--)if(t=Dt[i]+n,t in e)return t;return r}function Lt(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function qt(t){return e.getComputedStyle(t,null)}function Ht(e,t){var n,r,i,o=[],s=0,a=e.length;for(;a>s;s++)r=e[s],r.style&&(o[s]=q.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(o[s]=q.access(r,"olddisplay",Rt(r.nodeName)))):o[s]||(i=Lt(r),(n&&"none"!==n||!i)&&q.set(r,"olddisplay",i?n:x.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}x.fn.extend({css:function(e,t){return x.access(this,function(e,t,n){var r,i,o={},s=0;if(x.isArray(t)){for(r=qt(e),i=t.length;i>s;s++)o[t[s]]=x.css(e,t[s],!1,r);return o}return n!==undefined?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=x.camelCase(t),u=e.style;return t=x.cssProps[a]||(x.cssProps[a]=At(u,a)),s=x.cssHooks[t]||x.cssHooks[a],n===undefined?s&&"get"in s&&(i=s.get(e,!1,r))!==undefined?i:u[t]:(o=typeof n,"string"===o&&(i=kt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(x.css(e,t)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||x.cssNumber[a]||(n+="px"),x.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===undefined||(u[t]=n)),undefined)}},css:function(e,t,n,r){var i,o,s,a=x.camelCase(t);return t=x.cssProps[a]||(x.cssProps[a]=At(e.style,a)),s=x.cssHooks[t]||x.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),i===undefined&&(i=vt(e,t,r)),"normal"===i&&t in St&&(i=St[t]),""===n||n?(o=parseFloat(i),n===!0||x.isNumeric(o)?o||0:i):i}}),vt=function(e,t,n){var r,i,o,s=n||qt(e),a=s?s.getPropertyValue(t)||s[t]:undefined,u=e.style;return s&&(""!==a||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),Ct.test(a)&&wt.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=s.width,u.width=r,u.minWidth=i,u.maxWidth=o)),a};function Ot(e,t,n){var r=Tt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ft(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;for(;4>o;o+=2)"margin"===n&&(s+=x.css(e,n+jt[o],!0,i)),r?("content"===n&&(s-=x.css(e,"padding"+jt[o],!0,i)),"margin"!==n&&(s-=x.css(e,"border"+jt[o]+"Width",!0,i))):(s+=x.css(e,"padding"+jt[o],!0,i),"padding"!==n&&(s+=x.css(e,"border"+jt[o]+"Width",!0,i)));return s}function Pt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=qt(e),s=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=vt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ct.test(i))return i;r=s&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+Ft(e,t,n||(s?"border":"content"),r,o)+"px"}function Rt(e){var t=o,n=Nt[e];return n||(n=Mt(e,t),"none"!==n&&n||(xt=(xt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(xt[0].contentWindow||xt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=Mt(e,t),xt.detach()),Nt[e]=n),n}function Mt(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&bt.test(x.css(e,"display"))?x.swap(e,Et,function(){return Pt(e,t,r)}):Pt(e,t,r):undefined},set:function(e,n,r){var i=r&&qt(e);return Ot(e,n,r?Ft(e,t,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,t){return t?x.swap(e,{display:"inline-block"},vt,[e,"marginRight"]):undefined}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,t){x.cssHooks[t]={get:function(e,n){return n?(n=vt(e,t),Ct.test(n)?x(e).position()[t]+"px":n):undefined}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+jt[r]+t]=o[r]||o[r-2]||o[0];return i}},wt.test(e)||(x.cssHooks[e+t].set=Ot)});var Wt=/%20/g,$t=/\[\]$/,Bt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&zt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ot.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}}):{name:t.name,value:n.replace(Bt,"\r\n")}}).get()}}),x.param=function(e,t){var n,r=[],i=function(e,t){t=x.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)_t(n,e[n],t,i);return r.join("&").replace(Wt,"+")};function _t(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||$t.test(e)?r(e,i):_t(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)_t(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)
},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xt,Ut,Yt=x.now(),Vt=/\?/,Gt=/#.*$/,Jt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,en=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nn=x.fn.load,rn={},on={},sn="*/".concat("*");try{Ut=i.href}catch(an){Ut=o.createElement("a"),Ut.href="",Ut=Ut.href}Xt=tn.exec(Ut.toLowerCase())||[];function un(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ln(e,t,n,r){var i={},o=e===on;function s(a){var u;return i[a]=!0,x.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):undefined:(t.dataTypes.unshift(l),s(l),!1)}),u}return s(t.dataTypes[0])||!i["*"]&&s("*")}function cn(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),x.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),s.length>0&&x.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Kt.test(Xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?cn(cn(e,x.ajaxSettings),t):cn(x.ajaxSettings,e)},ajaxPrefilter:un(rn),ajaxTransport:un(on),ajax:function(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,i,o,s,a,u,l,c=x.ajaxSetup({},t),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?x(p):x.event,h=x.Deferred(),d=x.Callbacks("once memory"),g=c.statusCode||{},m={},y={},v=0,b="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===v){if(!o){o={};while(t=Qt.exec(i))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===v?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return v||(e=y[n]=y[n]||e,m[e]=t),this},overrideMimeType:function(e){return v||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>v)for(t in e)g[t]=[g[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),k(0,t),this}};if(h.promise(T).complete=d.add,T.success=T.done,T.error=T.fail,c.url=((e||c.url||Ut)+"").replace(Gt,"").replace(en,Xt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=x.trim(c.dataType||"*").toLowerCase().match(w)||[""],null==c.crossDomain&&(a=tn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===Xt[1]&&a[2]===Xt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Xt[3]||("http:"===Xt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=x.param(c.data,c.traditional)),ln(rn,c,t,T),2===v)return T;u=c.global,u&&0===x.active++&&x.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Zt.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(Vt.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Jt.test(r)?r.replace(Jt,"$1_="+Yt++):r+(Vt.test(r)?"&":"?")+"_="+Yt++)),c.ifModified&&(x.lastModified[r]&&T.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&T.setRequestHeader("If-None-Match",x.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",c.contentType),T.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+sn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)T.setRequestHeader(l,c.headers[l]);if(c.beforeSend&&(c.beforeSend.call(p,T,c)===!1||2===v))return T.abort();b="abort";for(l in{success:1,error:1,complete:1})T[l](c[l]);if(n=ln(on,c,t,T)){T.readyState=1,u&&f.trigger("ajaxSend",[T,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){T.abort("timeout")},c.timeout));try{v=1,n.send(m,k)}catch(C){if(!(2>v))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,t,o,a){var l,m,y,b,w,C=t;2!==v&&(v=2,s&&clearTimeout(s),n=undefined,i=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(b=pn(c,T,o)),b=fn(c,b,T,l),l?(c.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(x.lastModified[r]=w),w=T.getResponseHeader("etag"),w&&(x.etag[r]=w)),204===e||"HEAD"===c.type?C="nocontent":304===e?C="notmodified":(C=b.state,m=b.data,y=b.error,l=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(t||C)+"",l?h.resolveWith(p,[m,C,T]):h.rejectWith(p,[T,C,y]),T.statusCode(g),g=undefined,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[T,c,l?m:y]),d.fireWith(p,[T,C]),u&&(f.trigger("ajaxComplete",[T,c]),--x.active||x.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,undefined,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return x.isFunction(n)&&(i=i||r,r=n,n=undefined),x.ajax({url:e,type:t,dataType:i,data:n,success:r})}});function pn(e,t,n){var r,i,o,s,a=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):undefined}function fn(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=x("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}});var hn=[],dn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||x.expando+"_"+Yt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=x.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(dn,"$1"+i):t.jsonp!==!1&&(t.url+=(Vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,hn.push(i)),s&&x.isFunction(o)&&o(s[0]),s=o=undefined}),"script"):undefined}),x.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var gn=x.ajaxSettings.xhr(),mn={0:200,1223:204},yn=0,vn={};e.ActiveXObject&&x(e).on("unload",function(){for(var e in vn)vn[e]();vn=undefined}),x.support.cors=!!gn&&"withCredentials"in gn,x.support.ajax=gn=!!gn,x.ajaxTransport(function(e){var t;return x.support.cors||gn&&!e.crossDomain?{send:function(n,r){var i,o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete vn[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status||404,s.statusText):r(mn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=vn[o=yn++]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:undefined});var xn,bn,wn=/^(?:toggle|show|hide)$/,Tn=RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),Cn=/queueHooks$/,kn=[An],Nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Tn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),s=(x.cssNumber[e]||"px"!==o&&+r)&&Tn.exec(x.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,x.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};function En(){return setTimeout(function(){xn=undefined}),xn=x.now()}function Sn(e,t,n){var r,i=(Nn[t]||[]).concat(Nn["*"]),o=0,s=i.length;for(;s>o;o++)if(r=i[o].call(n,t,e))return r}function jn(e,t,n){var r,i,o=0,s=kn.length,a=x.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=xn||En(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;for(;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:xn||En(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Dn(c,l.opts.specialEasing);s>o;o++)if(r=kn[o].call(l,e,c,l.opts))return r;return x.map(c,Sn,l),x.isFunction(l.opts.start)&&l.opts.start.call(e,l),x.fx.timer(x.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Dn(e,t){var n,r,i,o,s;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=x.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(jn,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Nn[n]=Nn[n]||[],Nn[n].unshift(t)},prefilter:function(e,t){t?kn.unshift(e):kn.push(e)}});function An(e,t,n){var r,i,o,s,a,u,l=this,c={},p=e.style,f=e.nodeType&&Lt(e),h=q.get(e,"fxshow");n.queue||(a=x._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,l.always(function(){l.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],wn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!h||h[r]===undefined)continue;f=!0}c[r]=h&&h[r]||x.style(e,r)}if(!x.isEmptyObject(c)){h?"hidden"in h&&(f=h.hidden):h=q.access(e,"fxshow",{}),o&&(h.hidden=!f),f?x(e).show():l.done(function(){x(e).hide()}),l.done(function(){var t;q.remove(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)s=Sn(f?h[r]:0,r,l),r in h||(h[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function Ln(e,t,n,r,i){return new Ln.prototype.init(e,t,n,r,i)}x.Tween=Ln,Ln.prototype={constructor:Ln,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=Ln.propHooks[this.prop];return e&&e.get?e.get(this):Ln.propHooks._default.get(this)},run:function(e){var t,n=Ln.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ln.propHooks._default.set(this),this}},Ln.prototype.init.prototype=Ln.prototype,Ln.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ln.propHooks.scrollTop=Ln.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qn(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),s=function(){var t=jn(this,x.extend({},e),o);(i||q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,s=q.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Cn.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function qn(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=jt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:qn("show"),slideUp:qn("hide"),slideToggle:qn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=Ln.prototype.init,x.fx.tick=function(){var e,t=x.timers,n=0;for(xn=x.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||x.fx.stop(),xn=undefined},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){bn||(bn=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(bn),bn=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===undefined?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return t=s.documentElement,x.contains(t,i)?(typeof i.getBoundingClientRect!==r&&(o=i.getBoundingClientRect()),n=Hn(s),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},x.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=x.css(e,"position"),p=x(e),f={};"static"===c&&(e.style.position="relative"),a=p.offset(),o=x.css(e,"top"),u=x.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=p.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),x.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):p.css(f)}},x.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===x.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(r=e.offset()),r.top+=x.css(e[0],"borderTopWidth",!0),r.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;x.fn[t]=function(i){return x.access(this,function(t,i,o){var s=Hn(t);return o===undefined?s?s[n]:t[i]:(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o,undefined)},t,i,arguments.length,null)}});function Hn(e){return x.isWindow(e)?e:9===e.nodeType&&e.defaultView}x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return x.access(this,function(t,n,r){var i;return x.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?x.css(t,n,s):x.style(t,n,r,s)},t,o?r:undefined,o,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=x)})(window);

/* Source: jquery.flip.min.js */
(function($){// Function from David Walsh: http://davidwalsh.name/css-animation-callback licensed with http://opensource.org/licenses/MIT var whichTransitionEvent=function(){var t,el=document.createElement("fakeelement"),transitions={"transition":"transitionend","OTransition":"oTransitionEnd","MozTransition":"transitionend","WebkitTransition":"webkitTransitionEnd"};for(t in transitions){if(el.style[t]!==undefined){return transitions[t];}}};var Flip=function($el,options,callback){this.setting={axis:"y",reverse:false,trigger:"click",speed:500,forceHeight:false,forceWidth:false,autoSize:true,front:'.front',back:'.back'};this.setting=$.extend(this.setting,options);if(typeof options.axis==='string'&&(options.axis.toLowerCase()==='x'||options.axis.toLowerCase()==='y')){this.setting.axis=options.axis.toLowerCase();}if(typeof options.reverse==="boolean"){this.setting.reverse=options.reverse;}if(typeof options.trigger==='string'){this.setting.trigger=options.trigger.toLowerCase();}var speed=parseInt(options.speed);if(!isNaN(speed)){this.setting.speed=speed;}if(typeof options.forceHeight==="boolean"){this.setting.forceHeight=options.forceHeight;}if(typeof options.forceWidth==="boolean"){this.setting.forceWidth=options.forceWidth;}if(typeof options.autoSize==="boolean"){this.setting.autoSize=options.autoSize;}if(typeof options.front==='string'||options.front instanceof $){this.setting.front=options.front;}if(typeof options.back==='string'||options.back instanceof $){this.setting.back=options.back;}this.element=$el;this.frontElement=this.getFrontElement();this.backElement=this.getBackElement();this.isFlipped=false;this.init(callback);};$.extend(Flip.prototype,{flipDone:function(callback){var self=this;self.element.one(whichTransitionEvent(),function(){self.element.trigger('flip:done');if(typeof callback==='function'){callback.call(self.element);}});},flip:function(callback){if(this.isFlipped){return;}this.isFlipped=true;var rotateAxis="rotate"+this.setting.axis;this.frontElement.css({transform:rotateAxis+(this.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"});this.backElement.css({transform:rotateAxis+"(0deg)","z-index":"1"});this.flipDone(callback);},unflip:function(callback){if(!this.isFlipped){return;}this.isFlipped=false;var rotateAxis="rotate"+this.setting.axis;this.frontElement.css({transform:rotateAxis+"(0deg)","z-index":"1"});this.backElement.css({transform:rotateAxis+(this.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});this.flipDone(callback);},getFrontElement:function(){if(this.setting.front instanceof $){return this.setting.front;}else{return this.element.find(this.setting.front);}},getBackElement:function(){if(this.setting.back instanceof $){return this.setting.back;}else{return this.element.find(this.setting.back);}},init:function(callback){var self=this;var faces=self.frontElement.add(self.backElement);var rotateAxis="rotate"+self.setting.axis;var perspective=self.element["outer"+(rotateAxis==="rotatex"?"Height":"Width")]()*2;var elementCss={'perspective':perspective,'position':'relative'};var backElementCss={"transform":rotateAxis+"("+(self.setting.reverse?"180deg":"-180deg")+")","z-index":"0","position":"relative"};var faceElementCss={"backface-visibility":"hidden","transform-style":"preserve-3d","position":"absolute","z-index":"1"};if(self.setting.forceHeight){faces.outerHeight(self.element.height());}else if(self.setting.autoSize){faceElementCss.height='100%';}if(self.setting.forceWidth){faces.outerWidth(self.element.width());}else if(self.setting.autoSize){faceElementCss.width='100%';}if((window.chrome||(window.Intl&&Intl.v8BreakIterator))&&'CSS' in window){elementCss["-webkit-transform-style"]="preserve-3d";}faces.css(faceElementCss).find('*').css({"backface-visibility":"hidden"});self.element.css(elementCss);self.backElement.css(backElementCss);// not forcing width/height may cause an initial flip to show up on setTimeout(function(){var speedInSec=self.setting.speed/1000||0.5;faces.css({"transition":"all "+speedInSec+"s ease-out"});if(typeof callback==='function'){callback.call(self.element);}},20);self.attachEvents();},clickHandler:function(event){if(!event){event=window.event;}if(this.element.find($(event.target).closest('button, a, input[type="submit"]')).length){return;}if(this.isFlipped){this.unflip();}else{this.flip();}},hoverHandler:function(){var self=this;self.element.off('mouseleave.flip');self.flip();setTimeout(function(){self.element.on('mouseleave.flip',$.proxy(self.unflip,self));if(!self.element.is(":hover")){self.unflip();}},(self.setting.speed+150));},attachEvents:function(){var self=this;if(self.setting.trigger==="click"){self.element.on($.fn.tap?"tap.flip":"click.flip",$.proxy(self.clickHandler,self));}else if(self.setting.trigger==="hover"){self.element.on('mouseenter.flip',$.proxy(self.hoverHandler,self));self.element.on('mouseleave.flip',$.proxy(self.unflip,self));}},flipChanged:function(callback){this.element.trigger('flip:change');if(typeof callback==='function'){callback.call(this.element);}},changeSettings:function(options,callback){var self=this;var changeNeeded=false;if(options.axis!==undefined&&self.setting.axis!==options.axis.toLowerCase()){self.setting.axis=options.axis.toLowerCase();changeNeeded=true;}if(options.reverse!==undefined&&self.setting.reverse!==options.reverse){self.setting.reverse=options.reverse;changeNeeded=true;}if(changeNeeded){var faces=self.frontElement.add(self.backElement);var savedTrans=faces.css(["transition-property","transition-timing-function","transition-duration","transition-delay"]);faces.css({transition:"none"});var rotateAxis="rotate"+self.setting.axis;if(self.isFlipped){self.frontElement.css({transform:rotateAxis+(self.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"});}else{self.backElement.css({transform:rotateAxis+(self.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});}setTimeout(function(){faces.css(savedTrans);self.flipChanged(callback);},0);}else{self.flipChanged(callback);}}});$.fn.flip=function(options,callback){if(typeof options==='function'){callback=options;}if(typeof options==="string"||typeof options==="boolean"){this.each(function(){var flip=$(this).data('flip-model');if(options==="toggle"){options=!flip.isFlipped;}if(options){flip.flip(callback);}else{flip.unflip(callback);}});}else{this.each(function(){if($(this).data('flip-model')){var flip=$(this).data('flip-model');if(options&&(options.axis!==undefined||options.reverse!==undefined)){flip.changeSettings(options,callback);}}else{$(this).data('flip-model',new Flip($(this),(options||{}),callback));}});}return this;};}(jQuery));
/* Source: tabler-custom.min.js */
document.addEventListener('DOMContentLoaded',function(){initializeTooltips();initializeConfirmations();initializeFormEnhancements();initializeTableEnhancements();initializeNotifications();});function initializeTooltips(){const tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));tooltipTriggerList.map(function(tooltipTriggerEl){return new bootstrap.Tooltip(tooltipTriggerEl,{trigger:'hover',delay:{show:500,hide:100}});});}function initializeConfirmations(){const deleteLinks=document.querySelectorAll('.btn-delete, .delete-confirm');deleteLinks.forEach(link=>{link.addEventListener('click',function(e){e.preventDefault();const message=this.getAttribute('data-message')||'Bu işlem geri alınamaz. Emin misiniz?';const title=this.getAttribute('data-title')||'Silme Onayı';if(confirm(title+'\n\n'+message)){if(this.tagName==='A'){window.location.href=this.href;}else if(this.tagName==='BUTTON'&&this.form){this.form.submit();}}});});}function initializeFormEnhancements(){const forms=document.querySelectorAll('form[data-auto-save]');forms.forEach(form=>{const formId=form.getAttribute('data-auto-save');loadFormData(form,formId);form.addEventListener('input',function(){saveFormData(form,formId);});form.addEventListener('submit',function(){setTimeout(()=>{clearFormData(formId);},1000);});});const textareas=document.querySelectorAll('textarea[maxlength]');textareas.forEach(textarea=>{const maxLength=textarea.getAttribute('maxlength');const counter=document.createElement('div');counter.className='text-muted small mt-1';counter.textContent=`0 / ${maxLength}`;textarea.parentNode.appendChild(counter);textarea.addEventListener('input',function(){const currentLength=this.value.length;counter.textContent=`${currentLength} / ${maxLength}`;if(currentLength>maxLength*0.9){counter.className='text-warning small mt-1';}else if(currentLength===parseInt(maxLength)){counter.className='text-danger small mt-1';}else{counter.className='text-muted small mt-1';}});});}function initializeTableEnhancements(){const tables=document.querySelectorAll('table:not(.table-responsive table)');tables.forEach(table=>{if(!table.closest('.table-responsive')){const wrapper=document.createElement('div');wrapper.className='table-responsive';table.parentNode.insertBefore(wrapper,table);wrapper.appendChild(table);}});const clickableRows=document.querySelectorAll('tr[data-href]');clickableRows.forEach(row=>{row.style.cursor='pointer';row.addEventListener('click',function(e){if(e.target.tagName!=='BUTTON'&&e.target.tagName!=='A'){window.location.href=this.getAttribute('data-href');}});});const sortableHeaders=document.querySelectorAll('th[data-sort]');sortableHeaders.forEach(header=>{header.style.cursor='pointer';header.addEventListener('click',function(){const table=this.closest('table');const column=this.getAttribute('data-sort');sortTable(table,column);});});}function initializeNotifications(){const alerts=document.querySelectorAll('.alert:not(.alert-permanent)');alerts.forEach(alert=>{if(!alert.querySelector('.btn-close')){setTimeout(()=>{alert.style.opacity='0';setTimeout(()=>{alert.remove();},300);},5000);}});const urlParams=new URLSearchParams(window.location.search);if(urlParams.get('success')){showNotification('İşlem başarıyla tamamlandı!','success');}if(urlParams.get('error')){showNotification('İşlem sırasında bir hata oluştu.','error');}}function showNotification(message,type='info',duration=3000){const alertClass=type==='error'?'alert-danger':`alert-${type}`;const icon=type==='success'?'ti-check':type==='error'?'ti-alert-circle':'ti-info-circle';const alert=document.createElement('div');alert.className=`alert ${alertClass} alert-dismissible fade show position-fixed`;alert.style.cssText='top: 20px; right: 20px; z-index: 1050; min-width: 300px;';alert.innerHTML=`
        <div class="d-flex align-items-center">
            <i class="ti ${icon} me-2"></i>
            <span>${message}</span>
            <button type="button" class="btn-close ms-auto" data-bs-dismiss="alert"></button>
        </div>
    `;document.body.appendChild(alert);if(duration>0){setTimeout(()=>{alert.remove();},duration);}}function saveFormData(form,formId){const data={};const inputs=form.querySelectorAll('input, textarea, select');inputs.forEach(input=>{if(input.name&&input.type!=='password'){if(input.type==='checkbox'){data[input.name]=input.checked;}else{data[input.name]=input.value;}}});localStorage.setItem(`form_${formId}`,JSON.stringify(data));}function loadFormData(form,formId){const saved=localStorage.getItem(`form_${formId}`);if(saved){const data=JSON.parse(saved);Object.keys(data).forEach(key=>{const input=form.querySelector(`[name="${key}"]`);if(input&&input.type!=='password'){if(input.type==='checkbox'){input.checked=data[key];}else{input.value=data[key];}}});}}function clearFormData(formId){localStorage.removeItem(`form_${formId}`);}function sortTable(table,column){const tbody=table.querySelector('tbody');const rows=Array.from(tbody.querySelectorAll('tr'));rows.sort((a,b)=>{const aValue=a.getAttribute(`data-${column}`)||a.querySelector(`[data-${column}]`)?.textContent||'';const bValue=b.getAttribute(`data-${column}`)||b.querySelector(`[data-${column}]`)?.textContent||'';return aValue.localeCompare(bValue,'tr',{numeric:true});});rows.forEach(row=>tbody.appendChild(row));}function showLoading(element,text='Yükleniyor...'){element.classList.add('loading');element.setAttribute('data-loading-text',element.textContent);element.textContent=text;element.disabled=true;}function hideLoading(element){element.classList.remove('loading');element.textContent=element.getAttribute('data-loading-text')||element.textContent;element.disabled=false;}async function apiRequest(url,options={}){const defaultOptions={method:'GET',headers:{'Content-Type':'application/json','X-Requested-With':'XMLHttpRequest'}};try{const response=await fetch(url,{...defaultOptions,...options});const data=await response.json();if(!response.ok){throw new Error(data.message||'Bir hata oluştu');}return data;}catch(error){showNotification(error.message,'error');throw error;}}window.SMM={showNotification,showLoading,hideLoading,apiRequest};
/* Source: turn.min.js */
/*! turn.js 5.0.0  24-01-2014 ~ (c) 2014 Emmanuel Garcia ~ http://turnjs.com*/
!function(a){var b={};b.version="5.0.0",b.PI=Math.PI,b.A90=Math.PI/2,b.isTouch=!1,b.corners={backward:["bl","tl","l"],forward:["br","tr","r"],all:["tl","bl","tr","br","l","r"]},b.DISPLAY_SINGLE=1,b.DISPLAY_DOUBLE=2,b.DIRECTION_LTR=1,b.DIRECTION_RTL=2,b.EVENT_PREVENTED=1,b.EVENT_STOPPED=2,b.fragStatus={assigned:0,requested:1,waiting:2,nsplit:6,fetched:3,splitted:4,full:5},b.getVendorPrefix=function(){for(var a=["Moz","Webkit","Khtml","O","ms"],b=a.length,c="";b--;)a[b]+"Transform"in document.body.style&&(c="-"+a[b].toLowerCase()+"-");return c},b.addCssWithPrefix=function(a){var b=this.vendor||this.getVendorPrefix(),c={};for(var d in a)this.has(d,a)&&(c[d.replace("@",b)]=a[d].replace("@",b));return c},b.transitionEnd=function(a,b){var c,d,e=document.createElement("fakeelement"),f={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(c in f)if(void 0!==e.style[c]){d=f[c];break}return a&&(d?a.bind(d,function(){a.unbind(d),b.call(a)}):window.setTimeout(function(){b.call(a)},Math.ceil(1e3*parseFloat(a.css(getVendorPrefix()+"transition-duration"))))),d},b.findPos=function(a){var b={top:0,left:0};do b.left+=a.offsetLeft,b.top+=a.offsetTop;while(a=a.offsetParent);return b},b.offsetWhile=function(a,b){var c={top:0,left:0};do{if(!b(a,c))break;c.left+=a.offsetLeft,c.top+=a.offsetTop}while(a=a.offsetParent);return c},b.getSelectedText=function(){return window.getSelection?window.getSelection().toString():document.selection.createRange?document.selection.createRange().text:void 0},b.bezier=function(a,b,c){var d=1-b,e=d*d*d,f=b*b*b;return this.peelingPoint(c,Math.round(e*a[0].x+3*b*d*d*a[1].x+3*b*b*d*a[2].x+f*a[3].x),Math.round(e*a[0].y+3*b*d*d*a[1].y+3*b*b*d*a[2].y+f*a[3].y))},b.layerCSS=function(a,b,c,d){return{css:{position:"absolute",top:a,left:b,overflow:d||"hidden","z-index":c||"auto"}}},b.rad=function(a){return a/180*p},b.deg=function(a){return 180*(a/p)},b.peelingPoint=function(a,b,c){return{corner:a,x:b,y:c}},b.transformUnit=function(a,b){var c;return"string"==typeof a&&(c=/^(\d+)(px|%)$/.exec(a))?"px"==c[2]?parseInt(c[1],10):"%"==c[2]?parseInt(c[1],10)/100*b:void 0:a},b.point2D=function(a,b){return{x:a,y:b}},b.translate=function(a,b,c){return this.has3d&&c?" translate3d("+a+"px,"+b+"px, 0px) ":" translate("+a+"px, "+b+"px) "},b.scale=function(a,b,c){return this.has3d&&c?" scale3d("+a+","+b+", 1) ":" scale("+a+", "+b+") "},b.rotate=function(a){return" rotate("+a+"deg) "},b.has=function(a,b){return Object.prototype.hasOwnProperty.call(b,a)},b.rotationAvailable=function(){var a;if(a=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent)){var b=parseFloat(a[1]);return b>534.3}return!0},b.css3dAvailable=function(){return"WebKitCSSMatrix"in window||"MozPerspective"in document.body.style},b.getTransitionEnd=function(a,b){var c,d,e=document.createElement("fakeelement"),f={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(c in f)if(void 0!==e.style[c]){d=f[c];break}return a&&(d?a.bind(d,function(){a.unbind(d),b.call(a)}):setTimeout(function(){b.call(a)},Math.ceil(1e3*parseFloat(a.css(getVendorPrefix()+"transition-duration"))))),d},b.makeGradient=function(a){var b;return"-webkit-"==this.vendor?a?(b="-webkit-gradient(linear, left top, right top,",b+="color-stop(0, rgba(0,0,0,0)),",b+="color-stop(0.3, rgba(0,0,0, 0.3)),",b+="color-stop(0.5, rgba(0,0,0, 0.8))",b+=")"):(b="-webkit-gradient(linear, left top, right top,",b+="color-stop(0, rgba(0,0,0,0)),",b+="color-stop(0.2, rgba(0,0,0,0.5)),",b+="color-stop(0.2, rgba(0,0,0,0.6)),",b+="color-stop(0.4, rgba(0,0,0,0.2)),",b+="color-stop(1, rgba(0,0,0,0))",b+=")"):(b=this.vendor+"linear-gradient(left, ",a?(b+="rgba(0,0,0,0) 0%,",b+="rgba(0,0,0,0.3) 30%,",b+="rgba(0,0,0,0.8) 50%"):(b+="rgba(0,0,0,0) 0%,",b+="rgba(0,0,0,0.2) 20%,",b+="rgba(0,0,0,0.6) 20%,",b+="rgba(0,0,0,0.2) 40%,",b+="rgba(0,0,0,0) 100%"),b+=")"),b},b.gradient=function(a,b,c,d,e){var f,g=[];if("-webkit-"==this.vendor){for(f=0;e>f;f++)g.push("color-stop("+d[f][0]+", "+d[f][1]+")");a.css({"background-image":"-webkit-gradient(linear, "+b.x+"% "+b.y+"%,"+c.x+"% "+c.y+"%, "+g.join(",")+" )"})}},b.trigger=function(c,d,e){var f=a.Event(c);return d.trigger(f,e),f.isDefaultPrevented()?b.EVENT_PREVENTED:f.isPropagationStopped()?b.EVENT_STOPPED:""},b.error=function(a){function b(a){this.name="TurnError",this.message=a}return TurnJsError.prototype=new Error,TurnJsError.prototype.constructor=b,new b(a)},b.getListeners=function(b,c,d){var e=a._data(b[0]).events,f=[];if(e){var g=e[c];g&&(a.each(g,function(a,b){f.push(b)}),d&&b.unbind(c))}return f},b.setListeners=function(a,b,c){if(c)for(var d=0;d<c.length;d++)a.on(b,c[d].selector,c[d].handler)},b.cleanSelection=function(){window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},b.hasHardPage=function(){return-1==navigator.userAgent.indexOf("MSIE 9.0")},b.UIComponent=function(c){var d=function(b,c){this._data={},this._hashKey=c,this.$el=a(b)};return d.prototype={_init:c,_bind:function(a){return d.prototype[a].apply(this,Array.prototype.slice.call(arguments,1))},_trigger:function(a){return b.trigger(a,this.$el,Array.prototype.slice.call(arguments,1))},_destroy:function(){var a=this.$el.data();delete a[this._hashKey]}},d},b.widgetInterface=function(c,d,e){var f=a.data(this,d);return f?f._bind.apply(f,e):(b.oneTimeInit(),f=new c(this,d),a.data(this,d,f),f._init.apply(f,e))},b.widgetFactory=function(c,d){var e="turn."+c;a.fn[c]=function(){if(1==this.length)return b.widgetInterface.call(this[0],d,e,arguments);for(var a=0;a<this.length;a++)b.widgetInterface.call(this[a],d,e,arguments);return this}},b.oneTimeInit=function(){this.vendor||(this.has3d=this.css3dAvailable(),this.hasRotation=this.rotationAvailable(),this.vendor=this.getVendorPrefix())},b.calculateBounds=function(a){var b={width:a.width,height:a.height};if(b.width>a.boundWidth||b.height>a.boundHeight){var c=b.width/b.height;a.boundWidth/c>a.boundHeight&&a.boundHeight*c<=a.boundWidth?(b.width=Math.round(a.boundHeight*c),b.height=a.boundHeight):(b.width=a.boundWidth,b.height=Math.round(a.boundWidth/c))}return b},b.animate=function(b,c){if(!c)return b.animation&&b.animation.stop(),void 0;if(b.animation){b.animation._time=(new Date).getTime();for(var d=0;d<b.animation._elements;d++)b.animation.from[d]=b.animation.current[d],b.animation.to[d]=c.to[d]-b.animation.from[d]}else{c.to.length||(c.to=[c.to]),c.from.length||(c.from=[c.from]);var e=!0;b.animation=a.extend({current:[],_elements:c.to.length,_time:(new Date).getTime(),stop:function(){e=!1,b.animation=null},easing:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},_frame:function(){for(var a=Math.min(this.duration,(new Date).getTime()-this._time),c=0;c<this._elements;c++)this.current[c]=this.easing(a,this.from[c],this.to[c],this.duration);e=!0,this.frame(this.current),a>=this.duration?(this.stop(),this.completed&&this.completed()):window.requestAnimationFrame(function(){e&&b.animation._frame()})}},c);for(var f=0;f<b.animation._elements;f++)b.animation.to[f]-=b.animation.from[f];b.animation._frame()}},b.addDelegateList=function(a,c){if(a)for(var d in a)b.has(d,a)&&c.on(d,a[d])},b.getDeviceName=function(){var a="",b=navigator.userAgent;return/ipad/i.test(b)?a="ipad":/iphone/i.test(b)?a="iphone":/ipod/i.test(b)?a="ipod":/kindle/i.test("iPod")&&(a="kindle"),a},window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}),a.fn.transform=function(a,c){var d={};return c&&(d[b.vendor+"transform-origin"]=c),d[b.vendor+"transform"]=a,this.css(d)},b.toggleFullScreen=function(){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();else{var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},window.Turn=b;var c=a.isTouch||"ontouchstart"in window;b.eventPrefix="",b.isTouchDevice=c,b.isInside=function(b,c){if(c){if(c==document.body||c==window)return!0;var d=a(c).offset();return d&&b.x>=d.left&&b.y>=d.top&&b.x<=d.left+c.offsetWidth&&b.y<=d.top+c.offsetHeight}},b.eventPoint=function(a){var c=a.originalEvent,d=c.touches&&c.touches[0],e=d?b.point2D(c.touches[0].pageX,c.touches[0].pageY):b.point2D(a.pageX,a.pageY);return e.time=a.timeStamp,e.target=a.target,e},b.Event=function(c,d){c=this.eventPrefix+c;var e=!1,f=function(b,d){this.el=b,this.$el=a(b),this.eventName=c,this._selector=d,this._data={},this._init()};return d._triggerVirtualEvent=function(a){e!=a.timeStamp&&(e=a.timeStamp,this.$el.trigger(a))},d._trigger=function(a){var c=b.eventPoint(a),d=this.Event(a,{pageX:c.x,pageY:c.y});this._triggerVirtualEvent(d)},d.Event=function(b,c){c=c||{},c.type=this.eventName,c.target=b.target,c.toElement=b.toElement,c.currentTarget=b.currentTarget,c.delegateTarget=b.delegateTarget,c.pageX=c.pageX||b.pageX,c.pageY=c.pageY||b.pageY;var d=a.Event(b,c);return d.type=this.eventName,d},f.eventName=c,f.prototype=d,f},b._registerEvent=function(b,c){a.event.special[c]={add:function(d){var e=d.selector||"",f="e."+c+e,g=a(this),h=g.data(f)||{listeners:0};h.instance||(h.instance=new b(this,e)),h.listeners++,g.data(f,h)},remove:function(b){var d=b.selector||"",e="e."+c+d,f=a(this),g=f.data(e);g&&g.listeners>0&&(g.listeners--,0===g.listeners&&(g.instance._remove(),delete g.instance))}}},b._registerEvents=function(a){for(var b=0;b<a.length;b++)this._registerEvent(a[b],a[b].eventName)};var d=b.Event("tap",{_init:function(){c?(this.$el.on("touchstart",this._selector,a.proxy(this,"_touchstart")),this.$el.on("touchmove",this._selector,a.proxy(this,"_touchmove")),this.$el.on("touchend",this._selector,a.proxy(this,"_touchend"))):this.$el.on("click",this._selector,a.proxy(this,"_trigger"))},_remove:function(){c?(this.$el.off("touchstart",this._selector,this._touchstart),this.$el.off("touchmove",this._selector,this._touchmove),this.$el.off("touchend",this._selector,this._touchend)):this.$el.off("click",this._selector,this._trigger)},_touchstart:function(b){this._data.startEvent=b,this._data.initScrollTop=a(window).scrollTop(),this._data.initScrollLeft=a(window).scrollLeft()},_touchmove:function(a){this._data.startEvent=a},_touchend:function(){if(this._data.startEvent){var c=b.eventPoint(this._data.startEvent),d=a(window).scrollTop(),e=a(window).scrollLeft();if(b.isInside(c,this._data.startEvent.currentTarget||this.el)&&this._data.initScrollTop==d&&this._data.initScrollLeft==e){var f=this,g=this._data.startEvent;setTimeout(function(){f._trigger(g)},0)}this._data.startEvent=null}}}),e=b.Event("doubletap",{_init:function(){this._data.queue=[0,0],this.$el.on("tap",this._selector,a.proxy(this,"_tap"))},_remove:function(){this.$el.off("tap",this._selector,this._tap)},_tap:function(a){var c=this._data.queue;if(c.shift(),c.push(a.timeStamp),c[1]-c[0]<300){var d=a.originalEvent,e=b.eventPoint(d);this._triggerVirtualEvent(this.Event(d,{pageX:e.x,pageY:e.y}))}}}),f=b.Event("vmouseover",{_init:function(){c?this.$el.on("touchstart",this._selector,a.proxy(this,"_trigger")):this.$el.on("mouseover",this._selector,a.proxy(this,"_trigger"))},_remove:function(){c?this.$el.off("touchstart",this._selector,this._trigger):this.$el.off("mouseover",this._selector,this._trigger)}}),g=b.Event("vmouseout",{_init:function(){c?this.$el.on("touchend",this._selector,a.proxy(this,"_trigger")):this.$el.on("mouseout",this._selector,a.proxy(this,"_trigger"))},_remove:function(){c?this.$el.off("touchend",this._selector,this._trigger):this.$el.off("mouseout",this._selector,this._trigger)}}),h=b.Event("vmousedown",{_init:function(){c?this.$el.on("touchstart",this._selector,a.proxy(this,"_trigger")):this.$el.on("mousedown",this._selector,a.proxy(this,"_trigger"))},_remove:function(){c?this.$el.off("touchstart",this._selector,this._trigger):this.$el.off("mousedown",this._selector,this._trigger)}}),i=b.Event("vmouseup",{_init:function(){c?this.$el.on("touchend",this._selector,a.proxy(this,"_trigger")):this.$el.on("mouseup",this._selector,a.proxy(this,"_trigger"))},_remove:function(){c?this.$el.off("touchend",this._selector,this._trigger):this.$el.off("mouseup",this._selector,this._trigger)}}),j=b.Event("vmousemove",{_init:function(){c?this.$el.on("touchmove",this._selector,a.proxy(this,"_trigger")):this.$el.on("mousemove",this._selector,a.proxy(this,"_trigger"))},_remove:function(){c?this.$el.off("touchmove",this._selector,this._trigger):this.$el.off("mousemove",this._selector,this._trigger)}}),k=b.Event("swipe",{_init:function(){this.$el.on("vmousedown",this._selector,a.proxy(this,"_vmousedown"))},_remove:function(){this.$el.off("vmousedown",this._selector,this._vmousedown)},_vmousedown:function(c){var d=this._data;d.firstEvent=b.eventPoint(c),d.currentEvent=d.firstEvent,d.prevEvent=d.firstEvent,a(document).on("vmousemove",a.proxy(this,"_vmousemove")),a(document).on("vmouseup",a.proxy(this,"_vmouseup"))},_vmousemove:function(a){var c=this._data,d=c.currentEvent;c.currentEvent=b.eventPoint(a),c.prevEvent=d},_vmouseup:function(){var b=this._data,c=b.prevEvent.x-b.currentEvent.x,d=b.prevEvent.time-b.currentEvent.time,e=c/d;if(-.2>e||e>.2){var f={};f.pageX=b.currentEvent.x,f.pageY=b.currentEvent.y,f.speed=e,this._triggerVirtualEvent(this.Event(b.firstEvent,f))}a(document).off("vmousemove",this._vmousemove),a(document).off("vmouseup",this._vmouseup)}}),l=b.Event("pinch",{_init:function(){this.$el.on("touchstart",this._selector,a.proxy(this,"_touchstart"))},_remove:function(){this.$el.off("touchstart",this._selector,this._touchstart)},_touchstart:function(c){var d=this._data;d.firstEvent=b.eventPoint(c),d.pinch=null,a(document).on("touchmove",a.proxy(this,"_touchmove")),a(document).on("touchend",a.proxy(this,"_touchend"))},_touchmove:function(a){var c=a.originalEvent.touches,d=this._data;if(2==c.length){var e={},f=c[1].pageX-c[0].pageX,g=c[1].pageY-c[0].pageY,h=b.point2D(c[1].pageX/2+c[0].pageX/2,c[1].pageY/2+c[0].pageY/2),i=Math.sqrt(f*f+g*g);d.pinch||(d.pinch={initDistance:i,prevDistance:i,prevMidpoint:h}),e.pageX=h.x,e.pageY=h.y,e.dx=h.x-d.pinch.prevMidpoint.x,e.dy=h.y-d.pinch.prevMidpoint.y,e.factor=i/d.pinch.initDistance,e.dfactor=i/d.pinch.prevDistance,d.pinch.prevDistance=i,d.pinch.prevMidpoint=h,this._triggerVirtualEvent(this.Event(d.firstEvent,e))}},_touchend:function(){a(document).off("touchmove",this._touchmove),a(document).off("touchend",this._touchend)}});b._registerEvents([d,e,k,l,f,g,h,j,i]);var m={acceleration:!0,animatedAutoCenter:!1,autoCenter:!0,autoScroll:!0,autoScaleContent:!1,fragments:0,hoverAreaSize:50,cornerPosition:"50px 20px",margin:"0px 0px",display:"double",duration:600,easing:function(a,b,c,d){var e=(a/=d)*a,f=e*a;return b+c*(-1.95*f*e+7.8*e*e+-10.7*f+4.8*e+1.05*a)},elevation:"10%",hover:!0,ignoreElements:"[ignore=1]",page:1,pageMargin:"0px 0px",smartFlip:!1,swipe:!0,responsive:!1,gradients:!0,turnCorners:"l,r",events:null,showDoublePage:!1,zoomAnimationDuration:1e4},n=b.UIComponent(function(d){var e=this._data,f=this.$el.children(),g=0;d=a.extend({width:d.pageWidth?2*d.pageWidth:this.$el.width(),height:d.pageHeight?d.pageHeight:this.$el.height(),direction:this.$el.attr("dir")||this.$el.css("direction")||"ltr",viewer:this.$el.parent(),cacheSize:d&&d.blocks?8:6},m,d);var h=d.cornerPosition.split(" ");if(d.cornerPosition=b.point2D(parseInt(h[0],10),parseInt(h[1],10)),e.options=d,e.dynamicMode=!1,e.turningPage=!1,e.watchSizeChange=!0,e.pageObjs={},e.pageBlocks={},e.pages={},e.pageWrap={},e.blocks={},e.pageMv=[],e.front=[],e.scroll={left:0,top:0},e.margin=[0,0,0,0],e.pageMargin=[0,0,0,0],e.zoom=1,e.totalPages=d.pages||0,d.when&&(d.delegate=d.when),d.delegate)for(var i in d.delegate)b.has(i,d.delegate)&&("tap"==i||"doubletap"==i?this.$el.on(i,".page",d.delegate[i]):this.$el.on(i,d.delegate[i]));this.$el.css({position:"relative",width:d.width,height:d.height}),c?this.$el.addClass("touch-device"):this.$el.addClass("no-touch-device"),this.display(d.display),""!==d.direction&&this.direction(d.direction);for(var j=0;j<f.length;j++)a(f[j]).is(d.ignoreElements)||this.addPage(f[j],++g);return d.pages=e.totalPages,e.dynamicMode=0===g,d.swipe&&this.$el.on("swipe",a.proxy(this,"_eventSwipe")),this.$el.parent().on("start",a.proxy(this,"_eventStart")),this.$el.on("vmousedown",a.proxy(this,"_eventPress")).on("vmouseover",a.proxy(this,"_eventHover")).on("vmouseout",a.proxy(this,"_eventNoHover")),this._resizeObserver(),"number"!=typeof d.page||isNaN(d.page)||d.page<1||d.page>e.totalPages?this.page(1):this.page(d.page),d.animatedAutoCenter&&this.$el.css(b.addCssWithPrefix({"@transition":"margin-left "+d.duration+"ms"})),e.done=!0,this.$el});b.directions;var o=b.A90,p=b.PI,q=b.UIComponent(function(a,b){return a=a||{},a.disabled=!1,a.hover=!1,a.turn=b,a.turnData=b._data,a.effect=this.$el.hasClass("hard")||this.$el.hasClass("cover")?"hard":"sheet",this.$el.data("f",a),this._addPageWrapper(),a.turnData.disabled&&this.disable(),this.$el});q.prototype._cornerAllowed=function(){var a=this.$el.data("f"),c=a.page,d=a.turnData,e=c%2;switch(a.effect){case"hard":var f=d.direction==b.DIRECTION_LTR;return f?[e?"r":"l"]:[e?"l":"r"];case"sheet":if(d.display==b.DISPLAY_SINGLE)return 1==c?b.corners.forward:c==d.totalPages?b.corners.backward:"tapping"==a.status?b.corners.all:b.corners.forward;if(d.display==b.DISPLAY_DOUBLE)return d.options.showDoublePage?b.corners[e?"backward":"forward"]:b.corners[e?"forward":"backward"]}},q.prototype._cornerActivated=function(c){var d=this.$el.width(),e=this.$el.height(),f=b.peelingPoint("",c.x,c.y);if(f.x<=0||f.y<=0||f.x>=d||f.y>=e)return!1;var g=this.$el.data("f"),h=g.turnData;if(g.dpoint){var i=h.options.cornerPosition,j=this._startPoint(g.dpoint.corner,a.extend({},f));if(i=Math.max(i.x,i.y),j.x<=i&&j.y<=i)return f.corner=g.dpoint.corner,f}var k=h.options.hoverAreaSize,l=this._cornerAllowed();switch(g.effect){case"hard":if(f.x>d-k)f.corner="r";else{if(!(f.x<k))return!1;f.corner="l"}break;case"sheet":f.y<k?f.corner+="t":f.y>=e-k&&(f.corner+="b"),f.x<=k?f.corner+="l":f.x>=d-k&&(f.corner+="r")}return f.corner&&-1!=a.inArray(f.corner,l)?f:!1},q.prototype._isIArea=function(a){var c=b.eventPoint(a),d=this.$el.data("f"),e=(d.clip||d.ipage).parent().offset();return this._cornerActivated(b.point2D(c.x-e.left,c.y-e.top))},q.prototype._startPoint=function(a,c){var d;switch(c=c||b.point2D(0,0),a){case"tr":c.x=this.$el.width()-c.x;break;case"bl":c.y=this.$el.height()-c.y;break;case"br":c.x=this.$el.width()-c.x,c.y=this.$el.height()-c.y;break;case"l":d=this.$el.data("f"),d.startPoint&&(c.y=d.startPoint.y);break;case"r":c.x=this.$el.width()-c.x,d=this.$el.data("f"),d.startPoint&&(c.y=d.startPoint.y)}return c},q.prototype._endPoint=function(a,c){var d;switch(c=c||b.point2D(0,0),a){case"tl":c.x=2*this.$el.width()-c.x;break;case"tr":c.x=-this.$el.width()+c.x;break;case"bl":c.x=2*this.$el.width()-c.x,c.y=this.$el.height()-c.y;break;case"br":c.x=-this.$el.width()+c.x,c.y=this.$el.height()-c.y;break;case"l":c.x=2*this.$el.width()-c.x,d=this.$el.data("f"),d.startPoint&&(c.y=d.startPoint.y);break;case"r":c.x=-this.$el.width()-c.x,d=this.$el.data("f"),d.startPoint&&(c.y=d.startPoint.y)}return c},q.prototype._foldingPage=function(a){var c=this.$el.data("f");if(c){var d=c.turnData;return a=a||"pageObjs",d.display==b.DISPLAY_SINGLE?d[a][0]:c.over?d[a][c.over]:d[a][c.next]}return!1},q.prototype.resize=function(a,b){var c=this.$el.data("f");switch(a=a||this.$el.width(),b=b||this.$el.height(),c.effect){case"hard":c.ipage.css({width:a,height:b}),c.igradient.css({width:a,height:b}),c.ogradient.css({width:a,height:b});break;case"sheet":var d=Math.round(Math.sqrt(a*a+b*b));c.clip.css({width:d,height:d}),c.ipage.css({width:a,height:b}),c.igradient.css({width:100,height:2*b,top:-b/2}),c.ogradient.css({width:100,height:2*b,top:-b/2})}return this.$el},q.prototype._addPageWrapper=function(){var c=this.$el.data("f");c.turnData;var d,e=this.$el.parent(),f=a("<div />",{"class":"inner-page"}),g=a("<div />",{"class":"inner-gradient"}),h=a("<div />",{"class":"outer-gradient"});switch(c.effect){case"hard":d=b.layerCSS(0,0,2).css,d[b.vendor+"transform-style"]="preserve-3d",d[b.vendor+"backface-visibility"]="hidden",f.css(d).appendTo(e).prepend(this.$el),g.css(b.layerCSS(0,0,0).css).appendTo(f),h.css(b.layerCSS(0,0,0)),c.ipage=f,c.igradient=g,c.ogradient=h;break;case"sheet":var i=a("<div />",{"class":"clip"});d=b.layerCSS(0,0,0).css,i.css(d),f.css(a.extend({cursor:"default"},d)),d.zIndex=1,g.css({background:b.makeGradient(!0),display:"none",visibility:"hidden",position:"absolute","z-index":2}),h.css({background:b.makeGradient(!1),visibility:"hidden",position:"absolute","z-index":2}),g.appendTo(f),f.appendTo(i).prepend(this.$el),h.appendTo(e),i.appendTo(e),c.clip=i,c.ipage=f,c.igradient=g,c.ogradient=h}this.resize()},q.prototype._fold=function(a){var c=this.$el.data("f");if(c.dpoint&&c.dpoint.corner==a.corner&&c.dpoint.x==a.x&&c.dpoint.y==a.y)return!1;switch(c.effect){case"hard":this._hard(a);break;case"sheet":this._pageCURL(a)}return c.dpoint=b.peelingPoint(a.corner,a.x,a.y),!0},q.prototype._bringClipToFront=function(a){var c=this.$el.data("f");if(c){var d=c.turnData,e=d.display==b.DISPLAY_SINGLE;if(a){var f=e?0:c.next;if(c.over&&c.over!=f&&this._bringClipToFront(!1),"hard"==c.effect)c.igradient.show();else if("sheet"==c.effect){var g=d.pageWrap[f],h=d.pages[f].data("f"),i=g.width(),j=g.height();if(g.css({overflow:"visible","pointer-events":"none",zIndex:3+d.front.length}),h.ipage.css({overflow:"hidden",position:"absolute",width:i,height:j}),h.igradient.show().css({visibility:"visible"}),c.ipage.css({"z-index":1}),c.ogradient.show().css({zIndex:2,visibility:"visible"}),e&&h.tPage!=c.page){d.pageObjs[0].find("*").remove();var k=d.pageObjs[c.page].clone(!1).css({opacity:"0.2",overflow:"hidden"}).transform("rotateY(180deg)","50% 50%");k.appendTo(d.pageObjs[0]),h.tPage=c.page}}c.over=f}else if(c.over){var l=d.pageWrap[c.over];l&&l.css({overflow:"hidden",display:"none","pointer-events":"",zIndex:0}),this._restoreClip(!0),delete c.over}}},q.prototype._restoreClip=function(a,c){var d,e=this.$el.data("f"),f=e.turnData,g=a?b.translate(0,0,f.options.acceleration):"";c?d=e:f.pages[e.over]&&(d=f.pages[e.over].data("f")),d&&(d.clip&&d.clip.transform(g),d.ipage.transform(g).css({top:0,left:0,right:"auto",bottom:"auto"}),d.igradient.hide())},q.prototype._setFoldedPagePosition=function(a,c){var d=this.$el.data(),e=d.f,f=e.turnData;if(c){var g,h=this,i=a.corner;g=e.point&&e.point.corner==i?e.point:this._startPoint(i,b.point2D(1,1)),this._animate({from:[g.x,g.y],to:[a.x,a.y],duration:500,easing:f.options.easing,frame:function(b){a.x=Math.round(b[0]),a.y=Math.round(b[1]),a.corner=i,h._fold(a)}})}else this._fold(a),this.animation&&!this.animation.turning&&this._animate(!1)},q.prototype._showFoldedPage=function(a,c){var d=this.$el.data("f"),e=this._foldingPage();if(d&&e){var f=d.visible,g=a.corner,h=d.turn,i=d.turnData;if(!f||!d.point||d.point.corner!=a.corner){if(i.corner=g,this._trigger("start",d.page,i.tpage?null:a.corner)==b.EVENT_PREVENTED)return!1;if(i.pages[d.next]&&d.effect!=i.pages[d.next].data("f").effect)return!1;if("hard"==d.effect&&"turning"==i.status)for(var j=0;j<i.front.length;j++)if(!i.pages[i.front[j]].hasClass("hard")){n.prototype.stop.call(h);break}f||(i.front.push(i.display==b.DISPLAY_SINGLE?0:d.next),i.pageMv.push(d.page)),d.startPoint=d.startPoint||b.point2D(a.x,a.y),d.visible=!0,this._bringClipToFront(!0),n.prototype.update.call(h),i.options.blocks&&n.prototype._fetchBlocks.call(h,Math.max(i.options.pages+1,n.prototype.view.call(h,d.next)[0]),"hover")}return this._setFoldedPagePosition(a,c),!0}return!1},q.prototype.hide=function(){var a=this.$el.data("f"),c=a.turnData,d=b.translate(0,0,c.options.acceleration);switch(a.effect){case"hard":var e=c.pages[a.over];a.ogradient.remove(),a.igradient.remove(),a.ipage.transform(d),e&&e.data("f").ipage.transform(d);break;case"sheet":var f=c.pageWrap[a.over];f&&f.css({overflow:"hidden","pointer-events":""}),a.ipage.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(d),a.clip.transform(d),a.ogradient.css({visibility:"hidden"})}return a.visible&&0===c.front.length&&n.prototype._removeFromDOM.call(a.turn),a.status="",a.visible=!1,delete a.point,delete a.dpoint,delete a.startPoint,this.$el},q.prototype.hideFoldedPage=function(a){var c=this.$el.data("f");if(c.dpoint){var d=this,e=c.status,f=c.turnData,g=c.peel&&c.peel.corner==c.dpoint.corner,h=function(){a&&"move"==e&&g?c.status="peel":d._animationCompleted(c.page,!1)};if(a){var i=[c.dpoint,0,0,0];i[3]=g?this._startPoint(i[0].corner,b.point2D(c.peel.x,c.peel.y)):this._startPoint(i[0].corner,b.point2D(0,1));var j=i[0].y-i[3].y;j="tr"==i[0].corner||"tl"==i[0].corner?Math.min(0,j)/2:Math.max(0,j)/2,i[1]=b.point2D(i[0].x,i[0].y+j),i[2]=b.point2D(i[3].x,i[3].y-j),this._animate(!1),this._animate({from:0,to:1,frame:function(a){d._fold(b.bezier(i,a,i[0].corner))},complete:h,easing:f.options.easing,duration:800,hiding:!0})}else this._animate(!1),h()}},q.prototype.turnPage=function(c){var d,e,f=this.$el,g=f.data("f"),h=g.turnData,i=[0,0,0,0];if(has3d=b.css3dAvailable(),h.display==b.DISPLAY_SINGLE&&-1==a.inArray(c,b.corners.forward)){var j=h.pages[g.next],k=j.data("f"),l=k.peel,m=parseInt(h.pageWrap[g.page].css("z-index"),10)||0;e=k.dpoint?k.dpoint.corner:c,d=b.peelingPoint(h.direction==b.DIRECTION_LTR?e.replace("l","r"):e.replace("r","l")),f=j,h.pageWrap[g.page-1].show().css({zIndex:m+1}),i[0]=k.dpoint?b.point2D(k.dpoint.x,k.dpoint.y):this._endPoint(d.corner),i[1]=i[0],i[2]=this._startPoint(d.corner,b.point2D(0,20)),i[3]=l?this._startPoint(d.corner,b.point2D(l.x,l.y)):this._startPoint(d.corner)}else{var o="r"==c||"l"==c?0:h.options.elevation,p=b.transformUnit(o,this.$el.height());e=g.dpoint?g.dpoint.corner:c,d=b.peelingPoint(e||this._cornerAllowed()[0]),i[0]=g.dpoint||this._startPoint(d.corner),i[1]=g.dpoint?i[0]:this._startPoint(d.corner,b.point2D(0,p)),(i[0].x<0||i[0].x>this.$el.width())&&(p=0),i[2]=this._endPoint(d.corner,b.point2D(0,p)),i[3]=this._endPoint(d.corner)}f.flip("_animate",!1),f.flip("_showFoldedPage",i[0])?(g.turnData.options.autoCenter&&n.prototype.center.call(g.turn,g.next),f.flip("_animate",{from:0,to:1,easing:h.options.easing,frame:function(a){f.flip("_fold",b.bezier(i,a,d.corner))},complete:function(){f.flip("_animationCompleted",g.page,!0)},duration:h.options.duration,turning:!0})):f.flip("_animationCompleted",g.page,!0),g.corner=null},q.prototype.isTurning=function(){return this.animation&&this.animation.turning},q.prototype._showWhenHolding=function(){var c,d=this.$el,e=d.data("f"),f=e.turn,g=e.turnData;if(e.holdingPoint){var h=g.display==b.DISPLAY_SINGLE,i=this._cornerAllowed();if(c=g.direction==b.DIRECTION_LTR?h?e.holdingPoint.x>d.width()/2?"r":"l":g.options.showDoublePage?0===e.page%2?"r":"l":0===e.page%2?"l":"r":h?e.holdingPoint.x>d.width()/2?"l":"r":g.options.showDoublePage?0===e.page%2?"l":"r":0===e.page%2?"r":"l",n.prototype.stop.call(f),this._animate(!1),e.status="holding",~a.inArray(c,i)){g.tmpListeners||(g.tmpListeners={},g.tmpListeners.tap=b.getListeners(f.$el,"tap",!0),g.tmpListeners.doubleTap=b.getListeners(f.$el,"doubleTap",!0));var j=b.peelingPoint(c,e.holdingPoint.x,e.holdingPoint.y);h?this._detectSinglePage(j,j,!0)&&(e.corner=b.peelingPoint(c,e.holdingPoint.x,e.holdingPoint.y)):this._showFoldedPage(j,!0)&&(e.corner=b.peelingPoint(c,e.holdingPoint.x,e.holdingPoint.y))}}},q.prototype._pagePress=function(c){var d=this.$el.data("f"),e=d.turn;if(!d.corner&&!d.disabled&&!this.isTurning()){var f=d.turnData;f.status="tapping",d.status="tapping";var g=this._isIArea(c);if(!(f.options.hover||d.peel&&d.peel.corner==g.corner))return f.status="",d.status="",void 0;if(f.display==b.DISPLAY_SINGLE&&f.pages[d.next]&&d.effect!=f.pages[d.next].data("f").effect&&f.pageObjs[d.next].hasClass("cover")&&~a.inArray(g.corner,b.corners.forward))return f.status="",d.status="",void 0;if(d.corner=g,d.startPoint=null,has3d=b.css3dAvailable(),d.corner&&this._foldingPage())return n.prototype.update.call(e),!0;d.corner=null;var h=b.eventPoint(c),i=f.pageWrap[d.page].offset();h.x-=i.left,h.y-=i.top,f.options.smartFlip&&~a.inArray(d.page,n.prototype.view.call(e))&&h.x>0&&h.y>0&&h.x<this.$el.width()&&h.y<this.$el.height()&&(d.holdingPoint=h,d.startPoint=h,d.holding=setTimeout(a.proxy(this._showWhenHolding,this),100))}},q.prototype._pageMove=function(a){var c,d,e,f,g=this.$el.data("f");if(!g.disabled){if(a.preventDefault(),g.corner)return e=g.turn,f=g.turnData,d=f.pageWrap[g.page].offset(),g.status="move",c=b.eventPoint(a),c.x-=d.left,c.y-=d.top,c.corner=g.corner.corner,f.display==b.DISPLAY_SINGLE?this._detectSinglePage(c,g.corner):this._showFoldedPage(c),g.holdingPoint&&b.cleanSelection(),!0;if(!this.animation)if(c=this._isIArea(a)){if(g.hover){if("sheet"==g.effect&&2!=c.corner.length)return!1;if("peel"!=g.status||!g.peel||g.peel.corner!=c.corner){if(f=g.turnData,f.display==b.DISPLAY_SINGLE&&f.page==f.totalPages)return!1;var h=f.options.cornerPosition,i=this._startPoint(c.corner,b.point2D(h.x,h.y));g.status="peel",c.x=i.x,c.y=i.y,this._showFoldedPage(c,!0)}}}else"peel"==g.status&&(g.peel&&g.peel.corner==g.dpoint.corner||(g.status="",this.hideFoldedPage(!0)));return!1}},q.prototype._pageUnpress=function(){var c=this.$el.data("f"),d=c.corner,e=c.turn,f=c.turnData;if(!c.disabled&&d&&"turning"!=f.status&&"swiped"!=f.status){var g=c.point||d,h=c.page,i=this.$el.width();if(f.display==b.DISPLAY_SINGLE)if(1==h)"tapping"==c.status||g.x<i/2?n.prototype._turnPage.call(e,c.next,g.corner):this.hideFoldedPage(!0);else if(~a.inArray(g.corner,b.corners.forward))"tapping"==c.status||g.x<i/2?n.prototype._turnPage.call(e,c.next,g.corner):this.hideFoldedPage(!0);else{var j=f.pages[c.page-1];g=j.data("f").point,"tapping"==c.status||g.x>.1*i?(n.prototype._turnPage.call(e,c.page-1,g?g.corner:null),f.status="turning"):j.flip("turnPage",g.corner)}else f.display==b.DISPLAY_DOUBLE&&("tapping"==c.status||g.x<0||g.x>i?n.prototype._turnPage.call(e,c.next,g.corner):this.hideFoldedPage(!0))}c.holdingPoint&&(clearInterval(c.holding),delete c.holdingPoint,delete c.holding),c.status="",c.corner=null},q.prototype._detectSinglePage=function(c,d,e){var f=this.$el.data("f"),g=f.turn,h=f.turnData;if(h.pageWrap[f.page].offset(),-1==a.inArray(d.corner,b.corners.forward)){var i,j=h.pages[f.page-1],k=j.data("f");if(c.corner=h.direction==b.DIRECTION_LTR?c.corner.replace("l","r"):c.corner.replace("r","l"),k.visible)return i=j.flip("_showFoldedPage",c,!1),h.corner=d.corner,i;var l=j.flip("_endPoint",c.corner);return k.point=b.peelingPoint(c.corner,l.x,l.y),n.prototype.stop.call(g),i=j.flip("_showFoldedPage",c,!0),h.corner=d.corner,i}return this._showFoldedPage(c,e)},q.prototype.disable=function(a){return this.$el.data("f").disabled=a,this.$el},q.prototype.hover=function(a){return this.$el.data("f").hover=a,this.$el},q.prototype.peel=function(c,d){var e=this.$el.data("f");if(c.corner){if(-1==a.inArray(c.corner,b.corners.all))throw b.turnError("Corner "+c.corner+" is not permitted");if(~a.inArray(c.corner,this._cornerAllowed())){var f=e.turnData,g=f.options.cornerPosition;c.x=c.x||g.x,c.y=c.y||g.y;var h=this._startPoint(c.corner,b.point2D(c.x,c.y));e.peel=c,e.status="peel",this._showFoldedPage(b.peelingPoint(c.corner,h.x,h.y),d)}}else e.status="",this.hideFoldedPage(d);return this.$el},q.prototype._animationCompleted=function(a,c){var d=this.$el.data("f"),e=d.turn,f=d.turnData;if((c||!d.peel||d.peel.corner!=d.dpoint.corner)&&(f.front.splice(f.front.indexOf(parseInt(d.next,10)),1),f.pageMv.splice(f.pageMv.indexOf(parseInt(d.page,10)),1),this.$el.css({visibility:"hidden"}),this.hide(),0===f.front.length&&(f.corner=null)),c){var g=f.tpage||f.page;
    g==d.next||g==d.page?(delete f.tpage,n.prototype._fitPage.call(e,g||d.next)):f.pageWrap[d.page].hide()}else f.display==b.DISPLAY_SINGLE&&a==f.tpage?(delete f.tpage,n.prototype._fitPage.call(e,a)):(n.prototype.update.call(e),n.prototype._updateShadow.call(e));this.$el.css({visibility:""}),this.$el.trigger("end",[a,c])},q.prototype._animate=function(b){if(!b)return this.animation&&this.animation.stop(),void 0;if(this._animation){this.animation._time=(new Date).getTime();for(var c=0;c<this.animation._elements;c++)this.animation.from[c]=this._animation.current[c],this.animation.to[c]=b.to[c]-this._animation.from[c]}else{b.to.length||(b.to=[b.to]),b.from.length||(b.from=[b.from]);var d=this,e=!0;this.animation=a.extend({current:[],_elements:b.to.length,_time:(new Date).getTime(),stop:function(){e=!1,d.animation=null},_frame:function(){for(var a=Math.min(this.duration,(new Date).getTime()-this._time),b=0;b<this._elements;b++)this.current[b]=this.easing(a,this.from[b],this.to[b],this.duration);e=!0,this.frame(1==this._elements?this.current[0]:this.current),a>=this.duration?(this.stop(),this.complete&&this.complete()):window.requestAnimationFrame(function(){e&&d.animation._frame()})}},b);for(var f=0;f<this.animation._elements;f++)this.animation.to[f]-=this.animation.from[f];this.animation._frame()}},q.prototype.destroy=function(){var a=this.$el.data("f");a.clip&&(this._animate(!1),a.clip.detach(),delete a.clip,delete a.igradient,delete a.ogradient,delete a.ipage,delete a.turnData,delete a.turn),this._destroy()},n.prototype.addPage=function(c,d,e){var f=this._data;if(f.destroying)return null;var g,h="",i=!1,j=f.totalPages+1;if(e=e||{},(g=/\bpage\-([0-9]+|last|next\-to\-last)\b/.exec(a(c).attr("class")))&&(d="last"==g[1]?f.totalPages:"next-to-last"==g[1]?f.totalPages-1:parseInt(g[1],10)),d){if(d==j)i=!0;else if(d>j)throw b.error('Page "'+d+'" cannot be inserted')}else d=j,i=!0;return d>=1&&j>=d&&(d in f.pageObjs&&this._movePages(d,1),i&&(f.totalPages=j),f.pageObjs[d]=a(c),f.pageObjs[d].hasClass("cover")||(h+="page "),h+="page-"+d+" ",h+=f.display==b.DISPLAY_DOUBLE?d%2?"page-odd":"page-even":"page-odd",f.pageObjs[d].css({"float":"left"}).addClass(h),f.pageObjs[d].data({f:e}),!b.hasHardPage()&&f.pageObjs[d].hasClass("hard")&&f.pageObjs[d].removeClass("hard"),this._addPage(d),f.done&&this._removeFromDOM()),this.$el},n.prototype._addPage=function(b){var c=this._data,d=c.pageObjs[b];if(d)if(this._pageNeeded(b)){if(!c.pageWrap[b]){c.pageWrap[b]=a("<div/>",{"class":"page-wrapper",page:b,css:{position:"absolute",overflow:"hidden"}}),this.$el.append(c.pageWrap[b]),c.pageObjs[b].appendTo(c.pageWrap[b]);var e=this._pageSize(b,!0);d.css({width:e.width,height:e.height}),c.pageWrap[b].css(e)}this._makeFlip(b)}else c.pageObjs[b].remove()},n.prototype.hasPage=function(a){return b.has(a,this._data.pageObjs)},n.prototype.effect=function(a,c){var d,e=this._data;if(d=e.pageObjs[a]){if(void 0===c)return d.hasClass("hard")?"hard":"sheet";var f=e.dynamicMode;switch(e.dynamicMode=!1,c){case"hard":d.removeClass("sheet"),d.addClass("hard"),this._removePageFromDOM(a);break;case"sheet":d.removeClass("hard"),d.addClass("sheet"),this._removePageFromDOM(a)}return e.dynamicMode=f,this._pageNeeded(a)&&this._addPage(a),this.$el}throw b.turnError('Page "'+a+'" is not loaded yet')},n.prototype._pageSize=function(a){var c=this._data,d={},e=this.$el.width(),f=this.$el.height(),g=c.pageObjs[a];if(c.display==b.DISPLAY_SINGLE)d.width=e,d.height=f,d.top=0,d.left=0,d.right="auto",g.hasClass("page")?(d.top=c.pageMargin[0],d.width-=c.pageMargin[1],d.height-=c.pageMargin[0]+c.pageMargin[2]):2==a&&g.hasClass("cover")&&(d.left=-e);else if(c.display==b.DISPLAY_DOUBLE){var h=Math.floor(e/2),i=f,j=a%2;d.top=0,g.hasClass("own-size")?(d.width=c.pageObjs[a].width(),d.height=c.pageObjs[a].height()):(d.width=h,d.height=i),g.hasClass("page")&&(d.top=c.pageMargin[0],d.width-=j?c.pageMargin[1]:c.pageMargin[3],d.height-=c.pageMargin[0]+c.pageMargin[2]),c.direction!=b.DIRECTION_LTR||c.options.showDoublePage?(d[j?"left":"right"]=h-d.width,d[j?"right":"left"]="auto"):(d[j?"right":"left"]=h-d.width,d[j?"left":"right"]="auto")}return d},n.prototype._makeFlip=function(a){var c=this._data;if(!c.pages[a]){var d,e=c.display==b.DISPLAY_SINGLE,f=a%2;d=e?a+1:c.options.showDoublePage&&!e?f?a-1:a+1:f?a+1:a-1,c.options.blocks>0&&(c.pageBlocks[a]||(c.pageBlocks[a]={first:0,last:0,status:fragStatus.assigned}));var g=this._pageSize(a);c.pages[a]=c.pageObjs[a].css({width:g.width,height:g.height}).flip({page:a,next:d},this),c.z&&c.pageWrap[a].css({display:c.z.pageV[a]?"none":"",zIndex:c.z.pageZ[a]||0})}return c.pages[a]},n.prototype._makeRange=function(){var a,b=this._data;if(b.totalPages>0)for(b.range=this.range(),a=b.range[0];a<=b.range[1];a++)b.pageObjs[a]&&!b.pageWrap[a]&&this._addPage(a)},n.prototype.range=function(a){var c,d,e,f,g=this._data,h=g.totalPages;if(g.options.blocks>0){var i=this.getBlockPage(g.options.blocks);g.display==b.DISPLAY_DOUBLE&&g.options.showDoublePage&&(i+=1),i>h&&(h=i,g.totalPages=h)}return a=a||g.tpage||g.page||1,f=this._view(a),f[1]=f[1]||f[0],f[0]>=1&&f[1]<=h?(c=Math.floor((g.options.cacheSize-2)/2),h-f[1]>f[0]?(d=Math.min(f[0]-1,c),e=2*c-d):(e=Math.min(h-f[1],c),d=2*c-e)):(d=g.options.cacheSize-1,e=g.options.cacheSize-1),[Math.max(1,f[0]-d),Math.min(h,f[1]+e)]},n.prototype._pageNeeded=function(a){if(0===a)return!0;var b=this._data,c=b.range||this.range();return b.pageObjs[a].hasClass("cover")||~b.pageMv.indexOf(a)||~b.front.indexOf(a)||a>=c[0]&&a<=c[1]},n.prototype._removeFromDOM=function(){if(!this.isAnimating()){var a=this._data;for(var c in a.pageWrap)b.has(c,a.pageWrap)&&(c=parseInt(c,10),this._pageNeeded(c)||this._removePageFromDOM(c))}},n.prototype.pageData=function(a,b){var c=this._data;return void 0===b?c.pageObjs[a].data("f"):(c.pageObjs[a].data("f",b),void 0)},n.prototype._removePageFromDOM=function(a,c){var d=this._data;this.view(a);var e,f=d.pageObjs,g=d.pages;if(a&&this._trigger("removePage",a,f[a])==b.EVENT_PREVENTED)return!1;if(d.pages[a]&&(d.pages[a].flip("_bringClipToFront",!1),d.pages[a].flip("destroy"),d.pages[a].detach(),delete d.pages[a]),f[a]&&f[a].detach(),d.pageWrap[a]&&(d.pageWrap[a].detach(),delete d.pageWrap[a]),d.dynamicMode||c){if(e=d.pageBlocks[a]){for(var h=e.last||e.first,i=e.first;h>=i;i++)d.blocks[i]&&(d.blocks[i].start?g[d.blocks[i].start]||g[d.blocks[i].end]||delete d.blocks[i]:delete d.blocks[i]);delete d.pageBlocks[a]}f[a]&&(f[a].removeData(),delete f[a])}return!0},n.prototype.removePage=function(a){var c=this._data;if("*"==a){for(var d=this.range(),e=d[0];e<=d[1];e++)this._removePageFromDOM(e,!0);c.options.blocks=0,c.totalPages=0}else{if(1>a||a>c.totalPages)throw b.turnError("The page "+a+" doesn't exist");if(c.pageObjs[a]&&(this.stop(),!this._removePageFromDOM(a,!0)))return!1;this._movePages(a,-1),c.totalPages=c.totalPages-1,c.page>c.totalPages?(c.page=null,this._fitPage(c.totalPages)):(this._makeRange(),this.update())}return this},n.prototype._movePages=function(a,c){var d,e=this,f=this._data,g=f.display==b.DISPLAY_SINGLE,h=function(a){var b=a+c,d=b%2,h=d?" page-odd ":" page-even ";f.pageObjs[a]&&(f.pageObjs[b]=f.pageObjs[a].removeClass("page-"+a+" page-odd page-even").addClass("page-"+b+h)),f.pageWrap[a]&&(f.pageWrap[b]=f.pageObjs[b].hasClass("fixed")?f.pageWrap[a].attr("page",b):f.pageWrap[a].css(e._pageSize(b,!0)).attr("page",b),f.pages[a]&&(f.pages[b]=f.pages[a],f.pages[b].data("f").page=b,f.pages[b].data("f").next=g?b+1:f.options.showDoublePage?d?b-1:b+1:d?b+1:b-1),c&&(delete f.pages[a],delete f.pageObjs[a],delete f.pageWrap[a]))};if(c>0)for(d=f.totalPages;d>=a;d--)h(d);else for(d=a;d<=f.totalPages;d++)h(d)},n.prototype._view=function(a){var c=this._data;return a=a||c.page,c.display==b.DISPLAY_DOUBLE?c.options.showDoublePage?a%2?[a,a+1]:[a-1,a]:a%2?[a-1,a]:[a,a+1]:0===a%2&&c.pages[a]&&c.pages[a].hasClass("cover")?[a,a+1]:[a]},n.prototype.view=function(a,b){var c=this._data,d=this._view(a),e=[];return b?(d[0]>0&&e.push(d[0]),d[1]<=c.totalPages&&e.push(d[1])):(d[0]>0?e.push(d[0]):e.push(0),d[1]&&(d[1]<=c.totalPages?e.push(d[1]):e.push(0))),e},n.prototype.pages=function(a){var b=this._data;if(a){if(a<b.totalPages)for(var c=b.totalPages;c>a;c--)this.removePage(c);return b.totalPages=a,this._fitPage(b.page),this.$el}return b.totalPages},n.prototype._missing=function(a){var b=this._data;if(b.totalPages<1)return b.options.blocks>0&&this.$el.trigger("missing",[1]),void 0;for(var c=b.range||this.range(a),d=[],e=c[0];e<=c[1];e++)b.pageObjs[e]||d.push(e);d.length>0&&this.$el.trigger("missing",[d])},n.prototype.pageElement=function(a){return this._data.pageObjs[a]},n.prototype.next=function(){return this.page(this._view(this._data.page).pop()+1)},n.prototype.previous=function(){return this.page(this._view(this._data.page).shift()-1)},n.prototype._backPage=function(b){var c=this._data;if(b){if(!c.pageObjs[0]){var d=a("<div />");c.pageObjs[0]=a(d).css({"float":"left"}).addClass("page page-0"),this._addPage(0)}}else c.pageObjs[0]&&this._removePageFromDOM(0,!0)},n.prototype._isCoverPageVisible=function(a){var b=this._data,c=b.tpage||b.page;return b.pageObjs[a].hasClass("cover")&&(c>=a&&0===a%2||a>=c&&1===a%2)},n.prototype.getBlockPage=function(a){var c=this._data;if(1>a||a>c.options.blocks)return 0;if(1==a)return c.options.pages+1;var d=c.options.pages,e=0===d%2?d:Math.min(0,d-1);return c.display==b.DISPLAY_DOUBLE?c.options.showDoublePage?2*a-1+e:2*a-2+e:a+c.options.pages},n.prototype.getPageBlock=function(a,c){var d=this._data;if(d.options.blocks){if(c&&a&&d.pageBlocks[a]&&d.pageBlocks[a].first)return d.pageBlocks[a].first;if(a==d.options.pages+1)return 1;if(a>d.options.pages){if(c){for(var e,f=this.range(),g=this.view(d.page,!0),h=0,i=0,j=0,k=0,l=0,m=f[0];m<=f[1];m++)d.pageBlocks[m]&&(h||(h=d.pageBlocks[m].first,j=m),d.pageBlocks[m].last&&(i=d.pageBlocks[m].last,k=m),d.pageBlocks[m].first&&(l=m));0===i&&l&&(i=d.pageBlocks[l].first,k=l),d.display==b.DISPLAY_DOUBLE?d.options.showDoublePage?1===a%2&&(a>g[g.length-1]?(0===k%2&&(k-=1),e=i+(a-k)/2):a<g[0]?(0===j%2&&(j-=1),e=h-(j-a)/2):e=(a+1)/2):0===a%2&&(a>f[1]?(1==k%2&&(k-=1),e=i+(a-k+2)/2):a<f[0]?(1==j%2&&(j-=1),e=h-(j-a+2)/2):e=(a+2)/2):e=a>f[1]?d.pageBlocks[f[1]].last+(a-f[1]):a<f[0]?d.pageBlocks[f[0]].first-(f[0]-a):a-d.options.pages}else d.display==b.DISPLAY_DOUBLE?d.options.showDoublePage?1==a%2&&(e=Math.ceil((a-d.options.pages+1)/2)):0===a%2&&(e=Math.ceil((a-d.options.pages+2)/2)):e=a-d.options.pages;return e?Math.max(2,e):0}}return 0},n.prototype.getEndingBlockPage=function(a){var b=this._data;return a&&b.pageObjs[a]?b.pageObjs[a].data("f").endingBlock||-1:-1},n.prototype.getBlockData=function(a){return a=this._data.blocks[a],a?a.html:null},n.prototype.block=function(a){var c=this._data;if(void 0===a){var d=this.view(null,!0),e=d[0]>c.options.pages?d[0]:0,f=d[d.length-1]>c.options.pages?d[d.length-1]:0;if(e=e||f){var g=c.pageBlocks[e].first,h=c.pageBlocks[f].last||g;return[g,h]}return null}if(!(a>=1&&a<=c.options.blocks))throw turnError('Block "'+a+'" cannot be loaded');var i=this.getBlockPage(a),j=this.range();return this._cleanPages(j[0],j[1]),c.pageBlocks[i]={first:a,last:0,status:b.fragStatus.assigned},this._fitPage(i),this.$el},n.prototype._fetchBlocks=function(a){var c=this._data;if(c.options.blocks&&c.pageBlocks[a]){var d=c.pageBlocks[a];c.pageObjs[a];var e=this.view(c.page,!0);if(d.status==b.fragStatus.assigned)d.first||(d.first=this.getPageBlock(a,!0)),d.status=b.fragStatus.requested,this._pushBlocks(d.first,a,c.page);else if(d.status==b.fragStatus.waiting)a>e[0]&&this._cleanPages(a+1,this.range()[1]),this._pushBlocks(d.last,a,c.page);else if(d.status==b.fragStatus.nsplit){if(a>e[0]&&(this._cleanPages(a+1,this.range()[1]),d.nextPageTmp)){var f=c.pageObjs[a+1],g=c.pageBlocks[a+1],h=f.data("f");g.status=b.fragStatus.waiting,g.first=d.last,g.last=d.last,g.bp=d.lbp,h.flowTo?f.find(h.flowTo).html(d.nextPageTmp.html()):f.html(d.nextPageTmp.html()),delete d.nextPageTmp,d.status=b.fragStatus.full}delete c.blocks[d.last].cp}else d.status==b.fragStatus.full&&e[0]==a&&e[1]&&this._fetchBlocks(e[1])}},n.prototype._pushBlocks=function(a,b,c){var d,e,f=this._data;if(a>0&&a<=f.options.blocks)if((e=f.pageBlocks[b])&&(e.waiting=a),d=f.blocks[a]){if(b&&-1==d.queue.indexOf(b)&&d.queue.push(b),c&&(d.cp=c),d.html){for(var g=0;g<d.queue.length;g++)this._flowContent(d.queue[g],a);d.queue=[]}}else f.blocks[a]={page:b,queue:[b],cp:c},this._reportLoading(b),this.$el.trigger("missingBlock",[a])},n.prototype.addBlock=function(a,b){var c=this._data;a>0&&a<=c.options.blocks&&(b=b.replace(/\s+/g," "),c.blocks[a]?(c.blocks[a].html=b,this._pushBlocks(a)):c.blocks[a]={html:b,queue:[]})},n.prototype._flowContent=function(c,d){var e=this._data,f=e.blocks[d],g=e.pageObjs[c];if(f&&g){var h=e.pageBlocks[c],i=g.data("f"),j=i.flowTo?g.find(i.flowTo):g,k=c<f.cp?f.cp||e.page:e.page,l=this.view(k,!0),m=this.view(c,!0),n=this.range();if(d<h.first||d>h.last){if(!g.is(":visible"))return h.status=b.fragStatus.assigned,void 0;var o=a("<div />",{"class":"block block-"+d,css:{position:"relative"}}).html(f.html);if(f.start=c,d<h.first){h.first=d;var p=j.children();p.length>0?(h.bp=null,o.insertBefore(p[0]),this._cleanPages(n[0],c-1)):o.appendTo(j)}else o.appendTo(j);d>h.last&&(h.last=d),h.waiting==d&&(h.waiting=0)}else if(!g.is(":visible"))return h.status=b.fragStatus.waiting,void 0;var q,r,s=c+1,t=e.pageBlocks[s],u=e.pageObjs[s];u&&(q=u.data("f"),r=q.flowTo?u.find(q.flowTo):u,t.first==h.last&&s<l[0]&&(restore(j[0],r[0]),q.first=0,q.last=0,q.status=b.fragStatus.assigned));var v=getBreakingPoint(j[0]);if(v)if(h.loading&&(h.loading=!1,this.$el.trigger("endPageLoading",c)),s<l[0]||c>=l[0])if(h.status=b.fragStatus.full,u){s>l[l.length-1]&&this._cleanPages(s,n[1]),breakPage(v,j[0],r[0]);for(var w=h.first;w<h.last;w++)e.blocks[w]&&(e.blocks[w].end=c);h.last=v.path[0]+h.first,t.first=h.last,t.last=t.first+r.children("div").length-1;for(var w=t.first;w<=t.last;w++)e.blocks[w]&&(w==t.first&&w==h.last?e.blocks[w].end=s:(e.blocks[w].start=s,e.blocks[w].end=s));t.bp=v,this._flowContent(s,t.last)}else breakPage(v,j[0],null);else h.status=b.fragStatus.nsplit,h.nextPageTmp=a("<div />"),h.lbp=v,breakPage(v,j[0],h.nextPageTmp[0]);else if(f.end=c,h.status=b.fragStatus.waiting,c<l[0]){var x=e.pageBlocks[m[0]];if(!x.bp&&(x.first>2||m[0]==e.options.pages+1))this._pushBlocks(x.first-1,m[0],k);else{var y=m[m.length-1];e.pageBlocks[y].last?this._pushBlocks(e.pageBlocks[y].last+1,y,k):this._pushBlocks(e.pageBlocks[m[0]].last+1,m[0],k)}}else u&&-1==m.indexOf(s)&&(t.first=h.last+1),this._pushBlocks(h.last+1,c,k);c<l[0]&&m[0]==c&&2==d&&this.replaceView(c,e.options.pages+2)}},n.prototype._reportLoading=function(a){for(var b=this._data,c=this.view(a,!0),d=0;d<c.length;d++)c[d]>=a&&!b.pageBlocks[c[d]].loading&&(b.pageBlocks[c[d]].loading=!0,this.$el.trigger("startPageLoading",[c[d]]))},n.prototype._cleanPages=function(a,b){for(var c,d,e,f=this._data,g=a;b>=g;g++)if((d=f.pageBlocks[g])&&d.first){e=d.last||d.first;for(var h=d.first;e>=h;h++)f.blocks[h]&&(h==d.first&&f.pageBlocks[g-1]&&h==f.pageBlocks[g-1].last||(f.blocks[h].page=0,f.blocks[h].start&&(f.blocks[h].start=0,f.blocks[h].end=0)));d.first=0,d.status=fragStatus.assigned,d.last=0,d.bp=null,c=f.pageObjs[g].data("f"),c.flowTo?f.pageObjs[g].find(c.flowTo).html(""):f.pageObjs[g].html("")}},n.prototype.replaceView=function(a,c){var d=this._data,e=this.range();if(a!=c&&a>=e[0]&&a<=e[1]){var f,g,h;d.display==b.DISPLAY_SINGLE;var i=c,j=d.front.slice(),k=d.pageMv.slice(),l=c-a,m={},n={},o={},p={},q={},r={},s={};for(var t in d.pageObjs)if(b.has(t,d.pageObjs))if(t=parseInt(t,10),a>t)this._removePageFromDOM(t);else{if(i=t+l,g=d.pageObjs[t].data("f"),h=i%2,d.pageObjs[t].removeClass("even odd p"+t).addClass((h?"odd":"even")+" p"+i),d.pageWrap[t].attr("page",i),g=d.pageObjs[t].data("f"),g.page=i,~(f=j.indexOf(t))&&(d.front[f]=i),~(f=k.indexOf(t))&&(d.pageMv[f]=i),d.z.pageV[t]&&(m[i]=!0),d.z.pageZ[t]&&(n[i]=d.z.pageZ[t]),g.next+=l,g.over&&(g.over+=l),d.pageBlocks[t]){for(var u=d.pageBlocks[t].first;u<=d.pageBlocks[t].last;u++)if(d.blocks[u]&&!s[u]){d.blocks[u].start+=l,d.blocks[u].end+=l;for(var v=0;v<d.blocks[u].queue.length;v++)d.blocks[u].queue[v]+=l;s[u]=!0}if((u=d.pageBlocks[t].waiting)&&d.blocks[u]){for(var v=0;v<d.blocks[u].queue.length;v++)d.blocks[u].queue[v]+=l;s[u]=!0}r[i]=d.pageBlocks[t]}o[i]=d.pageObjs[t],p[i]=d.pages[t],q[i]=d.pageWrap[t],q[i].css(this._pageSize(i,!0))}d.pageObjs=o,d.pages=p,d.pageWrap=q,d.pageBlocks=r,d.pageWrap=q,d.z.pageV=m,d.z.pageZ=n,d.range=this.range(c),d.page=d.page-a+c,d.tpage&&(d.tpage=d.tpage-a+c,d.page=d.tpage),this._missing(c),this.update(),d.options.autoCenter&&this.center(),console.log("replaced ",a," now:",d.page,d.tpage)}return this.$el},n.prototype.flow=function(){var b=this._data;if(b.options.blocks&&this.$el.is(":visible")){var c,d=this.view(b.page,!0);if(d[0]>b.options.pages)c=d[0];else{if(!(d[1]>b.options.pages))return;c=d[1]}var e=this.range(),f=b.pageObjs[c],g=b.pageBlocks[c],h=f.data("f"),i=h.flowTo?f.find(h.flowTo):f,j=g.last||g.first,k=b.blocks[j];if(k){if(i.children("div:last-child").html(b.blocks[j].html),j==g.first&&g.bp){var l=a.extend({},g.bp);l.path[0]=0,breakPage(l,i[0],i[0])}b.pageBlocks[c].status=fragStatus.waiting;var m=k.start;this._cleanPages(e[0],c-1),this._cleanPages(c+1,e[1]),k.start=m,this._flowContent(c,b.pageBlocks[c].last)}return this.$el}},n.prototype._fitPage=function(c){var d=this._data,e=this.view(c);d.display==b.DISPLAY_SINGLE&&d.pages[c]&&d.pages[c].hasClass("cover")&&-1!=a.inArray(c+1,e)&&(c+=1),d.range=this.range(c),this._missing(),d.pageObjs[c]&&(-1!=a.inArray(1,e)?this.$el.addClass("first-page"):this.$el.removeClass("first-page"),~a.inArray(d.totalPages,e)?this.$el.addClass("last-page"):this.$el.removeClass("last-page"),d.status="",d.peel=null,d.page=c,d.display!=b.DISPLAY_SINGLE&&this.stop(),this._removeFromDOM(),this._makeRange(),this._updateShadow(),this._cloneView(!1),this.$el.trigger("turned",[c,e]),this.update(),e[0]>d.options.pages?this._fetchBlocks(e[0],"fixed"):e[1]>d.options.pages&&this._fetchBlocks(e[1],"fixed"),d.options.autoCenter&&this.center())},n.prototype._turnPage=function(c,d){var e,f,g,h=this._data,i=this.view(),j=this.view(c),k=h.display==b.DISPLAY_SINGLE;if(k)e=i[0],g=j[0];else if(i[1]&&c>i[1])e=i[1],g=j[0];else{if(!(i[0]&&c<i[0]))return!1;e=i[0],g=j[1]}var l=h.options.turnCorners.split(","),m=h.pages[e].data("f"),n=m.dpoint;if(m.next,d||(d="hard"==m.effect?h.direction==b.DIRECTION_LTR?c>e?"r":"l":c>e?"l":"r":h.direction==b.DIRECTION_LTR?a.trim(l[c>e?1:0]):a.trim(l[c>e?0:1])),k?g>e&&-1==h.pageMv.indexOf(e)?this.stop():e>g&&-1==h.pageMv.indexOf(g)&&this.stop():h.display==b.DISPLAY_DOUBLE&&Math.abs((h.tpage||h.page)-c)>2&&this.stop(),h.page!=c){if(f=h.page,this._trigger("turning",c,j,d)==b.EVENT_PREVENTED)return~a.inArray(e,h.pageMv)&&h.pages[e].flip("hideFoldedPage",!0),!1;~a.inArray(1,j)?(this.$el.addClass("first-page"),this.$el.trigger("first")):this.$el.removeClass("first-page"),~a.inArray(h.totalPages,j)?(this.$el.addClass("last-page"),this.$el.trigger("last")):this.$el.removeClass("last-page")}return h.status="turning",h.range=this.range(c),this._missing(c),h.pageObjs[c]&&(this._cloneView(!1),h.tpage=g,this._makeRange(),m.dpoint=m.next!=g?null:n,m.next=g,f=h.page,-1==h.pageMv.indexOf(g)?h.pages[e].flip("turnPage",d):(h.options.autoCenter&&this.center(g),h.status="",h.pages[g].flip("hideFoldedPage",!0)),f==h.page&&(h.page=c),this.update()),!0},n.prototype.page=function(c){var d=this._data;if(void 0===c)return d.page;if(1!=this.zoom()&&this.zoomOut({animate:!1}),b.hasRotation&&!d.disabled&&!d.destroying){if(c=parseInt(c,10),!(d.options.blocks>0&&c==d.totalPages+1)){if(c>0&&c<=d.totalPages){if(c!=d.page)if(!d.done||~a.inArray(c,this.view()))this._fitPage(c);else if(!this._turnPage(c))return!1;return this.$el}return!1}this._fitPage(c)}},n.prototype.center=function(a){var c=this._data,d=this.size(),e=0;if(!c.noCenter){if(c.display==b.DISPLAY_DOUBLE){var f=this.view(a||c.tpage||c.page);c.direction==b.DIRECTION_LTR?f[0]?f[1]||(e+=d.width/4):e-=d.width/4:f[0]?f[1]||(e-=d.width/4):e+=d.width/4}this.$el.css({marginLeft:e})}return this.$el},n.prototype.destroy=function(){var c=this._data;return this._trigger("destroy")!=b.EVENT_PREVENTED&&(c.watchSizeChange=!1,c.destroying=!0,this.$el.undelegate(),this.$el.parent().off("start",this._eventPress),c.options.viewer.off("vmousemove",this._eventMove),a(document).off("vmouseup",this._eventRelease),this.removePage("*"),c.zoomer&&c.zoomer.remove(),c.shadow&&c.shadow.remove(),this._destroy()),this.$el},n.prototype.is=function(){return!0},n.prototype._getDisplayStr=function(a){return a==b.DISPLAY_SINGLE?"single":a==b.DISPLAY_DOUBLE?"double":void 0},n.prototype._getDisplayConst=function(a){return a==b.DISPLAY_SINGLE?a:a==b.DISPLAY_DOUBLE?a:"single"==a?b.DISPLAY_SINGLE:"double"==a?b.DISPLAY_DOUBLE:void 0},n.prototype.display=function(a,c){var d=this._data,e=this._getDisplayStr(d.display);if(void 0===a)return e;if(1==d.zoom){var f=this._getDisplayConst(a);if(!f)throw b.turnError('"'+a+'" is not a value for display');if(f!=d.display){var g=this._trigger("changeDisplay",a,e);if(!d.done||g!=b.EVENT_PREVENTED){switch(f){case b.DISPLAY_SINGLE:this._backPage(!0),this.$el.removeClass("display-double").addClass("display-single");break;case b.DISPLAY_DOUBLE:this._backPage(!1),this.$el.removeClass("display-single").addClass("display-double")}if(d.display=f,e){if(void 0===c||c){var h=this.size();this.size(h.width,h.height),this.update()}this._movePages(1,0),this.$el.removeClass(e)}}this.$el.addClass(this._getDisplayStr()),this._cloneView(!1),this._makeRange()}}return this.$el},n.prototype.isAnimating=function(){var a=this._data;return a.pageMv.length>0||"turning"==a.status},n.prototype.isFlipping=function(){var a=this._data;return"turning"==a.status},n.prototype.corner=function(){return this._data.corner||null},n.prototype.data=function(){return this._data},n.prototype.disable=function(c){var d,e=this._data,f=this.view();e.disabled=void 0===c||c===!0;for(d in e.pages)b.has(d,e.pages)&&e.pages[d].flip("disable",e.disabled?!0:-1==a.inArray(parseInt(d,10),f));return this.$el},n.prototype._size=function(a,b){var c=this._defaultSize();return c.width=c.width*a,c.height=c.height*a,b&&this._halfWidth()&&(c.width=Math.floor(c.width/2)),c},n.prototype.peel=function(c,d,e,f){var g=this._data;if(c){if(1==this.zoom())if(f=void 0!==f?f:!0,g.display==b.DISPLAY_SINGLE)g.peel=b.peelingPoint(c,d,e),g.pages[g.page].flip("peel",b.peelingPoint(c,d,e),f);else{var h=this.view(),i=~a.inArray(c,corners.backward)?h[0]:h[1];g.pages[i]&&(g.peel=b.peelingPoint(c,d,e),g.pages[i].flip("peel",g.peel,f))}}else g.peel=null,this.stop(!0);return this.$el},n.prototype._resizeObserver=function(){var b=this._data;if(b&&b.watchSizeChange){var c=b.options.viewer,d=10;(b.viewerWidth!=c.width()||b.viewerHeight!=c.height())&&(b.viewerWidth=c.width(),b.viewerHeight=c.height(),this._resize()),b.monitorTimer=setTimeout(a.proxy(this._resizeObserver,this),d)}},n.prototype.watchForSizeChanges=function(a){var b=this._data;b.watchSizeChange!=a&&(b.watchSizeChange=a,clearInterval(b.monitorTimer),this._resizeObserver())},n.prototype._defaultSize=function(a){var c=this._data,d=c.viewerWidth-c.margin[1]-c.margin[3],e=c.viewerHeight-c.margin[0]-c.margin[2],f="string"==typeof c.options.width&&~c.options.width.indexOf("%"),g=b.transformUnit(c.options.width,d),h=b.transformUnit(c.options.height,e),i=b.calculateBounds({width:g,height:h,boundWidth:Math.min(c.options.width,d),boundHeight:Math.min(c.options.height,e)});if(c.options.responsive)if(f){if(e>d)return{width:b.transformUnit(c.options.width,d),height:h,display:b.DISPLAY_SINGLE}}else{var j=b.calculateBounds({width:g/2,height:h,boundWidth:Math.min(c.options.width/2,d),boundHeight:Math.min(c.options.height,e)}),k=c.viewerWidth*c.viewerHeight,l=k-i.width*i.height,m=k-j.width*j.height;if(l>m&&!a||a==b.DISPLAY_SINGLE)return{width:j.width,height:j.height,display:b.DISPLAY_SINGLE};0!==i.width%2&&(i.width-=1)}return{width:i.width,height:i.height,display:b.DISPLAY_DOUBLE}},n.prototype._calculateMargin=function(){var a,c,d=this._data,e=/^(\d+(?:px|%))(?:\s+(\d+(?:px|%))(?:\s+(\d+(?:px|%))\s+(\d+(?:px|%)))?)$/;(a=d.options.margin)?(c=e.exec(a))&&(d.margin[0]=b.transformUnit(c[1],d.viewerHeight),d.margin[1]=c[2]?b.transformUnit(c[2],d.viewerWidth):d.margin[0],d.margin[2]=c[3]?b.transformUnit(c[3],d.viewerHeight):d.margin[0],d.margin[3]=c[4]?b.transformUnit(c[4],d.viewerWidth):d.margin[1]):d.margin=[0,0,0,0],(a=d.options.pageMargin)?(c=e.exec(a))&&(d.pageMargin[0]=b.transformUnit(c[1],d.viewerHeight),d.pageMargin[1]=c[2]?b.transformUnit(c[2],d.viewerWidth):d.pageMargin[0],d.pageMargin[2]=c[3]?b.transformUnit(c[3],d.viewerHeight):d.pageMargin[0],d.pageMargin[3]=c[4]?b.transformUnit(c[4],d.viewerWidth):d.pageMargin[1]):d.pageMargin=[0,0,0,0]},n.prototype._resize=function(){var b,c,d,e=this._data;if(e.options.responsive){var f=this.view();if(1==e.zoom){e.options.viewer,e.viewerWidth,e.viewerHeight;var g=e.slider;if(this._calculateMargin(),e.slider=null,d=this._defaultSize(),this.display(d.display,!1),e.slider=g,d.display!=e.display&&(d=this._defaultSize(e.display)),this.size(d.width*e.zoom,d.height*e.zoom),this.update(),e.zoomer)for(d=this._defaultSize(e.display),e.zoomer.css({width:d.width,height:d.height}),c=e.zoomer.children(),b=0;b<c.length;b++)a(c[b]).css({width:d.width/f.length,height:d.height})}else if(this.scroll(e.scroll.left,e.scroll.top),e.zoomer)for(d=this._defaultSize(e.display),e.zoomer.css({width:d.width,height:d.height}),c=e.zoomer.children(),b=0;b<c.length;b++)a(c[b]).css({width:d.width/f.length,height:d.height});e.miniatures&&miniMethods._resize.call(a(e.miniatures))}},n.prototype.calcVisiblePages=function(){var a=this,c=this._data;c.tpage||c.page;var d,e,f,g={pageZ:{},pageV:{}};if(this.isAnimating()&&0!==c.pageMv[0]){var h=c.pageMv.length,i=c.front.length,j=c.display;if(j==b.DISPLAY_SINGLE)for(d=0;h>d;d++)nextPage=c.pages[c.pageMv[d]].data("f").next,g.pageV[c.pageMv[d]]=!0,g.pageZ[c.pageMv[d]]=3+h-d,g.pageV[nextPage]=!0,c.pageObjs[c.pageMv[d]].hasClass("cover")?g.pageV[nextPage+1]=!0:(g.pageV[0]=!0,g.pageZ[0]=3+h+1);else if(c.display==b.DISPLAY_DOUBLE){for(d=0;h>d;d++){for(f=a.view(c.pageMv[d]),e=0;e<f.length;e++)g.pageV[f[e]]=!0;g.pageZ[c.pageMv[d]]=3+h-d}for(d=0;i>d;d++)for(f=a.view(c.front[d]),g.pageZ[c.front[d]]=5+h+d,e=0;e<f.length;e++)g.pageV[f[e]]=!0}}else{for(f=this.view(!1,!0),d=0;d<f.length;d++)g.pageV[f[d]]=!0,g.pageZ[f[d]]=2;c.display==b.DISPLAY_SINGLE?f[0]<c.totalPages&&(c.pages[f[0]].hasClass("cover")?c.pages[f[0]+1]&&!c.pages[f[0]+1].hasClass("cover")&&(g.pageV[f[0]+1]=!0,g.pageZ[f[0]+1]=2):(g.pageV[f[0]+1]=!0,g.pageZ[f[0]+1]=1)):c.display==b.DISPLAY_DOUBLE&&(f[0]>2&&(g.pageV[f[0]-2]=!0,g.pageZ[f[0]-2]=1),f[1]<c.totalPages-1&&(g.pageV[f[1]+2]=!0,g.pageZ[f[1]+2]=1))}for(var k in c.pageWrap)b.has(k,c.pageWrap)&&void 0===g.pageV[k]&&this._isCoverPageVisible(k)&&(g.pageV[k]=!0,g.pageZ[k]=-1);return g},n.prototype.update=function(){var c,d,e=this._data,f=this.calcVisiblePages();if(this.isAnimating()&&0!==e.pageMv[0]){var g=this.view(),h=this.view(e.tpage);d=""===e.status?e.options.hover:!1;for(c in e.pageWrap)b.has(c,e.pageWrap)&&(e.pageWrap[c].css({display:f.pageV[c]?"":"none",zIndex:f.pageZ[c]||0}),e.tpage?e.pages[c].flip("hover",!1).flip("disable",-1==a.inArray(parseInt(c,10),e.pageMv)&&c!=h[0]&&c!=h[1]):e.pages[c].flip("hover",d).flip("disable",c!=g[0]&&c!=g[1]))}else{d=e.options.hover;for(c in e.pageWrap)b.has(c,e.pageWrap)&&(e.pageWrap[c].css({display:f.pageV[c]?"":"none",zIndex:f.pageZ[c]||0}),e.pages[c]&&(e.pages[c].flip("disable",e.disabled||2!=f.pageZ[c]).flip("hover",d),f.pageV[c]||(e.pages[c].data("f").visible=!1)))}return e.z=f,this.$el},n.prototype._updateShadow=function(){},n.prototype.options=function(c){if(void 0===c)return this._data.options;var d=this._data,e=d.options.swipe;if(a.extend(d.options,c),c.pages&&this.pages(c.pages),c.page&&this.page(c.page),(c.margin||c.pageMargin)&&(this._calculateMargin(),this._resize()),c.display&&this.display(c.display),c.direction&&this.direction(c.direction),c.width&&c.height&&this.size(c.width,c.height),c.swipe===!0&&e?this.$el.on("swipe",a.proxy(this,"_eventSwipe")):c.swipe===!1&&this.$el.off("swipe",this._eventSwipe),c.cornerPosition){var f=c.cornerPosition.split(" ");d.options.cornerPosition=b.point2D(parseInt(f[0],10),parseInt(f[1],10))}if(c.margin&&this._resize.call(this),c.animatedAutoCenter===!0?this.$el.css(b.addCssWithPrefix({"@transition":"margin-left "+c.duration+"ms"})):c.animatedAutoCenter===!1&&this.$el.css(b.addCssWithPrefix({"@transition":""})),c.delegate)for(var g in c.delegate)b.has(g,c.delegate)&&("tap"==g||"doubletap"==g?(this.$el.off(g,".page"),this.$el.on(g,".page",c.delegate[g])):this.$el.off(g).on(g,c.delegate[g]));return this.$el},n.prototype.version=function(){return version},n.prototype._getDirectionStr=function(a){return a==b.DIRECTION_LTR?"ltr":a==b.DIRECTION_RTL?"rtl":void 0},n.prototype._getDirectionConst=function(a){return"ltr"==a?b.DIRECTION_LTR:"rtl"==a?b.DIRECTION_RTL:void 0},n.prototype.direction=function(a){var c=this._data,d=this._getDirectionStr(c.direction);if(void 0===a)return d;a=a.toLowerCase();var e=this._getDirectionConst(a);if(!e)throw b.turnError('"'+a+'" is not a value for direction');return"rtl"==a&&this.$el.attr("dir","ltr").css({direction:"ltr"}),c.direction=e,c.done&&this.size(this.$el.width(),this.$el.height()),this.$el},n.prototype.disabled=function(a){return void 0===a?this._data.disabled===!0:this.disable(a)},n.prototype.viewSize=function(){var a=this.size();if(this.display()==b.DISPLAY_DOUBLE){var c=this.view();c[0]&&c[1]||(a.width=Math.floor(a.width/2))}return a},n.prototype.size=function(c,d,e){if(void 0===c||void 0===d)return{width:this.$el.width(),height:this.$el.height()};var f,g,h,i=this._data,j=this.view();if(i.display==b.DISPLAY_DOUBLE?(c=Math.floor(c),d=Math.floor(d),1==c%2&&(c-=1),h=Math.floor(c/2)):h=c,this.stop(),this.$el.css({width:c,height:d}),i.zoom>1){for(var k={},l=0;l<j.length;l++)j[l]&&(k[j[l]]=1);for(f in i.pageWrap)b.has(f,i.pageWrap)&&this._isCoverPageVisible(f)&&(k[f]=1);for(f in k)b.has(f,k)&&(g=this._pageSize(f,!0),e||i.pageObjs[f].css({width:g.width,height:g.height}),i.pageWrap[f].css(g),i.pages[f]&&(i.pages[f].flip("_restoreClip",!1,!0),i.pages[f].flip("resize",g.width,g.height)))}else for(f in i.pageWrap)b.has(f,i.pageWrap)&&(g=this._pageSize(f,!0),e&&-1!=a.inArray(parseInt(f,10),j)||i.pageObjs[f].css({width:g.width,height:g.height}),i.pageWrap[f].css(g),i.pages[f]&&(i.pages[f].flip("_restoreClip"),i.pages[f].flip("resize",g.width,g.height)));i.pages[0]&&(i.pageWrap[0].css({left:-this.$el.width()}),i.pages[0].flip("resize")),this._updateShadow();var m=this,n=i.options;return n.autoCenter&&(n.animatedAutoCenter&&i.done?(this.$el.css(b.addCssWithPrefix({"@transition":""})),m.center(),setTimeout(function(){m.$el.css(b.addCssWithPrefix({"@transition":"margin-left "+n.duration+"ms"}))},0)):this.center()),this.$el.css(this._position()),i.pages[0]&&(f=i.pages[0].data("f").tPage,f&&i.pageObjs[0].children().eq(0).css({width:i.pageObjs[i.page].width(),height:i.pageObjs[i.page].height()})),i.peel&&this.peel(i.peel.corner,i.peel.x,i.peel.y,!1),this.flow(),this.$el},n.prototype.stop=function(){var a,c,d=this._data;if(this.isAnimating()){var e=d.display==b.DISPLAY_SINGLE;for(d.tpage&&(d.page=d.tpage,delete d.tpage);d.pageMv.length>0;)if(c=d.pages[d.pageMv[0]],a=c.data("f")){var f=a.peel;a.peel=null,c.flip("hideFoldedPage"),a.peel=f,a.next=e?a.page+1:d.options.showDoublePage?0===a.page%2?a.page+1:a.page-1:0===a.page%2?a.page-1:a.page+1,c.flip("_bringClipToFront",!1)}d.status="",this.update()}else for(c in d.pages)b.has(c,d.pages)&&d.pages[c].flip("_bringClipToFront",!1);return this.$el},n.prototype._eventStart=function(c,d,e){var f=this._data,g=a(c.target).data("f");return f.display==b.DISPLAY_SINGLE&&e&&(g.next="l"==e.charAt(1)&&f.direction==b.DIRECTION_LTR||"r"==e.charAt(1)&&f.direction==b.DIRECTION_RTL?g.next<g.page?g.next:g.page-1:g.next>g.page?g.next:g.page+1),c.isDefaultPrevented()?(this._updateShadow(),void 0):(this._updateShadow(),void 0)
    },n.prototype._eventPress=function(a){var c=this._data;c.finger=b.eventPoint(a),c.hasSelection=""===b.getSelectedText(),c.fingerZoom=c.zoom;for(var d in c.pages)if(b.has(d,c.pages)&&c.pages[d].flip("_pagePress",a))return c.tmpListeners||(c.tmpListeners={},c.tmpListeners.tap=b.getListeners(this.$el,"tap",!0),c.tmpListeners.doubleTap=b.getListeners(this.$el,"doubleTap",!0)),a.preventDefault(),c.statusHolding=!0,void 0;c.options.smartFlip&&a.preventDefault()},n.prototype._eventMove=function(d){var e=this._data;for(var f in e.pages)b.has(f,e.pages)&&e.pages[f].flip("_pageMove",d);if(e.finger){var g=a.extend({},e.finger);e.tmpListeners||(e.tmpListeners={},e.tmpListeners.tap=b.getListeners(this.$el,"tap",!0),e.tmpListeners.doubleTap=b.getListeners(this.$el,"doubleTap",!0)),e.finger=b.eventPoint(d),e.finger.prev=g,e.zoom>1&&(!c||c&&1==d.originalEvent.originalEvent.touches.length)&&this.scroll(e.scroll.left+e.finger.x-g.x,e.scroll.top+e.finger.y-g.y)}else if(!c&&e.zoom>1&&e.options.autoScroll){e.initScroll||(e.initScroll=this.scroll(),e.initCursor=b.eventPoint(d),e.viewerOffset=e.options.viewer.offset());var h=b.eventPoint(d),i=b.point2D(e.initScroll.x,e.initScroll.y),j=this.scrollSize();h.x<e.initCursor.x?i.x=e.initScroll.left*Math.max(0,(h.x-e.viewerOffset.left-20)/e.initCursor.x):h.x>e.initCursor.x&&(i.x=e.initScroll.left+(j.width-e.initScroll.left)*Math.min(1,(h.x-e.initCursor.x+20)/(e.viewerWidth-e.initCursor.x))),h.y<e.initCursor.y?i.y=e.initScroll.top*Math.max(0,(h.y-e.viewerOffset.top-20)/e.initCursor.y):h.y>e.initCursor.y&&(i.y=e.initScroll.top+(j.height-e.initScroll.top)*Math.min(1,(h.y-e.initCursor.y+20)/(e.viewerHeight-e.initCursor.y))),this.scroll(i.x,i.y)}},n.prototype._eventRelease=function(a){var c=this,d=this._data;if(setTimeout(function(){d.tmpListeners&&(b.setListeners(c.$el,"tap",d.tmpListeners.tap),b.setListeners(c.$el,"doubleTap",d.tmpListeners.doubleTap),delete d.tmpListeners)},1),d.finger){for(var e in d.pages)b.has(e,d.pages)&&d.pages[e].flip("_pageUnpress",a);delete d.finger,delete d.fingerZoom,d.statusHolding&&(d.statusHolding=!1,d.statusHover||this._hasMotionListener(!1)),d.zoomed&&(this.zoom(d.zoomed[0],d.zoomed[1]),delete d.zoomed)}},n.prototype._eventSwipe=function(c){var d=this._data,e=""===b.getSelectedText();if("turning"!=d.status&&1==d.zoom&&d.hasSelection==e)if(d.display==b.DISPLAY_SINGLE){var f=d.page;if(c.speed<0){if(~a.inArray(d.corner,b.corners.forward))this.next();else if(d.status="swiped",d.pages[f].flip("hideFoldedPage",!0),f>1){var g=d.pages[f-1].data("f").point;d.pages[f-1].flip("turnPage",g?g.corner:"")}}else c.speed>0&&(~a.inArray(d.corner,b.corners.backward)?this.previous():(d.status="swiped",d.pages[f].flip("hideFoldedPage",!0)))}else d.display==b.DISPLAY_DOUBLE&&(c.speed<0?this.isAnimating()?~a.inArray(d.corner,b.corners.forward)&&this.next():this.next():c.speed>0&&(this.isAnimating()?~a.inArray(d.corner,b.corners.backward)&&this.previous():this.previous()))},n.prototype._eventHover=function(){var a=this._data;clearInterval(a.noHoverTimer),a.statusHover=!0,this._hasMotionListener(!0)},n.prototype._eventNoHover=function(a){var b=this,c=this._data;c.noHoverTimer=setTimeout(function(){c.statusHolding||(b._eventMove(a),b._hasMotionListener(!1)),delete c.noHoverTimer,c.statusHover=!1},10)},n.prototype._hasMotionListener=function(b){var c=this._data;b?c.hasMoveListener||(a(document).on("vmousemove",a.proxy(this,"_eventMove")).on("vmouseup",a.proxy(this,"_eventRelease")),c.hasMoveListener=!0):c.hasMoveListener&&(a(document).off("vmousemove",this._eventMove).off("vmouseup",this._eventRelease),c.hasMoveListener=!1)},n.prototype.focusPoint=function(){var a=this._data;if(a.focusPoint)return a.focusPoint;var c=this.view();return c[0]?c[1]?b.point2D(this.width()/2,this.height()/2):b.point2D(3*this.width()/4,this.height()/2):b.point2D(this.width()/4,this.height()/2)},n.prototype.maxZoom=function(){var a=this._data;if(a.options.responsive){if("string"==typeof a.options.width&&~a.options.width.indexOf("%"))return 1;var c=a.viewerWidth-a.margin[1]-a.margin[3],d=a.viewerHeight-a.margin[0]-a.margin[2];return a.options.width/b.calculateBounds({width:a.options.width,height:a.options.height,boundWidth:Math.min(a.options.width,c),boundHeight:Math.min(a.options.height,d)}).width}return a.options.zoom},n.prototype.zoomIn=function(a){return this._data,this.zoom(this.maxZoom(),a)},n.prototype.zoomOut=function(a){return this.zoom(1,a)},n.prototype._halfWidth=function(){var a=this._data,c=this.view();return a.display==b.DISPLAY_DOUBLE&&a.options.autoCenter&&(!c[0]||!c[1])},n.prototype.scrollSize=function(){var a=this._data,b=this.size(),c=this._halfWidth()?b.width/2:b.width;return{width:Math.max(0,c-a.viewerWidth),height:Math.max(0,b.height-a.viewerHeight)}},n.prototype.scroll=function(a,c){var d=this._data;if(void 0===c&&void 0===a)return d.scroll;if(d.zoom>1&&!d.silentZoom){var e=this.size();this.view();var f=this.scrollSize(),g=b.point2D(d.viewerWidth/2-e.width/2,d.viewerHeight/2-e.height/2);c=Math.min(f.height,Math.max(0,c)),a=Math.min(f.width,Math.max(0,a)),this._trigger("scrolling",a,c)!=b.EVENT_PREVENTED&&(g.x=g.x+f.width/2-a,g.y=g.y+f.height/2-c,this.$el.css({left:g.x,top:g.y}),d.scroll={top:c,left:a})}return this.$el},n.prototype._mouseRel=function(a){var c=this.$el.offset(),d=this._data,e=this.size(),f=b.point2D(a.pageX-c.left,a.pageY-c.top);if(d.display==b.DISPLAY_DOUBLE){var g=this.view();if(g[0]){if(g[1]){if(f.x<0||f.x>e.width)return null}else if(f.x=f.x,f.x<0||f.x>e.width/2)return null}else if(f.x=f.x-e.width/2,f.x<0||f.x>e.width/2)return null}else if(d.display==b.DISPLAY_SINGLE&&(f.x<0||f.x>e.width))return null;return f},n.prototype.zoom=function(c,d){var e=this._data;if(void 0===c)return e.zoom;d=d||{};var f=this.size(),g=this._halfWidth();if("pageX"in d&&"pageY"in d){var h=this._mouseRel(d);if(null===h)return this.$el;d=a.extend(d,h),"factor"in d&&(c=d.factor*e.fingerZoom,d.animate=!1)}else"x"in d&&"y"in d||(d.x=g?f.width/4:f.width/2,d.y=f.height/2);if(e.silentZoom||this._trigger("willZoom",c,e.zoom)!=b.EVENT_PREVENTED){var i,j=this,k=e.zoom;e.options.viewer;var l=this.view(),m=parseFloat(Math.min(this.maxZoom(),Math.max(.1,c)),10),n=this._position(m);b.vendor+"transition";var o=void 0===d.animate?!0:d.animate,p=this.$el.offset(),q=e.options.viewer.offset(),r=this._size(m,!0),s=1/e.zoom*m,t=e.display==b.DISPLAY_DOUBLE&&e.options.autoCenter,u=b.point2D(Math.max(0,r.width-e.viewerWidth),Math.max(0,r.height-e.viewerHeight)),v=b.point2D(d.x*s-p.left-d.x,d.y*s-p.top-d.y);t&&!l[0]&&(v.x=v.x-f.width/2),v=b.point2D(Math.min(u.x,Math.max(0,v.x)),Math.min(u.y,Math.max(0,v.y))),g&&(n.left+=r.width/2);var w=b.point2D(q.left-p.left+Math.max(0,n.left),q.top-p.top+Math.max(0,n.top));t&&!l[0]&&(w.x-=r.width);var x=b.translate(w.x-v.x,w.y-v.y,!0)+b.scale(m,m,!0);if(this.stop(),this.disable(!0),this._cloneView(!0),o){if(k>m)for(i in e.pageWrap)e.pageWrap[i].css({visibility:"hidden"});e.silentZoom=!0;var y=f.width/e.zoomer.width();e.zoomer.css(b.addCssWithPrefix({"@transform-origin":"0% 0%","@transform":b.scale(y,y,!0)})),setTimeout(function(){e.zoomer.css(b.addCssWithPrefix({"@transition":"@transform 500ms ease-in-out","@transform":x}))},10),b.getTransitionEnd(e.zoomer,function(){e.finger||j.zoom(c,{animate:!1,x:d.x,y:d.y})})}else{var z=e.peel;if(e.zoomer.css(b.addCssWithPrefix({"@transition":"","@transform-origin":"0% 0%","@transform":x})),"factor"in d){if(k>m)for(i in e.pageWrap)e.pageWrap[i].css({visibility:"hidden"});e.zoomed=[c,{pageX:d.pageX,pageY:d.pageY,animate:!1}]}else{for(i in e.pageWrap)e.pageWrap[i].css({visibility:""});e.zoom=c,r=this._defaultSize(),r.width=r.width*m,r.height=r.height*m,e.zoom=m,e.silentZoom=!1,delete e.initScroll,delete e.initCursor,e.peel=null,this.display(r.display),this.size(r.width,r.height,e.options.autoScaleContent),this.scroll(v.x,v.y),1==m?(this.disable(!1),z&&this.peel(z.corner,z.x,z.y,!0)):e.peel=z,e.options.autoScaleContent&&this.scaleContent(m),e.zoomer.css(b.addCssWithPrefix({"@transform":b.translate(-1e4,0,!0)})),this.$el.trigger("zoomed",[m,k])}}}return this.$el},n.prototype.scaleContent=function(a){for(var b=this._data,c=this.view(),d=0;d<c.length;d++)c[d]&&b.pageObjs[c[d]].transform("scale("+a+")","0% 0%")},n.prototype._position=function(a){var b=this._data,c=a||b.zoom,d=a?this._size(a):this.size(),e={top:0,left:0};if(b.options.responsive&&(e.top=b.viewerHeight/2-d.height/2,e.left=b.viewerWidth/2-d.width/2,1==c)){var f=b.margin;(e.top<f[0]||e.top+d.height>b.viewerHeight-f[2])&&(e.top=f[0]),(e.left<f[1]||e.left+d.width>b.viewerWidth-f[3])&&(e.left=f[3])}return e},n.prototype.toggleZoom=function(a){var b=this._data;1==b.zoom?this.zoomIn(a):this.zoomOut(a)},n.prototype._cloneView=function(c){var d=this._data;if(d.zoomer)c?d.zoomer.show():(d.zoomer.remove(),delete d.zoomer);else if(c){var e,f,g,h=this.view(),i={},j=a("<div />");j.css(b.addCssWithPrefix({"@transform-origin":"0% 0%"})),j.css({position:"absolute",top:0,left:0,"z-index":10,width:this.$el.width(),height:this.$el.height()});for(var k=0;k<h.length;k++)h[k]&&(i[h[k]]=1);for(g in d.pageWrap)b.has(g,d.pageWrap)&&this._isCoverPageVisible(g)&&(i[g]=1);for(g in i)b.has(g,i)&&(e=this._pageSize(g,!0),e.position="absolute",e.zIndex=d.pageWrap[g].css("z-index"),f=d.pageObjs[g].clone(),f.css(e),f.appendTo(j));j.appendTo(this.$el),d.zoomer=j}},q.prototype._pageCURL=function(a){var c,d,e,f,g,h,i,j,k,l,m,n,q,r=this.$el.data("f"),s=r.turnData,t=this.$el.width(),u=this.$el.height(),v=this,w=0,x=b.point2D(0,0),y=b.point2D(0,0),z=b.point2D(0,0),A=(this._foldingPage(),s.options.acceleration),B=r.clip.height(),C=function(){c=v._startPoint(a.corner);var j,k=t-c.x-a.x,l=c.y-a.y,m=Math.atan2(l,k),n=Math.sqrt(k*k+l*l),q=b.point2D(t-c.x-Math.cos(m)*t,c.y-Math.sin(m)*t);n>t&&(a.x=q.x,a.y=q.y);var r=b.point2D(0,0),A=b.point2D(0,0);if(r.x=c.x?c.x-a.x:a.x,r.y=b.hasRotation?c.y?c.y-a.y:a.y:0,A.x=e?t-r.x/2:a.x+r.x/2,A.y=r.y/2,m=o-Math.atan2(r.y,r.x),j=m-Math.atan2(A.y,A.x),n=Math.sin(j)*Math.sqrt(A.x*A.x+A.y*A.y),z=b.point2D(n*Math.sin(m),n*Math.cos(m)),m>o){if(z.x=z.x+Math.abs(z.y*r.y/r.x),z.y=0,Math.round(z.x*Math.tan(p-m))<u)return a.y=Math.sqrt(Math.pow(u,2)+2*A.x*r.x),d&&(a.y=u-a.y),C();var D=p-m,E=B-u/Math.sin(D);x=b.point2D(Math.round(E*Math.cos(D)),Math.round(E*Math.sin(D))),e&&(x.x=-x.x),d&&(x.y=-x.y)}w=Math.round(100*b.deg(m))/100,f=Math.round(z.y/Math.tan(m)+z.x);var F=t-f,G=Math.min(u,F*Math.tan(m));0>G&&(G=u);var H=F*Math.cos(2*m),I=F*Math.sin(2*m);if(y=b.point2D(Math.round(e?F-H:f+H),Math.round(d?I:u-I)),s.options.gradients){var J=v._endPoint(a.corner);i=Math.sqrt(Math.pow(J.x-a.x,2)+Math.pow(J.y-a.y,2))/t,g=Math.min(100,F*Math.sin(m)),h=1.3*Math.min(F,G)}return z.x=Math.round(z.x),z.y=Math.round(z.y),!0},D=function(a,c,j,k){var l=["0","auto"],m=(t-B)*j[0]/100,n=(u-B)*j[1]/100,o={left:l[c[0]],top:l[c[1]],right:l[c[2]],bottom:l[c[3]]},p=90!=k&&-90!=k?e?-1:1:0,q=j[0]+"% "+j[1]+"%",v=s.pages[r.over].data("f"),w=r.clip.parent().position().left-s.pageWrap[r.over].position().left;if(r.ipage.css(o).transform(b.rotate(k)+b.translate(a.x+p,a.y,A),q),v.ipage.css(o).transform(b.rotate(k)+b.translate(a.x+y.x-x.x-t*j[0]/100,a.y+y.y-x.y-u*j[1]/100,A)+b.rotate(Math.round(100*(180/k-2)*k)/100),q),r.clip.transform(b.translate(-a.x+m-p,-a.y+n,A)+b.rotate(-k),q),v.clip.transform(b.translate(w-a.x+x.x+m,-a.y+x.y+n,A)+b.rotate(-k),q),s.options.gradients){var z,C,D;d?e?(C=k-90,D=f-50,g=-g,z="50% 25%"):(C=k-270,D=t-f-50,z="50% 25%"):e?(D=f-50,C=k-270,g=-g,z="50% 75%"):(D=t-f-50,C=k-90,z="50% 75%");var E=Math.max(.5,2-i);E>1&&(E=E>=1.7?(2-E)/.3:1),v.igradient.css({opacity:Math.round(100*E)/100}).transform(b.translate(D,0,A)+b.rotate(C)+b.scale(g/100,1,A),z),d?e?(C=-270-k,h=-h,D=t-f-20,z="20% 25%"):(C=-90-k,D=f-20,z="20% 25%"):e?(C=-90-k,D=t-f-20,h=-h,z="20% 75%"):(C=90-k,D=f-20,z="20% 75%"),E=.3>i?i/.3:1,r.ogradient.css({opacity:Math.round(100*E)/100}).transform(b.translate(D,0,A)+b.rotate(C)+b.scale(-h/100,1,A),z)}};switch(r.point=b.peelingPoint(a.corner,a.x,a.y),a.corner){case"l":m=a.y-r.startPoint.y,n=a.x,q=Math.atan2(m,n),q>0?(j=r.startPoint.y,k=Math.sqrt(n*n+m*m),l=2*j*Math.sin(q)+k,a.x=l*Math.cos(q),a.y=l*Math.sin(q),a.corner="tl",e=!0,d=!0,C(),D(z,[1,0,0,1],[100,0],w)):(q=-q,j=u-r.startPoint.y,k=Math.sqrt(n*n+m*m),l=2*j*Math.cos(o-q)+k,a.x=l*Math.cos(q),a.y=u-l*Math.sin(q),a.corner="bl",e=!0,C(),D(b.point2D(z.x,-z.y),[1,1,0,0],[100,100],-w));break;case"r":m=r.startPoint.y-a.y,n=t-a.x,q=Math.atan2(m,n),0>q?(j=r.startPoint.y,q=-q,k=Math.sqrt(n*n+m*m),l=2*j*Math.sin(q)+k,a.x=t-l*Math.cos(q),a.y=l*Math.sin(q),a.corner="tr",d=!0,C(),D(b.point2D(-z.x,z.y),[0,0,0,1],[0,0],-w)):(j=u-r.startPoint.y,k=Math.sqrt(n*n+m*m),l=2*j*Math.cos(o-q)+k,a.x=t-l*Math.cos(q),a.y=u-l*Math.sin(q),a.corner="br",C(),D(b.point2D(-z.x,-z.y),[0,1,1,0],[0,100],w));break;case"tl":d=!0,e=!0,a.x=Math.max(a.x,1),r.point.x=a.x,c=this._startPoint("tl"),C(),D(z,[1,0,0,1],[100,0],w);break;case"tr":d=!0,a.x=Math.min(a.x,t-1),r.point.x=a.x,C(),D(b.point2D(-z.x,z.y),[0,0,0,1],[0,0],-w);break;case"bl":e=!0,a.x=Math.max(a.x,1),r.point.x=a.x,C(),D(b.point2D(z.x,-z.y),[1,1,0,0],[100,100],-w);break;case"br":a.x=Math.min(a.x,t-1),r.point.x=a.x,C(),D(b.point2D(-z.x,-z.y),[0,1,1,0],[0,100],w)}},q.prototype._hardSingle=function(a){var c,d=this.$el.data("f"),e=d.turnData;c=this.$el.hasClass("cover")?d.next:0;var f=d.page,g=e.pages[c].data("f"),h=this.$el.width();this.$el.height();var i=("l"==a.corner,this._startPoint(a.corner)),j=e.totalPages,k=d["z-index"]||j,l=i.x?(i.x-a.x)/h:a.x/h,m=90*-l,n=180+m,o=1>l;console.log(a.corner),d.ipage.css(b.addCssWithPrefix({"@transform":"rotateY("+m+"deg) translate3d(0px, 0px, "+(this.$el.attr("depth")||0)+"px)","@transform-origin":"0% 50%"})),e.pageWrap[f].css(b.addCssWithPrefix({overflow:"visible","@perspective-origin":"0% 50%"})),g.ipage.css(b.addCssWithPrefix({"@transform":"rotateY("+n+"deg)","@transform-origin":"100% 50%"})),e.pageWrap[c].css(b.addCssWithPrefix({overflow:"visible","@perspective-origin":"100% 50%"})),o?(l=-l+1,d.ipage.css({zIndex:k+1}),g.ipage.css({zIndex:k})):(l-=1,d.ipage.css({zIndex:k}),g.ipage.css({zIndex:k+1})),d.point=b.peelingPoint(a.corner,a.x,a.y)},q.prototype._hardDouble=function(a){var c=this.$el.data("f"),d=c.turnData,e=this.$el.width();this.$el.height();var f,g,h,i,j,k,l,m="l"==a.corner,n=this._startPoint(a.corner),o=d.totalPages,p=c["z-index"]||o,q={overflow:"visible"};a.x=m?Math.min(Math.max(a.x,0),2*e):Math.max(Math.min(a.x,e),-e);var r=n.x?(n.x-a.x)/e:a.x/e,s=90*r,t=90>s,u=c.next,v=d.pages[u].data("f");if(m?(i="0% 50%",j="100% 50%",t?(f=0,k=c.next-1,g=k>0,l=c.page,h=1):(f="100%",k=c.page+1,g=o>k,l=c.next,h=0)):(i="100% 50%",j="0% 50%",s=-s,e=-e,t?(f=0,k=c.next+1,l=c.page,g=o>k,h=0):(f="-100%",k=c.page-1,l=c.next,g=k>0,h=1)),q[b.vendor+"perspective-origin"]=j,d.pageWrap[c.page].css(q),c.ipage.transform("rotateY("+s+"deg)"+"translate3d(0px, 0px, "+(this.$el.attr("depth")||0)+"px)",j),d.pageWrap[u].css(b.addCssWithPrefix({overflow:"visible","@perspective-origin":i})),v.ipage.transform("rotateY("+(180+s)+"deg)",i),t?(r=-r+1,c.ipage.css({zIndex:p+1}),v.ipage.css({zIndex:p})):(r-=1,c.ipage.css({zIndex:p}),v.ipage.css({zIndex:p+1})),d.options.gradients){if(g){var w=d.pages[k].data("f");c.ogradient.parent()[0]!=w.ipage[0]&&c.ogradient.appendTo(w.ipage),c.ogradient.css({left:f,backgroundColor:"black",opacity:.5*r}).transform("rotateY(0deg)")}else c.ogradient.css({opacity:0});var x=d.pages[l].data("f");c.igradient.parent()[0]!=x.ipage[0]&&c.igradient.appendTo(x.ipage),c.igradient.css({opacity:-r+1}),b.gradient(c.igradient,b.point2D(100*h,0),b.point2D(100*(-h+1),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2)}c.point=b.peelingPoint(a.corner,a.x,a.y)},q.prototype._hard=function(a){this.$el.data("f").turnData.display==b.DISPLAY_SINGLE?this._hardSingle(a):this._hardDouble(a)},b.widgetFactory("turn",n),b.widgetFactory("flip",q);var r=b.UIComponent(function(c){var d=this._data;d.options=a.extend({min:0,max:100,step:1,value:0,style:"horizontal"},c),d.disabled=c.disabled===!0,"vertical"==d.options.style?d.verticalStyle=!0:"horizontal"==d.options.style&&(d.verticalStyle=!1),this.$el.on("vmousedown",a.proxy(this,"_eventPress")),this.value(this._data.options.value),b.addDelegateList(c.delegate,this.$el)});r.prototype.value=function(a,c){var d=this._data;if(void 0===a)return d.value;var e;if(a=Math.min(d.options.max,Math.max(d.options.min,a)),a=Math.round(a/d.options.step),a*=d.options.step,d.pressed)a!=d.pvalue&&(c||this._trigger("slide",a)!=b.EVENT_PREVENTED)&&(e=100*((a-d.options.min)/(d.options.max-d.options.min)),d.verticalStyle?this.$el.find(".progress").height(e+"%"):this.$el.find(".progress").width(e+"%"),d.pvalue=a);else if(a!=d.value){var f=c?!0:this._trigger("changeValue",a)!=b.EVENT_PREVENTED;f?(e=100*((a-d.options.min)/(d.options.max-d.options.min)),d.value=a):e=100*((d.value-d.options.min)/(d.options.max-d.options.min)),d.verticalStyle?this.$el.find(".progress").height(e+"%"):this.$el.find(".progress").width(e+"%")}else c||this._trigger("valueUnchanged");return this.$el},r.prototype._percentToValue=function(a){var b=this._data;return a*(b.options.max-b.options.min)+b.options.min},r.prototype._eventPress=function(c){var d,e,f=this._data,g=this.$el.find(".progress").parent();f.pressed=!0,f.pvalue=null,f.verticalStyle?(d=b.eventPoint(c).y-g.offset().top,this.$el.addClass("changing"),e=g.height()):(d=b.eventPoint(c).x-g.offset().left,this.$el.addClass("changing"),e=g.width()),this.value(this._percentToValue(d/e)),a(document).on("vmousemove",a.proxy(this,"_eventMoving")),a(document).on("vmouseup",a.proxy(this,"_eventRelease")),c.preventDefault()},r.prototype._eventMoving=function(a){var c,d=this._data;if(d.pressed&&!d.disabled){var e=this.$el.find(".progress").parent();if(d.verticalStyle?(d.offset=b.eventPoint(a).y-e.offset().top,c=e.height()):(d.offset=b.eventPoint(a).x-e.offset().left,c=e.width()),!d.animationScheduled){var f=this;d.animationScheduled=!0,window.requestAnimationFrame(function(){d.animationScheduled=!1,f.value(f._percentToValue(d.offset/c))})}}},r.prototype._eventRelease=function(){var b=this._data;b.pressed=!1,this._trigger("released"),b.pvalue?this.value(b.pvalue):this._trigger("valueUnchanged"),b.pvalue=null,this.$el.removeClass("changing"),a(document).off("vmousemove",this._eventMoving),a(document).off("vmouseup",this._eventRelease)},r.prototype.options=function(b){var c=this._data;return void 0===b?c.options:(c.options=a.extend(c.options,b),void 0)},r.prototype.increase=function(){var a=this._data;this.value(a.value+a.options.step)},r.prototype.decrease=function(){var a=this._data;this.value(a.value-a.options.step)},r.prototype.style=function(a){var b=this._data,c=b.value;"vertical"==a?(this.$el.find(".progress").css({width:""}),b.verticalStyle=!0):"horizontal"==a&&(this.$el.find(".progress").css({height:""}),b.verticalStyle=!1),b.value=null,this.value(c,!0)},r.prototype.disable=function(a){this._data.disabled=a===!0},r.prototype.isUserInteracting=function(){return this._data.pressed===!0},b.widgetFactory("slider",r);var s=b.UIComponent(function(c){if(!c.flipbook)throw b.turnError("Miniatures: Flipbook required");var d=this._data;d.pages=[],d.reusablePages=[],d.listenToFlipbook=!0,d.focusedPage=0,d.offsetX=0,d.hasListeners=!1,d.options=a.extend({pageMargin:10,duration:500},c),d.$flipbook=a(c.flipbook),d.$container=a("<div />",{"class":"container"}),d.$pageNumber=a("<div />",{"class":"page-number"}),d.$container.appendTo(this.$el),d.$pageNumber.appendTo(this.$el),b.addDelegateList(c.delegate,this.$el),this._setValues(),d.disabled=c.disabled,this._addMiniature(),this._update(d.$flipbook.turn("page")),this._eventDelegation(),d.$flipbook.on("turned",a.proxy(this,"_eventPageTurned")),d.$flipbook.on("changeDisplay",a.proxy(this,"_eventChangeDisplay")),d.done=!0});s.prototype._addMiniature=function(b){b=b||-1e3;var c=this._data,d=a("<div />",{css:{position:"absolute",left:"0px",top:"0px",width:c.pageWidth,height:c.pageHeight},"class":"ui-page"}).html('<div class="page-img"></div>'),e={pageNum:null,x:b,$el:d};return c.$container.append(d),c.pages.push(e),e},s.prototype._findPage=function(a){for(var b=this._data,c=0;c<b.pages.length;c++)if(b.pages[c].pageNum==a)return b.pages[c];return null},s.prototype._update=function(a,b){var c,d,e=this._data,f=a-1,g=!0;if(!(e.focusedPage==a&&e.done&&!b||1>a||a>e.$flipbook.turn("pages")||(e.prevFocusedPage=e.focusedPage,e.focusedPage=a,e.disabled))){for(e.focusedView=e.$flipbook.turn("view",e.focusedPage,!0),this._updateQueueReusablePages(),e.$pageNumber.html(e.focusedView.join("-"));this._isPageVisible(f);)c=this._findPage(f)||this._reusablePage(),null===c&&(c=this._addMiniature()),this._updatePage(f,c,!0),f--,g=!1;for(f=a;(d=this._isPageVisible(f))||g&&f<=e.totalPages;)d&&(c=this._findPage(f)||this._reusablePage(),null===c&&(c=this._addMiniature()),this._updatePage(f,c,!0),g=!1),f++}},s.prototype._updateQueueReusablePages=function(){for(var a,b=this._data,c=0;c<b.pages.length;c++)a=b.pages[c],null!==a.pageNum&&this._isPageVisible(a.pageNum,b.focusedPage)||(this._updatePage(a.pageNum,a,!0),this._isReusablePage(a)||b.reusablePages.push(a))},s.prototype._isReusablePage=function(a){for(var b=this._data,c=0;c<b.reusablePages.length;c++)if(a==b.reusablePages[c])return!0;return!1},s.prototype._updatePage=function(b,c,d){var e=this,f=this._data,g=c.$el;if(null===b)this._updatePageX(c,-1e3);else{var h=this._getPageOffsetLeft(b);d&&b!=c.pageNum?(g.removeClass("animated-page"),this._updatePageX(c,this._getPageOffsetLeft(b,f.prevFocusedPage)),setTimeout(function(){g.addClass("animated-page"),e._updatePageX(c,h)},0)):(d&&f.done?g.addClass("animated-page"):g.removeClass("animated-page"),this._updatePageX(c,h)),-1!=a.inArray(b,f.focusedView)?g.addClass("focused-page"):g.removeClass("focused-page");var i=f.$flipbook.turn("view",b,!0);g.removeClass("left-page right-page single-page"),2==i.length?i[0]==b?g.addClass("left-page"):g.addClass("right-page"):g.addClass("single-page"),b!=c.pageNum&&(c.pageNum=b,g.attr("page",b),this._trigger("refreshPicture",b,g.find(".page-img")))}},s.prototype._updatePageX=function(a,c){a.x=c,a.$el.css(b.addCssWithPrefix({"@transform":"translate3d("+c+"px, 0px, 0px)"}))},s.prototype._getPageOffsetLeft=function(a,b){var c,d,e=this._data,f="single"==e.$flipbook.turn("display");if(b=b||e.focusedPage,f)return e.scrollerWidth/2-e.pageWidth/2+(a-b)*(e.pageWidth+e.pageMargin)+e.offsetX;var g,h,i=e.$flipbook.turn("view",b,!0),j=b==a?i:e.$flipbook.turn("view",a,!0),k=e.scrollerWidth/2-i.length*e.pageWidth/2;if(a>=b){for(g=i[i.length-1],h=j[0]-1,c=g;h>=c;)d=e.$flipbook.turn("view",c,!0),k+=d.length*e.pageWidth+e.pageMargin,c=d[d.length-1]+1;return a==j[0]?k+e.offsetX:k+e.pageWidth+e.offsetX}for(g=i[0]-1,h=j[j.length-1],c=g;c>=h;)d=e.$flipbook.turn("view",c,!0),k-=d.length*e.pageWidth+e.pageMargin,c=d[0]-1;return a==j[0]?k+e.offsetX:k+e.pageWidth+e.offsetX},s.prototype._isPageVisible=function(a){var b=this._data;if(null===a||1>a||a>b.totalPages)return!1;var c=b.focusedPage,d=this._getPageOffsetLeft(a);return a>c?d<b.scrollerWidth:d+b.pageWidth>0},s.prototype._reusablePage=function(){return this._data.reusablePages.length>2?this._data.reusablePages.shift():null},s.prototype._setValues=function(){var a=this._data;if(!a.disabled){var b=a.$flipbook.turn("size");b.width=b.width/a.$flipbook.turn("view").length,a.scrollerWidth=a.$container.width(),a.pageHeight=a.$container.height(),a.pageWidth=Math.round(a.pageHeight*(b.width/b.height)),a.pageMargin=50,a.totalPages=a.$flipbook.turn("pages")}},s.prototype._eventResize=function(){this.refresh()},s.prototype._eventDelegation=function(b){var c=this._data;b?c.disabled||c.hasListeners||(c.hasListeners=!0,a(window).on("resize",a.proxy(this,"_eventResize")),this.$el.on("tap",".ui-page",a.proxy(this,"_eventTap")),this.$el.on("vmousedown",a.proxy(this,"_eventPress"))):(c.hasListeners=!1,a(window).off("resize",this._eventResize),this.$el.off("tap",this._eventTap),this.$el.off("vmousedown",this._eventPress))},s.prototype._eventPageTurned=function(a,b){var c=this._data;c.listenToFlipbook&&(c.offsetX=0,this._update(b))},s.prototype._eventChangeDisplay=function(){this._data.forceRefresh=!0},s.prototype._eventTap=function(b){var c,d=this._data,e=a(b.currentTarget);!d.moving&&(c=e.attr("page"))&&d.$flipbook.turn("page",c)},s.prototype._eventPress=function(b){var c=this._data;return this.animation&&this.animation.stop(),a(document).on("vmousemove",a.proxy(this,"_eventMove")).on("vmouseup",a.proxy(this,"_eventRelease")),c.x1=b.pageX,c.x2=c.x1,c.dxDistance=0,c.timeStamp1=b.timeStamp,c.timeStamp2=b.timeStamp,!1},s.prototype._eventMove=function(a){var b=this._data;b.offsetX=b.offsetX+b.x2-b.x1,b.done=!1,this._update(b.focusedPage,!0),b.done=!0,b.moving=!0,b.x1=b.x2,b.x2=a.pageX,b.timeStamp1=b.timeStamp2,b.timeStamp2=a.timeStamp},s.prototype._eventRelease=function(){var c=this._data;if(a(document).off("vmousemove",this._eventMove).off("vmouseup",this._eventRelease),c.moving){var d=c.offsetX;c.offsetX=0;var e=this._getPageOffsetLeft(1,1),f=this._getPageOffsetLeft(c.$flipbook.turn("pages"),1),g=this._getPageOffsetLeft(c.focusedPage,1),h=g-d;if(e>h)c.offsetX=g-e,this._update(c.focusedPage,!0);else if(h>f)c.offsetX=g-f,this._update(c.focusedPage,!0);else{var i=this,j=c.timeStamp2-c.timeStamp1,k=c.x2-c.x1,l=this._momentum(k,j,g-e-d,g-f-d,1);c.offsetX=d,b.animate(this,{from:[0],to:[l.dist],duration:l.time,frame:function(a){c.offsetX=d+a[0],c.done=!1,i._update(c.focusedPage,!0),c.done=!0}})}}setTimeout(function(){c.moving=!1},1)},s.prototype.page=function(a){this.animation&&this.animation.stop();var b=this._data;return b.offsetX=0,this._update(a),b.forceRefresh=!1,this.$el},s.prototype.refresh=function(){var a=this._data;return a.done=!1,this._setValues(),this._update(a.focusedPage||a.$flipbook.turn("page"),!0),a.done=!0,a.forceRefresh=!1,this.$el},s.prototype.disable=function(a){var b=this._data;return b.disabled=a===!0,b.disabled?this._eventDelegation(!1):this._eventDelegation(!0),this.$el},s.prototype.listenToFlipbook=function(a){this._data.listenToFlipbook=a},s.prototype._momentum=function(a,b,c,d){var e=.002,f=Math.min(Math.abs(a)/b,1.5),g=f*f/(2*e);return g*=0>a?-1:1,a>0&&g>c?(g=c,f=f*c/g):0>a&&d>g&&(g=d,f=f*d/g),{dist:g,time:Math.round(f/e)}},b.widgetFactory("miniatures",s);var t=b.UIComponent(function(c){var d=this._data;return d.options=a.extend({selector:".show-hint",className:"ui-tooltip",positions:"bottom,top,left,right"},c),this._eventDelegation(!0),b.addDelegateList(c.delegate,this.$el),this.$el});t.prototype._eventDelegation=function(b){b?(this.$el.on("vmouseover",this._data.options.selector,a.proxy(this,"_eventHover")),this.$el.on("vmouseout",this._data.options.selector,a.proxy(this,"_eventNoHover"))):(this.$el.off("vmouseover",this._eventHover),this.$el.off("vmouseout",this._eventNoHover))},t.prototype._eventHover=function(b){this._showHint(a(b.currentTarget))},t.prototype._eventNoHover=function(b){$cTarget=a(b.currentTarget),$cTarget.hasClass("has-hint")&&this._hideHint($cTarget)},t.prototype._showHint=function(c){var d=c.attr("title")||c.attr("v-title");if(d&&""!==d){var e=this._data,f=e.options.className;if(this._trigger("willShowHint",c)==b.EVENT_PREVENTED)return;e.$currentTarget&&(e.$currentTarget.removeClass("has-hint"),e.$currentTarget=null),e.$tooltip||(e.$tooltip=a("<div />",{"class":f}),e.$tooltip.hide(),e.$tooltip.appendTo(a("body"))),e.$tooltip.html(d),e.isTooltipVisible||e.$tooltip.css({visibility:"hidden",display:""});var g=e.$tooltip.width()+parseInt(e.$tooltip.css("padding-left"),10)+parseInt(e.$tooltip.css("padding-right"),10),h=e.$tooltip.height()+parseInt(e.$tooltip.css("padding-top"),10)+parseInt(e.$tooltip.css("padding-bottom"),10);e.isTooltipVisible||e.$tooltip.css({display:"none",visibility:""});for(var i,j=c.offset(),k=c.width(),l=c.height(),m=a(window).width(),n=a(window).height(),o={x:0,y:0},p=e.options.positions.split(","),q=0;q<p.length;q++){switch(p[q]){case"top":o.x=j.left+k/2-g/2,o.y=j.top-h,i="ui-tooltip-top";break;case"bottom":o.x=j.left+k/2-g/2,o.y=j.top+l,i="ui-tooltip-bottom";break;case"left":o.x=j.left-g,o.y=j.top+l/2-h/2,i="ui-tooltip-left";break;case"right":o.x=j.left+k,o.y=j.top+l/2-h/2,i="ui-tooltip-right"}if(o.x>=0&&o.x+g<=m&&o.y>=0&&o.y+h<=n)break}e.$tooltip.css({top:o.y,left:o.x}),e.$tooltip.show(),setTimeout(function(){e.$tooltip.attr("class",e.options.className+" ui-tooltip-visible "+i)},1),c.addClass("has-hint"),e.isTooltipVisible=!0,""!==c.attr("title")&&(c.attr("v-title",d),c.removeAttr("title")),e.$currentTarget=c,e.hideTimeHandler&&clearInterval(e.hideTimeHandler)}},t.prototype._hideHint=function(a){var b=this._data;b.hideTimeHandler=setTimeout(function(){b.isTooltipVisible=!1,b.$currentTarget=null,a.removeClass("has-hint"),b.$tooltip.removeClass("ui-tooltip-visible"),setTimeout(function(){b.isTooltipVisible||b.$tooltip.hide()},200)},100)},t.prototype.hide=function(){var a=this._data;a.isTooltipVisible&&(a.isTooltipVisible=!1,a.$currentTarget.removeClass("has-hint"),a.$tooltip.removeClass("ui-tooltip-visible"),a.$tooltip.hide(),a.$currentTarget=null)},t.prototype.options=function(b){return void 0===b?this._data.options:(this._data.options=a.extend(this._data.options,b),this.$el)},b.widgetFactory("tooltips",t);var u=b.UIComponent(function(c){var d=this._data;d.$items=[],d.selectedItem=null,d.options=a.extend({itemCount:0},c),b.addDelegateList(c.delegate,this.$el),this._createDom(),this._eventDelegation(),this._addItems()});u.prototype._createDom=function(){this.$el.addClass("ui-menu"),this.$el.html('<div class="ui-menu-wrapper"></div>')},u.prototype._eventDelegation=function(){this.$el.on("vmousedown",a.proxy(this,"_vmousedown")),this.$el.on("vmouseover",".ui-menu-item",a.proxy(this,"_vmouseoverItem")),this.$el.on("vmouseout",".ui-menu-item",a.proxy(this,"_vmouseoutItem")),this.$el.on("tap",".ui-menu-item",a.proxy(this,"_tapItem"))},u.prototype._addItems=function(){for(var a=this._data,b=0;b<a.options.itemCount;b++)this._trigger("itemRequested",b)},u.prototype.addTextItem=function(b){var c=this.$el.find(".ui-menu-wrapper");$item=a("<div />",{"class":"ui-menu-item",item:this._data.$items.length}),a("<div />",{"class":"ui-menu-item-desc"}).html(b).appendTo($item),$item.appendTo(c),this._data.$items.push($item)},u.prototype._vmousedown=function(a){a.stopPropagation()},u.prototype._vmouseoverItem=function(b){a(b.currentTarget).addClass("ui-menu-item-hover")},u.prototype._vmouseoutItem=function(b){a(b.currentTarget).removeClass("ui-menu-item-hover")},u.prototype._tapItem=function(b){var c=a(b.currentTarget).attr("item");this.selectItem(parseInt(c,10))},u.prototype._getContentSize=function(a){var b=this.$el.find(".ui-menu-wrapper");this.$el.css({top:"0px",left:"-10000px",display:"block"});var c={width:b.width(),height:b.height()};return a||this.$el.hide(),c},u.prototype.selectItem=function(a,c){var d=this._data;return 0>a||a>=d.$items.length?!1:c||this._trigger("itemSelected",a)!=b.EVENT_PREVENTED?(null!==d.selectedItem&&d.$items[d.selectedItem].removeClass("ui-selected-item"),d.selectedItem=a,d.$items[a].addClass("ui-selected-item"),this.$el):!1},u.prototype.clearSelection=function(){var a=this._data;return null!==a.selectedItem&&a.$items[a.selectedItem].removeClass("ui-selected-item"),a.selectedItem=null,this.$el},u.prototype.showRelativeTo=function(a){var b=this._data;0===b.$items.length&&this._addItems();var c=this._getContentSize(),d=a.offset();return this.show({left:d.left+a.width()/2-c.width/2,top:d.top-c.height}),this.$el},u.prototype.show=function(b){var c=this;return this.$el.css({left:"left"in b?b.left:"auto",top:"top"in b?b.top:"auto",right:"right"in b?b.right:"auto",bottom:"bottom"in b?b.bottom:"auto",display:"block"}),setTimeout(function(){c.$el.addClass("ui-menu-visible")},1),a(document).one("vmousedown",a.proxy(this,"hide")),this.$el},u.prototype.hide=function(){var b=this;return a(document).off("vmousedown",this.hide),this.$el.removeClass("ui-menu-visible"),setTimeout(function(){b.$el.hasClass("ui-menu-visible")||b.$el.hide()},500),this.$el},u.prototype.clear=function(){var a=this._data;
    return a.$items=[],a.selectedItem=null,this.$el.find(".ui-menu-wrapper").children().remove(),this.$el},u.prototype.options=function(b){var c=this._data;return void 0===b?c.options:(c.options=a.extend(c.options,b),void 0)},b.widgetFactory("menu",u)}(jQuery);
/* Source: underscore-min.min.js */
//     http://underscorejs.org(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);
/* Source: zoom.min.js */
(function(f){function r(a,b){return a[0]==b[0]?!1:a.attr("page")?!0:a.parent()[0]?r(a.parent(),b):!1}function u(a){function b(a){this.name="TurnJsError";this.message=a}b.prototype=Error();b.prototype.constructor=b;return new b(a)}function t(a,b,d){return q&&d?" translate3d("+a+"px,"+b+"px, 0px) ":" translate("+a+"px, "+b+"px) "}function v(a,b){return q&&b?" scale3d("+a+", "+a+", 1) ":" scale("+a+") "}function h(a,b){return{x:a,y:b}}function m(a,b){return function(){return a.apply(b,arguments)}}var q,
w={max:2,flipbook:null,easeFunction:"ease-in-out",duration:500,when:{}},j={init:function(a){var b=this,d=this.data(),a=f.extend({},w,a);if(!a.flipbook||!a.flipbook.turn("is"))throw u("options.flipbook is required");q="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style;if("function"!=typeof a.max){var e=a.max;a.max=function(){return e}}d.zoom={opts:a,axis:h(0,0),scrollPos:h(0,0),eventQueue:[],mouseupEvent:function(){return j._eMouseUp.apply(b,arguments)},eventTouchStart:m(j._eTouchStart,
b),eventTouchMove:m(j._eTouchMove,b),eventTouchEnd:m(j._eTouchEnd,b),flipbookEvents:{zooming:m(j._eZoom,b),pressed:m(j._ePressed,b),released:m(j._eReleased,b),start:m(j._eStart,b),turning:m(j._eTurning,b),turned:m(j._eTurned,b),destroying:m(j._eDestroying,b)}};for(var c in a.when)Object.prototype.hasOwnProperty.call(a.when,c)&&this.bind("zoom."+c,a.when[c]);for(c in d.zoom.flipbookEvents)Object.prototype.hasOwnProperty.call(d.zoom.flipbookEvents,c)&&a.flipbook.bind(c,d.zoom.flipbookEvents[c]);this.css({position:"relative",
overflow:"hidden"});f.isTouch?(a.flipbook.bind("touchstart",d.zoom.eventTouchStart).bind("touchmove",d.zoom.eventTouchMove).bind("touchend",d.zoom.eventTouchEnd),this.bind("touchstart",j._tap)):this.mousedown(j._mousedown).click(j._tap)},_tap:function(a){var b=f(this),d=b.data().zoom;!d.draggingCorner&&!d.dragging&&r(f(a.target),b)&&(j._addEvent.call(b,"tap",a),(a=j._eventSeq.call(b))&&b.trigger(a))},_addEvent:function(a,b){var d=this.data().zoom,e=(new Date).getTime();d.eventQueue.push({name:a,timestamp:e,
event:b});10<d.eventQueue.length&&d.eventQueue.splice(0,1)},_eventSeq:function(){var a=this.data().zoom.eventQueue,b=a.length-1;if(0<b&&"tap"==a[b].name&&"tap"==a[b-1].name&&a[b].event.pageX==a[b-1].event.pageX&&a[b].event.pageY==a[b-1].event.pageY&&200>a[b].timestamp-a[b-1].timestamp&&50<a[b].timestamp-a[b-1].timestamp)return f.extend(a[b].event,{type:"zoom.doubleTap"});if("tap"==a[b].name)return f.extend(a[b].event,{type:"zoom.tap"})},_prepareZoom:function(){var a,b=0,d=this.data().zoom,e=1/this.zoom("value");
a=d.opts.flipbook;var c=a.turn("direction"),j=a.data(),l=a.offset(),i=this.offset(),g={height:a.height()},k=a.turn("view");"double"==a.turn("display")&&a.data().opts.autoCenter?k[0]?k[1]?(g.width=a.width(),a=h(l.left-i.left,l.top-i.top)):(g.width=a.width()/2,b="ltr"==c?0:g.width,a=h("ltr"==c?l.left-i.left:l.left-i.left+g.width,l.top-i.top)):(g.width=a.width()/2,b="ltr"==c?g.width:0,a=h("ltr"==c?l.left-i.left+g.width:l.left-i.left,l.top-i.top)):(g.width=a.width(),a=h(l.left-i.left,l.top-i.top));d.zoomer||
(d.zoomer=f("<div />",{"class":"zoomer",css:{overflow:"hidden",position:"absolute",zIndex:"1000000"}}).mousedown(function(){return!1}).appendTo(this));d.zoomer.css({top:a.y,left:a.x,width:g.width,height:g.height});c=k.join(",");if(c!=d.zoomerView){d.zoomerView=c;d.zoomer.find("*").remove();for(c=0;c<k.length;c++)if(k[c]){var i=j.pageObjs[k[c]].offset(),m=f(j.pageObjs[k[c]]);m.clone().transform("").css({width:m.width()*e,height:m.height()*e,position:"absolute",display:"",top:(i.top-l.top)*e,left:(i.left-
l.left-b)*e}).appendTo(d.zoomer)}}return{pos:a,size:g}},value:function(){return this.data().zoom.opts.flipbook.turn("zoom")},zoomIn:function(a){var b=this,d=this.data().zoom,e=d.opts.flipbook,c=d.opts.max();e.offset();var s=this.offset();if(d.zoomIn)return this;e.turn("stop");var l=f.Event("zoom.change");this.trigger(l,[c]);if(l.isDefaultPrevented())return this;var i=j._prepareZoom.call(this),g=i.pos,k=h(i.size.width/2,i.size.height/2),l=f.cssPrefix(),m=f.cssTransitionEnd(),q=e.data().opts.autoCenter;
d.scale=c;e.data().noCenter=!0;a="undefined"!=typeof a?"x"in a&&"y"in a?h(a.x-g.x,a.y-g.y):f.isTouch?h(a.originalEvent.touches[0].pageX-g.x-s.left,a.originalEvent.touches[0].pageY-g.y-s.top):h(a.pageX-g.x-s.left,a.pageY-g.y-s.top):h(k.x,k.y);if(0>a.x||0>a.y||a.x>i.width||a.y>i.height)a.x=k.x,a.y=k.y;var n=h((a.x-k.x)*c+k.x,(a.y-k.y)*c+k.y),a=h(i.size.width*c>this.width()?a.x-n.x:0,i.size.height*c>this.height()?a.y-n.y:0),n=h(Math.abs(i.size.width*c-this.width()),Math.abs(i.size.height*c-this.height())),
i=h(Math.min(0,i.size.width*c-this.width()),Math.min(0,i.size.height*c-this.height())),p=h(k.x*c-k.x-g.x-a.x,k.y*c-k.y-g.y-a.y);p.y>n.y?a.y=p.y-n.y+a.y:p.y<i.y&&(a.y=p.y-i.y+a.y);p.x>n.x?a.x=p.x-n.x+a.x:p.x<i.x&&(a.x=p.x-i.x+a.x);p=h(k.x*c-k.x-g.x-a.x,k.y*c-k.y-g.y-a.y);g={};g[l+"transition"]=l+"transform "+d.opts.easeFunction+" "+d.opts.duration+"ms";var r=function(){b.trigger("zoom.zoomIn");d.zoomIn=!0;d.flipPosition=h(e.css("left"),e.css("top"));e.turn("zoom",c).css({position:"absolute",margin:"",
top:0,left:0});var a=e.offset();d.axis=h(a.left-s.left,a.top-s.top);if(q&&"double"==e.turn("display")&&("ltr"==e.turn("direction")&&!e.turn("view")[0]||"rtl"==e.turn("direction")&&!e.turn("view")[1]))d.axis.x+=e.width()/2;b.zoom("scroll",p);b.bind(f.mouseEvents.down,j._eMouseDown);b.bind(f.mouseEvents.move,j._eMouseMove);f(document).bind(f.mouseEvents.up,d.mouseupEvent);b.bind("mousewheel",j._eMouseWheel);setTimeout(function(){d.zoomer.hide();d.zoomer.remove();d.zoomer=null;d.zoomerView=null},50)};
d.zoomer.css(g).show();m?d.zoomer.bind(m,function(){f(this).unbind(m);r()}):setTimeout(r,d.opts.duration);d.zoomer.transform(t(a.x,a.y,!0)+v(c,!0));return this},zoomOut:function(a){var b,d=this,e=this.data().zoom,c=e.opts.flipbook,m=1/e.scale,l=f.cssPrefix(),i=f.cssTransitionEnd();b=this.offset();a="undefined"!=typeof a?a:e.opts.duration;if(e.zoomIn){var g=f.Event("zoom.change");this.trigger(g,[1]);if(g.isDefaultPrevented())return this;e.zoomIn=!1;e.scale=1;c.data().noCenter=!1;d.unbind(f.mouseEvents.down,
j._eMouseDown);d.unbind(f.mouseEvents.move,j._eMouseMove);f(document).unbind(f.mouseEvents.up,e.mouseupEvent);d.unbind("mousewheel",j._eMouseWheel);g={};g[l+"transition"]=l+"transform "+e.opts.easeFunction+" "+a+"ms";c.css(g);var k=f("<div />",{css:{position:"relative",top:e.flipPosition.y,left:e.flipPosition.x,width:c.width()*m,height:c.height()*m,background:"blue"}}).appendTo(c.parent()),g=h(k.offset().left-b.left,k.offset().top-b.top);k.remove();var q=c.data().opts.autoCenter;q&&"double"==c.turn("display")&&
(c.turn("view")[0]?c.turn("view")[1]||(g.x="ltr"==c.turn("direction")?g.x+k.width()/4:g.x-k.width()/4):g.x="ltr"==c.turn("direction")?g.x-k.width()/4:g.x+k.width()/4);var r=f.findPos(c[0]);b=h(-c.width()/2-r.left+k.width()/2+g.x+b.left,-c.height()/2-r.top+k.height()/2+g.y+b.top);var n=function(){c[0].style.removeProperty?(c[0].style.removeProperty(l+"transition"),c.transform(c.turn("options").acceleration?t(0,0,!0):"").turn("zoom",1),c[0].style.removeProperty("margin"),c.css({position:"relative",
top:e.flipPosition.y,left:e.flipPosition.x})):c.transform("none").turn("zoom",1).css({margin:"",top:e.flipPosition.y,left:e.flipPosition.x,position:"relative"});q&&c.turn("center");d.trigger("zoom.zoomOut")};0===a?n():(i?c.bind(i,function(){f(this).unbind(i);n()}):setTimeout(n,a),c.transform(t(b.x,b.y,!0)+v(m,!0)));return this}},flipbookWidth:function(){var a=this.data().zoom.opts.flipbook,b=a.turn("view");return"double"==a.turn("display")&&(!b[0]||!b[1])?a.width()/2:a.width()},scroll:function(a,
b,d){var e=this.data().zoom,c=e.opts.flipbook,j=this.zoom("flipbookWidth"),l=f.cssPrefix();if(q){var i={};i[l+"transition"]=d?l+"transform 200ms":"none";c.css(i);c.transform(t(-e.axis.x-a.x,-e.axis.y-a.y,!0))}else c.css({top:-e.axis.y-a.y,left:-e.axis.x-a.x});if(!b){var g,b=h(Math.min(0,(j-this.width())/2),Math.min(0,(c.height()-this.height())/2)),c=h(j>this.width()?j-this.width():(j-this.width())/2,c.height()>this.height()?c.height()-this.height():(c.height()-this.height())/2);a.y<b.y?(a.y=b.y,g=
!0):a.y>c.y&&(a.y=c.y,g=!0);a.x<b.x?(a.x=b.x,g=!0):a.x>c.x&&(a.x=c.x,g=!0);g&&this.zoom("scroll",a,!0,!0)}e.scrollPos=h(a.x,a.y)},resize:function(){var a=this.data().zoom,b=a.opts.flipbook;if(1<this.zoom("value")){var d=b.offset(),e=this.offset();a.axis=h(d.left-e.left+(a.axis.x+a.scrollPos.x),d.top-e.top+(a.axis.y+a.scrollPos.y));"double"==b.turn("display")&&("ltr"==b.turn("direction")&&!b.turn("view")[0])&&(a.axis.x+=b.width()/2);this.zoom("scroll",a.scrollPos)}},_eZoom:function(){for(var a=this.data().zoom,
b=a.opts.flipbook,d=b.turn("view"),e=0;e<d.length;e++)d[e]&&this.trigger("zoom.resize",[a.scale,d[e],b.data().pageObjs[d[e]]])},_eStart:function(a){1!=this.zoom("value")&&a.preventDefault()},_eTurning:function(a,b,d){var e=this,a=this.zoom("value"),c=this.data().zoom,b=c.opts.flipbook;c.page=b.turn("page");if(1!=a){for(c=0;c<d.length;c++)d[c]&&this.trigger("zoom.resize",[a,d[c],b.data().pageObjs[d[c]]]);setTimeout(function(){e.zoom("resize")},0)}},_eTurned:function(a,b){if(1!=this.zoom("value")){var d=
this.data().zoom,e=d.opts.flipbook;b>d.page?this.zoom("scroll",h(0,d.scrollPos.y),!1,!0):b<d.page&&this.zoom("scroll",h(e.width(),d.scrollPos.y),!1,!0)}},_ePressed:function(){f(this).data().zoom.draggingCorner=!0},_eReleased:function(){var a=f(this).data().zoom;setTimeout(function(){a.draggingCorner=!1},1)},_eMouseDown:function(a){f(this).data().zoom.draggingCur=f.isTouch?h(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY):h(a.pageX,a.pageY);return!1},_eMouseMove:function(a){var b=
f(this).data().zoom;if(b.draggingCur){b.dragging=!0;var a=f.isTouch?h(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY):h(a.pageX,a.pageY),d=h(a.x-b.draggingCur.x,a.y-b.draggingCur.y);f(this).zoom("scroll",h(b.scrollPos.x-d.x,b.scrollPos.y-d.y),!0);b.draggingCur=a;return!1}},_eMouseUp:function(){var a=f(this).data().zoom;a.dragging&&f(this).zoom("scroll",a.scrollPos);a.draggingCur=null;setTimeout(function(){a.dragging=!1},1)},_eMouseWheel:function(a,b,d,e){a=f(this).data().zoom;d=
h(a.scrollPos.x+10*d,a.scrollPos.y-10*e);f(this).zoom("scroll",d,!1,!0)},_eTouchStart:function(a){var b=f(this).data().zoom,a=h(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY);b.touch={};b.touch.initial=a;b.touch.last=a;b.touch.timestamp=(new Date).getTime();b.touch.speed=h(0,0)},_eTouchMove:function(a){var b=f(this).data().zoom,d=f(this).zoom("value"),e=b.opts.flipbook,c=(new Date).getTime(),a=h(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY);b.touch&&(1==d&&
!e.data().mouseAction)&&(b.touch.motion=h(a.x-b.touch.last.x,a.y-b.touch.last.y),b.touch.speed.x=0===b.touch.speed.x?b.touch.motion.x/(c-b.touch.timestamp):(b.touch.speed.x+b.touch.motion.x/(c-b.touch.timestamp))/2,b.touch.last=a,b.touch.timestamp=c)},_eTouchEnd:function(){var a=f(this).data().zoom;if(a.touch&&1==f(this).zoom("value")){var b=Math.abs(a.touch.initial.y-a.touch.last.y);50>b&&(-1>a.touch.speed.x||-100>a.touch.last.x-a.touch.initial.x)?this.trigger("zoom.swipeLeft"):50>b&&(1<a.touch.speed.x||
100<a.touch.last.x-a.touch.initial.x)&&this.trigger("zoom.swipeRight")}},_eDestroying:function(){var a=this,b=this.data().zoom,d=b.opts.flipbook;this.zoom("zoomOut",0);f.each("tap doubleTap resize zoomIn zoomOut swipeLeft swipeRight".split(" "),function(b,d){a.unbind("zoom."+d)});for(var e in b.flipbookEvents)Object.prototype.hasOwnProperty.call(b.flipbookEvents,e)&&d.unbind(e,b.flipbookEvents[e]);d.unbind("touchstart",b.eventTouchStart).unbind("touchmove",b.eventTouchMove).unbind("touchend",b.eventTouchEnd);
this.unbind("touchstart",j._tap).unbind("click",j._tap);b=null;this.data().zoom=null}};f.extend(f.fn,{zoom:function(){var a=arguments;if(!a[0]||"object"==typeof a[0])return j.init.apply(f(this[0]),a);if(j[a[0]])return j[a[0]].apply(f(this[0]),Array.prototype.slice.call(a,1));throw u(a[0]+" is not a method");}})})(jQuery);

})();